import{_ as a,e}from"./app.2a01fc36.js";const s={},n=e(`<h2 id="_8-\u8C03\u5EA6\u5668-scheduler" tabindex="-1"><a class="header-anchor" href="#_8-\u8C03\u5EA6\u5668-scheduler" aria-hidden="true">#</a> 8. \u8C03\u5EA6\u5668\uFF08<code>Scheduler</code>\uFF09</h2><p>\u5982\u679C\u6211\u4EEC\u4E0D\u6307\u5B9A\u7EBF\u7A0B\uFF0C\u5219\u9ED8\u8BA4\u662F\u5728 <code>subscribe</code> \u65B9\u6CD5\u7684\u6267\u884C\u7EBF\u7A0B\u4E0A\u53D1\u5C04\u548C\u63A5\u6536\u6570\u636E\u9879\u4E0E\u4E8B\u4EF6\u3002</p><p>\u5982\u679C\u6211\u4EEC\u60F3\u8BA9\u53D1\u5C04\u548C\uFF08\u6216\uFF09\u63A5\u6536\u6570\u636E\u9879\u4E0E\u4E8B\u4EF6\u7684\u8FC7\u7A0B\u5728\u5B50\u7EBF\u7A0B\u4E0A\u6267\u884C\uFF0C\u5373\u8FDB\u884C\u5F02\u6B65\u64CD\u4F5C\uFF0C\u5219\u9700\u8981\u4F7F\u7528\u8C03\u5EA6\u5668\uFF08<code>Scheduler</code>\uFF09\u6765\u5207\u6362\u7EBF\u7A0B\u3002</p><h3 id="_8-1-\u8C03\u5EA6\u5668\u7684\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#_8-1-\u8C03\u5EA6\u5668\u7684\u5206\u7C7B" aria-hidden="true">#</a> 8.1 \u8C03\u5EA6\u5668\u7684\u5206\u7C7B</h3><h4 id="_8-1-1-schedulers-io" tabindex="-1"><a class="header-anchor" href="#_8-1-1-schedulers-io" aria-hidden="true">#</a> 8.1.1 <code>Schedulers.io()</code>\uFF1A</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Schedulers.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE IoScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u5728\u6B64\u8C03\u5EA6\u5668\uFF08<span class="token class-name">IoScheduler</span>\uFF09\u63A5\u6536\u5230\u4EFB\u52A1\u540E\uFF0C\u5148\u68C0\u67E5\u7EBF\u7A0B\u7F13\u5B58\u6C60\u4E2D\u662F\u5426\u6709\u7A7A\u95F2\u7684\u7EBF\u7A0B\uFF1A
\u5982\u679C\u6709\uFF0C\u5219\u590D\u7528\uFF1B
\u5982\u679C\u6CA1\u6709\uFF0C\u5219\u521B\u5EFA\u65B0\u7684\u7EBF\u7A0B\uFF0C\u5E76\u52A0\u5165\u5230\u7EBF\u7A0B\u7F13\u5B58\u6C60\u4E2D\u3002

\u6CE8\u610F\uFF1A
<span class="token number">1.</span> \u5982\u679C\u6BCF\u6B21\u90FD\u6CA1\u6709\u7A7A\u95F2\u7EBF\u7A0B\u4F7F\u7528\uFF0C\u53EF\u4EE5\u65E0\u4E0A\u9650\u7684\u521B\u5EFA\u65B0\u7EBF\u7A0B\uFF1B
<span class="token number">2.</span> \u5982\u679C\u7A7A\u95F2\u7EBF\u7A0B\u7684\u7A7A\u95F2\u65F6\u957F\u8D85\u8FC7 <span class="token number">60</span>s\uFF0C\u5219\u4F1A\u9500\u6BC1\u8BE5\u7A7A\u95F2\u7EBF\u7A0B\u3002

\u8C03\u5EA6\u5668 <span class="token class-name">IoScheduler</span> \u5177\u6709\u7EBF\u7A0B\u7F13\u5B58\u673A\u5236\uFF0C\u53EF\u7528\u4E8E IO \u5BC6\u96C6\u578B\u7684\u64CD\u4F5C\uFF08\u5982\uFF1A\u8BFB\u5199 SD \u5361\u6587\u4EF6\u3001\u67E5\u8BE2\u6570\u636E\u5E93\u3001\u8BBF\u95EE\u7F51\u7EDC\u7B49\uFF09\u3002
</code></pre></div><h4 id="_8-1-2-schedulers-newthread" tabindex="-1"><a class="header-anchor" href="#_8-1-2-schedulers-newthread" aria-hidden="true">#</a> 8.1.2 <code>Schedulers.newThread()</code>\uFF1A</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Schedulers.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">newThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE NewThreadScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u5728\u6B64\u8C03\u5EA6\u5668\uFF08<span class="token class-name">NewThreadScheduler</span>\uFF09\u63A5\u6536\u5230\u4EFB\u52A1\u540E\uFF0C\u76F4\u63A5\u521B\u5EFA\u65B0\u7684\u7EBF\u7A0B\u3002

\u4E5F\u5C31\u662F\u8BF4\uFF0C\u8C03\u5EA6\u5668 <span class="token class-name">NewThreadScheduler</span> \u4E0D\u5177\u6709\u7EBF\u7A0B\u7F13\u5B58\u673A\u5236\uFF0C\u6BCF\u6267\u884C\u4E00\u4E2A\u4EFB\u52A1\u90FD\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u7EBF\u7A0B\u3002

\u6CE8\u610F\uFF1A
\u867D\u7136\u4F7F\u7528 <span class="token class-name">IoScheduler</span> \u7684\u5730\u65B9\u90FD\u53EF\u4EE5\u4F7F\u7528 <span class="token class-name">NewThreadScheduler</span>\uFF0C
\u4F46\u662F\uFF0C\u7531\u4E8E\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u7EBF\u7A0B\u6BD4\u590D\u7528\u4E00\u4E2A\u5DF2\u5B58\u5728\u7684\u7EBF\u7A0B\u66F4\u8017\u8D44\u6E90\uFF0C\u56E0\u6B64 <span class="token class-name">NewThreadScheduler</span> \u7684\u6548\u7387\u6CA1\u6709 <span class="token class-name">IoScheduler</span> \u9AD8\u3002
</code></pre></div><h4 id="_8-1-3-schedulers-computation" tabindex="-1"><a class="header-anchor" href="#_8-1-3-schedulers-computation" aria-hidden="true">#</a> 8.1.3 <code>Schedulers.computation()</code>\uFF1A</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Schedulers.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">computation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE ComputationScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u6B64\u8C03\u5EA6\u5668\uFF08<span class="token class-name">ComputationScheduler</span>\uFF09\u63D0\u4F9B\u4E00\u4E2A\u56FA\u5B9A\u7EBF\u7A0B\u6570\uFF08\u7EBF\u7A0B\u6570 <span class="token operator">=</span> CPU \u6838\u5FC3\u6570\uFF09\u7684\u7EBF\u7A0B\u6C60\u3002

\u6CE8\u610F\uFF1A\u6B64\u8C03\u5EA6\u5668\u7684\u7EBF\u7A0B\u6C60\u4E2D\u7684\u7EBF\u7A0B\u4E00\u65E6\u5F00\u542F\u5C31\u4E00\u76F4\u5B58\u5728\uFF08\u9664\u975E\u5173\u95ED\u7EBF\u7A0B\u6C60\uFF09\uFF0C\u4E0D\u4F1A\u56E0\u7A7A\u95F2\u65F6\u95F4\u8FC7\u957F\u800C\u88AB\u9500\u6BC1\u3002

\u9002\u7528\u4E8E\u4EFB\u52A1\u8FC7\u7A0B\u4E2D\u4E0D\u4F1A\u88AB\u963B\u585E\u7684\u8017\u65F6\u64CD\u4F5C\u3002
\u5BF9\u4E8E\u4EFB\u52A1\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u88AB\u963B\u585E\u7684 IO \u64CD\u4F5C\u4F7F\u7528 <span class="token class-name">IoScheduler</span>\u3002
</code></pre></div><h4 id="_8-1-4-schedulers-trampoline" tabindex="-1"><a class="header-anchor" href="#_8-1-4-schedulers-trampoline" aria-hidden="true">#</a> 8.1.4 <code>Schedulers.trampoline()</code>\uFF1A</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Schedulers.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">trampoline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE TrampolineScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u6B64\u8C03\u5EA6\u5668\uFF08\`<span class="token class-name">TrampolineScheduler</span>\`\uFF09\u5E76\u4E0D\u4F1A\u5C06\u4EFB\u52A1\u5207\u6362\u5230\u5176\u4ED6\u7EBF\u7A0B\u4E2D\u6267\u884C\u3002\u8BE5\u8C03\u5EA6\u5668\u7684\u4F5C\u7528\u53EA\u662F\u7528\u6765\u5BF9\u4EFB\u52A1\u7684\u6267\u884C\u987A\u5E8F\u8FDB\u884C\u6392\u5E8F\u7684\u3002\u5373\uFF1A
<span class="token number">1.</span> \u4EFB\u52A1\u63D0\u4EA4\u65F6\uFF0C\u9ED8\u8BA4\u7684\u6267\u884C\u65F6\u95F4\u4E3A\u5F53\u524D\u7CFB\u7EDF\u65F6\u95F4\uFF1B\u4E5F\u53EF\u4EE5\u6307\u5B9A\u5EF6\u65F6\uFF0C\u4F7F\u4EFB\u52A1\u7684\u6267\u884C\u65F6\u95F4\u5F80\u540E\u63A8\u8FDF\u3002
<span class="token number">2.</span> \u8C03\u5EA6\u5668 <span class="token class-name">TrampolineScheduler</span> \u4E2D\u7EF4\u62A4\u4E00\u4E2A\u6309\u4EFB\u52A1\u7684\u6267\u884C\u65F6\u95F4\u8FDB\u884C\u6392\u5E8F\u7684\u4F18\u5148\u7EA7\u961F\u5217\uFF0C\u7528\u4E8E\u5B58\u653E\u5DF2\u63D0\u4EA4\u7684\u4EFB\u52A1\u3002
<span class="token number">3.</span> \u51E1\u662F\u63D0\u4EA4\u5230\u8C03\u5EA6\u5668 <span class="token class-name">TrampolineScheduler</span> \u4E2D\u7684\u4EFB\u52A1\u90FD\u4F1A\u5148\u5B58\u653E\u5230\u4F18\u5148\u7EA7\u961F\u5217\u4E2D\uFF0C\u7136\u540E\u6309\u7167\u6267\u884C\u65F6\u95F4\u5728\u5F53\u524D\u7EBF\u7A0B\u4E2D\u4E32\u884C\u6267\u884C\u3002
</code></pre></div><h4 id="_8-1-5-schedulers-single" tabindex="-1"><a class="header-anchor" href="#_8-1-5-schedulers-single" aria-hidden="true">#</a> 8.1.5 <code>Schedulers.single()</code>\uFF1A</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Schedulers.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">single</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE SingleScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u6B64\u8C03\u5EA6\u5668\uFF08<span class="token class-name">SingleScheduler</span>\uFF09\u63D0\u4F9B\u7684\u7EBF\u7A0B\u6C60\u4E2D\u53EA\u5B58\u5728\u4E00\u4E2A\u7EBF\u7A0B\u3002

\u8C03\u5EA6\u5668 <span class="token class-name">SingleScheduler</span> \u4E2D\u63D0\u4EA4\u7684\u4EFB\u52A1\u90FD\u4F1A\u5728\u540C\u4E00\u4E2A\u7EBF\u7A0B\u4E2D\u4E32\u884C\u6267\u884C\u3002
</code></pre></div><h4 id="_8-1-6-scheduler-from-executor" tabindex="-1"><a class="header-anchor" href="#_8-1-6-scheduler-from-executor" aria-hidden="true">#</a> 8.1.6 <code>Scheduler.from(Executor)</code>\uFF1A</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">from</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">Executor</span> executor<span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE ExecutorScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u53EF\u4EE5\u901A\u8FC7\u6B64\u8C03\u5EA6\u5668\uFF08<span class="token class-name">ExecutorScheduler</span>\uFF09\u4F20\u5165\u4E00\u4E2A\u81EA\u5B9A\u4E49\u7684\u7EBF\u7A0B\u6C60 executor\u3002
</code></pre></div><h4 id="_8-1-7-androidschedulers-mainthread" tabindex="-1"><a class="header-anchor" href="#_8-1-7-androidschedulers-mainthread" aria-hidden="true">#</a> 8.1.7 <code>AndroidSchedulers.mainThread()</code>\uFF1A</h4><blockquote><p>\u9700\u8981\u6DFB\u52A0\u4F9D\u8D56\uFF1A</p><div class="language-groovy ext-groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;io.reactivex.rxjava2:rxandroid:2.0.2&#39;</span>
</code></pre></div></blockquote><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* AndroidSchedulers.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Scheduler</span> <span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD4\u56DE HandlerScheduler \u5B9E\u4F8B</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>\u8C03\u7528 <span class="token class-name">AndroidSchedulers</span><span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \u65B9\u6CD5\u4F1A\u5C06 UI \u7EBF\u7A0B\u4E2D\u7684 <span class="token class-name">Looper</span> \u5BF9\u8C61\u4F20\u7ED9 <span class="token class-name">HandlerScheduler</span>\uFF0C
\u4ECE\u800C\u5C06\u63D0\u4EA4\u5230\u8C03\u5EA6\u5668 <span class="token class-name">HandlerScheduler</span> \u4E2D\u7684\u4EFB\u52A1\u5207\u6362\u5230 UI \u7EBF\u7A0B\u4E2D\u6267\u884C\u3002
</code></pre></div><h3 id="_8-1-\u4F7F\u7528\u64CD\u4F5C\u7B26-subscribeon-scheduler-\u6307\u5B9A\u53D1\u5C04\u548C\u63A5\u6536\u8FC7\u7A0B\u6240\u5728\u7684\u7EBF\u7A0B" tabindex="-1"><a class="header-anchor" href="#_8-1-\u4F7F\u7528\u64CD\u4F5C\u7B26-subscribeon-scheduler-\u6307\u5B9A\u53D1\u5C04\u548C\u63A5\u6536\u8FC7\u7A0B\u6240\u5728\u7684\u7EBF\u7A0B" aria-hidden="true">#</a> 8.1 \u4F7F\u7528\u64CD\u4F5C\u7B26 <code>subscribeOn(Scheduler)</code>\uFF1A\u6307\u5B9A\u53D1\u5C04\u548C\u63A5\u6536\u8FC7\u7A0B\u6240\u5728\u7684\u7EBF\u7A0B</h3><p>\u64CD\u4F5C\u7B26 <code>subscribeOn</code> \u4F20\u5165\u4E00\u4E2A <code>Scheduler</code> \u53C2\u6570\uFF0C\u901A\u8FC7 <code>Scheduler</code> \u6307\u5B9A\u7684\u7EBF\u7A0B\u6765\u6267\u884C\u88AB\u89C2\u5BDF\u8005\u53D1\u5C04\u6570\u636E\u9879\u6216\u4E8B\u4EF6\u7684\u8FC7\u7A0B\u3002</p><h3 id="_8-2-\u4F7F\u7528\u64CD\u4F5C\u7B26-observeon-scheduler-\u4EC5\u6307\u5B9A\u63A5\u6536\u8FC7\u7A0B\u6240\u5728\u7684\u7EBF\u7A0B" tabindex="-1"><a class="header-anchor" href="#_8-2-\u4F7F\u7528\u64CD\u4F5C\u7B26-observeon-scheduler-\u4EC5\u6307\u5B9A\u63A5\u6536\u8FC7\u7A0B\u6240\u5728\u7684\u7EBF\u7A0B" aria-hidden="true">#</a> 8.2 \u4F7F\u7528\u64CD\u4F5C\u7B26 <code>observeOn(Scheduler)</code>\uFF1A\u4EC5\u6307\u5B9A\u63A5\u6536\u8FC7\u7A0B\u6240\u5728\u7684\u7EBF\u7A0B</h3><p>\u64CD\u4F5C\u7B26 <code>observeOn</code> \u4F20\u5165\u4E00\u4E2A <code>Scheduler</code> \u53C2\u6570\uFF0C\u901A\u8FC7 <code>Scheduler</code> \u6307\u5B9A\u7684\u7EBF\u7A0B\u6765\u6267\u884C\u89C2\u5BDF\u8005\u63A5\u6536\u6570\u636E\u9879\u6216\u4E8B\u4EF6\u7684\u8FC7\u7A0B\u3002</p>`,30);function c(o,l){return n}var r=a(s,[["render",c],["__file","scheduler.html.vue"]]);export{r as default};
