<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zengkaiqiang562.github.io/zkq/android/ui/RecyclerView.html"><meta property="og:site_name" content="Android Guide"><meta property="og:title" content="RecyclerView（TODO）"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-07-06T10:07:29.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="UI"><meta property="article:modified_time" content="2022-07-06T10:07:29.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2922463_99aa80ii7cf.css"><title>RecyclerView（TODO） | Android Guide</title><meta name="description" content="Android 学习 && 面试指南">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.c9a516cc.css">
    <link rel="modulepreload" href="/assets/app.2a01fc36.js"><link rel="modulepreload" href="/assets/RecyclerView.html.90b6c16e.js"><link rel="modulepreload" href="/assets/RecyclerView.html.b14b241d.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.png" alt="Android Guide"><!----><span class="site-name hide-in-pad">Android Guide</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" arialabel="面试指南"><i class="icon iconfont icon-java"></i>面试指南<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zhuanlan/" class="nav-link" arialabel="优质专栏"><i class="icon iconfont icon-recommend"></i>优质专栏<!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" arialabel="项目精选"><i class="icon iconfont icon-github"></i>项目精选<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://snailclimb.gitee.io/javaguide/#/" rel="noopener noreferrer" target="_blank" arialabel="旧版链接" class="nav-link"><i class="icon iconfont icon-java"></i>旧版链接<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://javaguide.cn/feed.json" rel="noopener noreferrer" target="_blank" arialabel="RSS订阅" class="nav-link"><i class="icon iconfont icon-rss"></i>RSS订阅<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about-the-author/" class="nav-link" arialabel="关于作者"><i class="icon iconfont icon-zuozhe"></i>关于作者<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zengkaiqiang562/JavaGuide" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">基础</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">绘图基础</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">动画</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">UI</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/zkq/android/ui/viewpager.html" class="nav-link sidebar-link sidebar-page" arialabel="ViewPager（TODO）"><!---->ViewPager（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/viewpager2.html" class="nav-link sidebar-link sidebar-page" arialabel="ViewPager2（TODO）"><!---->ViewPager2（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zkq/android/ui/RecyclerView.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="RecyclerView（TODO）"><!---->RecyclerView（TODO）<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-recyclerview-概述" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. RecyclerView 概述"><!---->1. RecyclerView 概述<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-1-添加依赖" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.1 添加依赖"><!---->1.1 添加依赖<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-recyclerview-的基本使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2 RecyclerView 的基本使用"><!---->1.2 RecyclerView 的基本使用<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-1-在界面的-xml-布局文件中引入-recyclerview" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.1 在界面的 xml 布局文件中引入 RecyclerView"><!---->1.2.1 在界面的 xml 布局文件中引入 RecyclerView<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-定义-adapter-类-继承自-recyclerview-adapter-recyclerview-viewholder" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2 定义 Adapter 类（继承自 RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;）"><!---->1.2.2 定义 Adapter 类（继承自 RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;）<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-1-重写-oncreateviewholder-方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.1 重写 onCreateViewHolder 方法"><!---->1.2.2.1 重写 onCreateViewHolder 方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-2-重写-onbindviewholder-方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.2 重写 onBindViewHolder 方法"><!---->1.2.2.2 重写 onBindViewHolder 方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-3-重写-getitemcount-方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.3 重写 getItemCount 方法"><!---->1.2.2.3 重写 getItemCount 方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-4-通过-adapter-的构造函数传入列表数据集合" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.4 通过 Adapter 的构造函数传入列表数据集合"><!---->1.2.2.4 通过 Adapter 的构造函数传入列表数据集合<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-5-定义-viewholder-类-继承自-recyclerview-viewholder" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.5 定义 ViewHolder 类（继承自 RecyclerView.ViewHolder）"><!---->1.2.2.5 定义 ViewHolder 类（继承自 RecyclerView.ViewHolder）<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-5-1-为-viewholder-显示的-item-创建-xml-布局文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.5.1 为 ViewHolder 显示的 item 创建 xml 布局文件"><!---->1.2.2.5.1 为 ViewHolder 显示的 item 创建 xml 布局文件<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-5-1-将-item-布局文件中的控件对象保存在-viewholder-中" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.5.1 将 item 布局文件中的控件对象保存在 ViewHolder 中"><!---->1.2.2.5.1 将 item 布局文件中的控件对象保存在 ViewHolder 中<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-6-完整的简单-adapter-类的代码示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.6 完整的简单 Adapter 类的代码示例"><!---->1.2.2.6 完整的简单 Adapter 类的代码示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-3-为-recyclerview-设置-adapter" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3 为 RecyclerView 设置 Adapter"><!---->1.2.3 为 RecyclerView 设置 Adapter<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-4-为-recyclerview-设置-layoutmanager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4 为 RecyclerView 设置 LayoutManager"><!---->1.2.4 为 RecyclerView 设置 LayoutManager<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-常见的三种-layoutmanager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3 常见的三种 LayoutManager"><!---->1.3 常见的三种 LayoutManager<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-1-linearlayoutmanager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1 LinearLayoutManager"><!---->1.3.1 LinearLayoutManager<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-2-gridlayoutmanager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.2 GridLayoutManager"><!---->1.3.2 GridLayoutManager<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-3-staggeredgridlayoutmanager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.3 StaggeredGridLayoutManager"><!---->1.3.3 StaggeredGridLayoutManager<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-4-为不同位置的列表-item-加载不同类型的-view-视图-getitemviewtype" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.4 为不同位置的列表 item 加载不同类型的 View 视图：getItemViewType"><!---->1.4 为不同位置的列表 item 加载不同类型的 View 视图：getItemViewType<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-添加分割线-itemdecoration" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. 添加分割线：ItemDecoration"><!---->2. 添加分割线：ItemDecoration<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-1-什么是-itemdecoration" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.1 什么是 ItemDecoration"><!---->2.1 什么是 ItemDecoration<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-2-为-recyclerview-设置默认的-itemdecoration-分割线" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2 为 RecyclerView 设置默认的 ItemDecoration 分割线"><!---->2.2 为 RecyclerView 设置默认的 ItemDecoration 分割线<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-3-自定义-itemdecoration-实现不同效果的分割线" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.3 自定义 ItemDecoration 实现不同效果的分割线"><!---->2.3 自定义 ItemDecoration 实现不同效果的分割线<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_3-自定义-layoutmanager" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3. 自定义 LayoutManager"><!---->3. 自定义 LayoutManager<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_4-recyclerview-的回收复用机制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4. RecyclerView 的回收复用机制"><!---->4. RecyclerView 的回收复用机制<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/ConstraintLayout.html" class="nav-link sidebar-link sidebar-page" arialabel="ConstraintLayout（TODO）"><!---->ConstraintLayout（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/CoordinatorLayout.html" class="nav-link sidebar-link sidebar-page" arialabel="CoordinatorLayout（TODO）"><!---->CoordinatorLayout（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/Toolbar.html" class="nav-link sidebar-link sidebar-page" arialabel="Toolbar（TODO）"><!---->Toolbar（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/AppbarLayout.html" class="nav-link sidebar-link sidebar-page" arialabel="AppbarLayout（TODO）"><!---->AppbarLayout（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/CollapsingToolbarLayout.html" class="nav-link sidebar-link sidebar-page" arialabel="CollapsingToolbarLayout（TODO）"><!---->CollapsingToolbarLayout（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/TabLayout.html" class="nav-link sidebar-link sidebar-page" arialabel="TabLayout（TODO）"><!---->TabLayout（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/NestedScrolling.html" class="nav-link sidebar-link sidebar-page" arialabel="嵌套滑动（NestedScrolling）（TODO）"><!---->嵌套滑动（NestedScrolling）（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/drawerlayout.html" class="nav-link sidebar-link sidebar-page" arialabel="DrawerLayout（TODO）"><!---->DrawerLayout（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/navigationview.html" class="nav-link sidebar-link sidebar-page" arialabel="NavigationView（TODO）"><!---->NavigationView（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/bottomnavigationview.html" class="nav-link sidebar-link sidebar-page" arialabel="BottomNavigationView（TODO）"><!---->BottomNavigationView（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/view-event.html" class="nav-link sidebar-link sidebar-page" arialabel="View 事件体系（TODO）"><!---->View 事件体系（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/android/ui/view-tools.html" class="nav-link sidebar-link sidebar-page" arialabel="工具类（TODO）"><!---->工具类（TODO）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Jetpack</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">NDK</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">IPC</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">蓝牙开发</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">性能优化</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">系统源码分析</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">其他</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->RecyclerView（TODO）</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://zengkaiqiang562.github.io/" target="_blank" rel="noopener noreferrer">Zenk562</a></span><span property="author" content="Zenk562"></span></span><span class="category-info" arialabel="分类🌈" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">UI</li><meta property="articleSection" content="UI"></ul></span><span arialabel="标签🏷" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">UI</li></ul><meta property="keywords" content="UI"></span><span class="date-info" arialabel="写作日期📅" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年7月6日</span><meta property="datePublished" content="2022-07-06T10:07:29.000Z"></span><!----><span class="words-info" arialabel="字数🔠" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>约 1698 字</span><meta property="wordCount" content="1698"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-recyclerview-概述" class="router-link-active router-link-exact-active toc-link level2">1. RecyclerView 概述</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-1-添加依赖" class="router-link-active router-link-exact-active toc-link level3">1.1 添加依赖</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-recyclerview-的基本使用" class="router-link-active router-link-exact-active toc-link level3">1.2 RecyclerView 的基本使用</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-1-在界面的-xml-布局文件中引入-recyclerview" class="router-link-active router-link-exact-active toc-link level4">1.2.1 在界面的 xml 布局文件中引入 RecyclerView</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-定义-adapter-类-继承自-recyclerview-adapter-recyclerview-viewholder" class="router-link-active router-link-exact-active toc-link level4">1.2.2 定义 Adapter 类（继承自 RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;）</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-1-重写-oncreateviewholder-方法" class="router-link-active router-link-exact-active toc-link level5">1.2.2.1 重写 onCreateViewHolder 方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-2-重写-onbindviewholder-方法" class="router-link-active router-link-exact-active toc-link level5">1.2.2.2 重写 onBindViewHolder 方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-3-重写-getitemcount-方法" class="router-link-active router-link-exact-active toc-link level5">1.2.2.3 重写 getItemCount 方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-4-通过-adapter-的构造函数传入列表数据集合" class="router-link-active router-link-exact-active toc-link level5">1.2.2.4 通过 Adapter 的构造函数传入列表数据集合</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-5-定义-viewholder-类-继承自-recyclerview-viewholder" class="router-link-active router-link-exact-active toc-link level5">1.2.2.5 定义 ViewHolder 类（继承自 RecyclerView.ViewHolder）</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-5-1-为-viewholder-显示的-item-创建-xml-布局文件" class="router-link-active router-link-exact-active toc-link level6">1.2.2.5.1 为 ViewHolder 显示的 item 创建 xml 布局文件</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-5-1-将-item-布局文件中的控件对象保存在-viewholder-中" class="router-link-active router-link-exact-active toc-link level6">1.2.2.5.1 将 item 布局文件中的控件对象保存在 ViewHolder 中</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-2-6-完整的简单-adapter-类的代码示例" class="router-link-active router-link-exact-active toc-link level5">1.2.2.6 完整的简单 Adapter 类的代码示例</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-3-为-recyclerview-设置-adapter" class="router-link-active router-link-exact-active toc-link level4">1.2.3 为 RecyclerView 设置 Adapter</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-2-4-为-recyclerview-设置-layoutmanager" class="router-link-active router-link-exact-active toc-link level4">1.2.4 为 RecyclerView 设置 LayoutManager</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-常见的三种-layoutmanager" class="router-link-active router-link-exact-active toc-link level3">1.3 常见的三种 LayoutManager</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-1-linearlayoutmanager" class="router-link-active router-link-exact-active toc-link level4">1.3.1 LinearLayoutManager</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-2-gridlayoutmanager" class="router-link-active router-link-exact-active toc-link level4">1.3.2 GridLayoutManager</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-3-3-staggeredgridlayoutmanager" class="router-link-active router-link-exact-active toc-link level4">1.3.3 StaggeredGridLayoutManager</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_1-4-为不同位置的列表-item-加载不同类型的-view-视图-getitemviewtype" class="router-link-active router-link-exact-active toc-link level3">1.4 为不同位置的列表 item 加载不同类型的 View 视图：getItemViewType</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-添加分割线-itemdecoration" class="router-link-active router-link-exact-active toc-link level2">2. 添加分割线：ItemDecoration</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-1-什么是-itemdecoration" class="router-link-active router-link-exact-active toc-link level3">2.1 什么是 ItemDecoration</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-2-为-recyclerview-设置默认的-itemdecoration-分割线" class="router-link-active router-link-exact-active toc-link level3">2.2 为 RecyclerView 设置默认的 ItemDecoration 分割线</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_2-3-自定义-itemdecoration-实现不同效果的分割线" class="router-link-active router-link-exact-active toc-link level3">2.3 自定义 ItemDecoration 实现不同效果的分割线</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_3-自定义-layoutmanager" class="router-link-active router-link-exact-active toc-link level2">3. 自定义 LayoutManager</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/android/ui/RecyclerView.html#_4-recyclerview-的回收复用机制" class="router-link-active router-link-exact-active toc-link level2">4. RecyclerView 的回收复用机制</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><blockquote><p>参考：《<code>Android</code> 自定义控件高级进阶与精彩实例》 第 <code>7</code> 章&gt;</p><p>参考：<a href="https://www.jianshu.com/p/443d741c7e3e" target="_blank" rel="noopener noreferrer">再也不用担心面试问RecyclerView了<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>参考：<a href="https://www.jianshu.com/p/fe168045a378" target="_blank" rel="noopener noreferrer">控件：RecycleView<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>参考：<a href="https://zhuanlan.zhihu.com/p/414702218" target="_blank" rel="noopener noreferrer">RecyclerView面试必问<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>参考：<a href="https://www.jianshu.com/p/c52b947fe064" target="_blank" rel="noopener noreferrer">【进阶】RecyclerView源码解析(一)——绘制流程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><h2 id="_1-recyclerview-概述" tabindex="-1"><a class="header-anchor" href="#_1-recyclerview-概述" aria-hidden="true">#</a> 1. <code>RecyclerView</code> 概述</h2><h3 id="_1-1-添加依赖" tabindex="-1"><a class="header-anchor" href="#_1-1-添加依赖" aria-hidden="true">#</a> 1.1 添加依赖</h3><p>如果还没有迁移到 <code>Androidx</code>，那么添加如下的 <code>support</code> 依赖：</p><div class="language-groovy ext-groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;com.android.support:recyclerview-v7:28.0.0&#39;</span>
</code></pre></div><p>如果迁移到了 <code>Androidx</code>，那么添加如下依赖：</p><div class="language-groovy ext-groovy"><pre class="language-groovy"><code>implementation <span class="token string">&#39;androidx.recyclerview:recyclerview:1.1.0&#39;</span>
</code></pre></div><h3 id="_1-2-recyclerview-的基本使用" tabindex="-1"><a class="header-anchor" href="#_1-2-recyclerview-的基本使用" aria-hidden="true">#</a> 1.2 <code>RecyclerView</code> 的基本使用</h3><h4 id="_1-2-1-在界面的-xml-布局文件中引入-recyclerview" tabindex="-1"><a class="header-anchor" href="#_1-2-1-在界面的-xml-布局文件中引入-recyclerview" aria-hidden="true">#</a> 1.2.1 在界面的 <code>xml</code> 布局文件中引入 <code>RecyclerView</code></h4><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.constraint.ConstraintLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>tools</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/tools<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">tools:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.LinearActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>android.support.v7.widget.RecyclerView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/linear_recycler_view<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.v7.widget.RecyclerView</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>android.support.constraint.ConstraintLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_1-2-2-定义-adapter-类-继承自-recyclerview-adapter-recyclerview-viewholder" tabindex="-1"><a class="header-anchor" href="#_1-2-2-定义-adapter-类-继承自-recyclerview-adapter-recyclerview-viewholder" aria-hidden="true">#</a> 1.2.2 定义 <code>Adapter</code> 类（继承自 <code>RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;</code>）</h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RecyclerAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ViewHolder</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span><span class="token class-name">ViewGroup</span> parent<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span><span class="token class-name">ViewHolder</span> holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当自定义一个继承自 <code>RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;</code> 的 <code>Adapter</code> 类时，如下三个函数是必须重写的：</p><ol><li><code>onCreateViewHolder</code></li><li><code>onBindViewHolder</code></li><li><code>getItemCount</code></li></ol><h5 id="_1-2-2-1-重写-oncreateviewholder-方法" tabindex="-1"><a class="header-anchor" href="#_1-2-2-1-重写-oncreateviewholder-方法" aria-hidden="true">#</a> 1.2.2.1 重写 <code>onCreateViewHolder</code> 方法</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* RecyclerView.Adapter&lt;VH extends ViewHolder&gt; */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">VH</span> <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">ViewGroup</span> parent<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>重写 <code>onCreateViewHolder</code> 方法用于返回一个继承自 <code>RecyclerView.ViewHolder</code> 的自定义 <code>ViewHolder</code> 对象。</p><blockquote><p>在 <code>RecyclerView</code> 中，通过 <code>ViewHolder</code> 来承载列表中每个 <code>item</code> 视图内的控件元素。</p></blockquote><h5 id="_1-2-2-2-重写-onbindviewholder-方法" tabindex="-1"><a class="header-anchor" href="#_1-2-2-2-重写-onbindviewholder-方法" aria-hidden="true">#</a> 1.2.2.2 重写 <code>onBindViewHolder</code> 方法</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* RecyclerView.Adapter&lt;VH extends ViewHolder&gt; */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">VH</span> holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>重写 <code>onBindViewHolder</code> 方法将数据集合中索引位置 <code>position</code> 上的数据与 <code>holder</code> 中的视图绑定起来。</p><h5 id="_1-2-2-3-重写-getitemcount-方法" tabindex="-1"><a class="header-anchor" href="#_1-2-2-3-重写-getitemcount-方法" aria-hidden="true">#</a> 1.2.2.3 重写 <code>getItemCount</code> 方法</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* RecyclerView.Adapter&lt;VH extends ViewHolder&gt; */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>重写 <code>getItemCount</code> 方法用于返回 <code>RecyclerView</code> 的列表中 <code>item</code> 视图的总个数。</p><blockquote><p>一般情况下，<code>item</code> 视图的总个数就是数据集合中的数据总个数。</p></blockquote><h5 id="_1-2-2-4-通过-adapter-的构造函数传入列表数据集合" tabindex="-1"><a class="header-anchor" href="#_1-2-2-4-通过-adapter-的构造函数传入列表数据集合" aria-hidden="true">#</a> 1.2.2.4 通过 <code>Adapter</code> 的构造函数传入列表数据集合</h5><p>通常，填充在 <code>RecyclerView</code> 列表的 <code>item</code> 视图中的数据都是从外部传入到 <code>Adapter</code> 中的。因此，在定义 <code>Adapter</code> 类的构造函数时，通常会声明一个集合类型的参数用于将数据传入到 <code>Adapter</code> 中保存起来。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RecyclerAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ViewHolder</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Context</span> mContext<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mDatas<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">RecyclerAdapter</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> datas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mContext <span class="token operator">=</span> context<span class="token punctuation">;</span>
        mDatas <span class="token operator">=</span> datas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_1-2-2-5-定义-viewholder-类-继承自-recyclerview-viewholder" tabindex="-1"><a class="header-anchor" href="#_1-2-2-5-定义-viewholder-类-继承自-recyclerview-viewholder" aria-hidden="true">#</a> 1.2.2.5 定义 <code>ViewHolder</code> 类（继承自 <code>RecyclerView.ViewHolder</code>）</h5><p><code>ViewHolder</code> 就是用来承载 <code>RecyclerView</code> 列表中每个 <code>item</code> 视图内的控件元素的。</p><p>通过将 <code>item</code> 布局文件中的控件以变量的形式保存在 <code>ViewHolder</code> 中，以便于在 <code>onBindViewHolder</code> 方法中进行数据和视图的绑定。</p><p>所以首先需要创建 <code>item</code> 视图的布局文件，然后将布局文件中的控件对象的引用保存在 <code>ViewHolder</code> 的成员变量中。</p><h6 id="_1-2-2-5-1-为-viewholder-显示的-item-创建-xml-布局文件" tabindex="-1"><a class="header-anchor" href="#_1-2-2-5-1-为-viewholder-显示的-item-创建-xml-布局文件" aria-hidden="true">#</a> 1.2.2.5.1 为 <code>ViewHolder</code> 显示的 <code>item</code> 创建 <code>xml</code> 布局文件</h6><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>LinearLayout</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@android:color/holo_green_dark<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>horizontal<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextView</span>
        <span class="token attr-name"><span class="token namespace">android:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@+id/item_tv<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>match_parent<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>layout_height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap_content<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>gravity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name"><span class="token namespace">android:</span>padding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10dp<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>LinearLayout</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h6 id="_1-2-2-5-1-将-item-布局文件中的控件对象保存在-viewholder-中" tabindex="-1"><a class="header-anchor" href="#_1-2-2-5-1-将-item-布局文件中的控件对象保存在-viewholder-中" aria-hidden="true">#</a> 1.2.2.5.1 将 <code>item</code> 布局文件中的控件对象保存在 <code>ViewHolder</code> 中</h6><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* RecyclerView.java */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ViewHolder</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">View</span> itemView<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token class-name">ViewHolder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token class-name">View</span> itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>itemView <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;itemView may not be null&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>itemView <span class="token operator">=</span> itemView<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在自定义 <code>ViewHolder</code> 的构造函数中，需要调用父类 <code>ViewHolder</code> 的构造函数，将 <code>item</code> 布局文件的根视图 <code>itemView</code> 传给父类。</p><p>一般情况下，会在 <code>onCreateViewHolder</code> 函数中解析 <code>item</code> 布局文件得到其根视图 <code>itemView</code> ，然后创建 <code>ViewHolder</code> 对象时传给 <code>ViewHolder</code> 的构造函数。</p><p>自定义的 <code>ViewHolder</code> 的示例代码如下：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalHolder</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">TextView</span> mTV<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">NormalHolder</span><span class="token punctuation">(</span><span class="token class-name">View</span> itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将 item 布局文件的根视图 itemView 传给父类</span>

        mTV <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> itemView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>item_tv<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mTV<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> mTV<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_1-2-2-6-完整的简单-adapter-类的代码示例" tabindex="-1"><a class="header-anchor" href="#_1-2-2-6-完整的简单-adapter-类的代码示例" aria-hidden="true">#</a> 1.2.2.6 完整的简单 <code>Adapter</code> 类的代码示例</h5><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RecyclerAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>Adapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ViewHolder</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Context</span> mContext<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mDatas<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">RecyclerAdapter</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> datas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mContext <span class="token operator">=</span> context<span class="token punctuation">;</span>
        mDatas <span class="token operator">=</span> datas<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span><span class="token class-name">ViewGroup</span> parent<span class="token punctuation">,</span> <span class="token keyword">int</span> viewType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
            在 onCreateViewHolder 中：
            1. 通过 LayoutInflater 解析 item 布局文件，得到布局文件的根视图 itemView
            2. 创建 NormalHolder 对象，并传入 itemView。

            注意：
            这里调用 inflate 方法解析 item 布局文件时，第三个参数 attachToRoot 必须传入 false，
            表示不将 itemView 添加到 parent（parent 就是 RecyclerView） 中，
            此时，传入参数 parent 的作用就是为了在解析 item 布局文件时提供 LayoutParams
        */</span>
        <span class="token class-name">LayoutInflater</span> inflater <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>mContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NormalHolder</span><span class="token punctuation">(</span>inflater<span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>item_layout<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span><span class="token class-name">ViewHolder</span> holder<span class="token punctuation">,</span> <span class="token keyword">int</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
            在 onBindViewHolder 方法中将数据集合 mDatas 中索引位置 position 处的数据
            绑定到 holder 中保存的 item 视图中的控件 mTV 上。
        */</span>
        <span class="token class-name">NormalHolder</span> normalHolder <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">NormalHolder</span><span class="token punctuation">)</span> holder<span class="token punctuation">;</span>
        normalHolder<span class="token punctuation">.</span>mTV<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>mDatas<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
            返回数据集合 mDatas 中的数据总个数。
            此时，集合中的数据有多少个，RecyclerView 列表中的 item 视图就有多少个。
        */</span>
        <span class="token keyword">return</span> mDatas<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NormalHolder</span> <span class="token keyword">extends</span> <span class="token class-name">RecyclerView<span class="token punctuation">.</span>ViewHolder</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token class-name">TextView</span> mTV<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">NormalHolder</span><span class="token punctuation">(</span><span class="token class-name">View</span> itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span><span class="token punctuation">;</span>

            mTV <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TextView</span><span class="token punctuation">)</span> itemView<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>item_tv<span class="token punctuation">)</span><span class="token punctuation">;</span>
            mTV<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>mContext<span class="token punctuation">,</span> mTV<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-2-3-为-recyclerview-设置-adapter" tabindex="-1"><a class="header-anchor" href="#_1-2-3-为-recyclerview-设置-adapter" aria-hidden="true">#</a> 1.2.3 为 <code>RecyclerView</code> 设置 <code>Adapter</code></h4><p>在 <code>Activity</code>/<code>Fragment</code> 界面中，当获取到 <code>RecyclerView</code> 对象，并创建了自定义的 <code>Adapter</code> 对象后，需要调用 <code>RecyclerView</code> 的 <code>setAdapter(adapter)</code> 方法将 <code>Adapter</code> 对象绑定到 <code>RecyclerView</code> 中。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* RecyclerView.java */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAdapter</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Adapter</span> adapter<span class="token punctuation">)</span>
</code></pre></div><p>示例代码如下：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinearActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mDatas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_linear<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 生成测试数据集</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">200</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mDatas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;第 &quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; 个item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">RecyclerView</span> mRecyclerView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">RecyclerView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>linear_recycler_view<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将 adapter 绑定到 RecyclerView 中</span>
        <span class="token class-name">RecyclerAdapter</span> adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RecyclerAdapter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> mDatas<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mRecyclerView<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-2-4-为-recyclerview-设置-layoutmanager" tabindex="-1"><a class="header-anchor" href="#_1-2-4-为-recyclerview-设置-layoutmanager" aria-hidden="true">#</a> 1.2.4 为 <code>RecyclerView</code> 设置 <code>LayoutManager</code></h4><p>在 <code>RecyclerView</code> 列表中，<code>item</code> 视图的布局是通过 <code>LayoutManager</code> 实现的，不同的 <code>LayoutManager</code> 可以实现不同的 <code>item</code> 视图的布局效果（如垂直布局、水平布局、瀑布流布局等）</p><blockquote><p>通过自定义 <code>LayoutManager</code>，甚至可以实现各种各样的 <code>item</code> 布局效果。</p></blockquote><p>因此，除了将 <code>adapter</code> 绑定到 <code>RecyclerView</code> 之外，还需要调用 <code>RecyclerView</code> 的 <code>setLayoutManager(layout)</code> 方法指定该 <code>RecyclerView</code> 列表中 <code>item</code> 视图的布局效果。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* RecyclerView.java */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLayoutManager</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">LayoutManager</span> layout<span class="token punctuation">)</span>
</code></pre></div><p>示例代码如下：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinearActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mDatas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_linear<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 生成测试数据集</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">200</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mDatas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;第 &quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; 个item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">RecyclerView</span> mRecyclerView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">RecyclerView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>linear_recycler_view<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 将 adapter 绑定到 RecyclerView 中</span>
        <span class="token class-name">RecyclerAdapter</span> adapter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RecyclerAdapter</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> mDatas<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mRecyclerView<span class="token punctuation">.</span><span class="token function">setAdapter</span><span class="token punctuation">(</span>adapter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// 设置 RecyclerView 列表中 item 视图的布局效果为垂直方向上的线性布局</span>
        <span class="token class-name">LinearLayoutManager</span> linearLayoutManager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinearLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        linearLayoutManager<span class="token punctuation">.</span><span class="token function">setOrientation</span><span class="token punctuation">(</span><span class="token class-name">LinearLayoutManager</span><span class="token punctuation">.</span>VERTICAL<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mRecyclerView<span class="token punctuation">.</span><span class="token function">setLayoutManager</span><span class="token punctuation">(</span>linearLayoutManager<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-3-常见的三种-layoutmanager" tabindex="-1"><a class="header-anchor" href="#_1-3-常见的三种-layoutmanager" aria-hidden="true">#</a> 1.3 常见的三种 <code>LayoutManager</code></h3><h4 id="_1-3-1-linearlayoutmanager" tabindex="-1"><a class="header-anchor" href="#_1-3-1-linearlayoutmanager" aria-hidden="true">#</a> 1.3.1 <code>LinearLayoutManager</code></h4><h4 id="_1-3-2-gridlayoutmanager" tabindex="-1"><a class="header-anchor" href="#_1-3-2-gridlayoutmanager" aria-hidden="true">#</a> 1.3.2 <code>GridLayoutManager</code></h4><h4 id="_1-3-3-staggeredgridlayoutmanager" tabindex="-1"><a class="header-anchor" href="#_1-3-3-staggeredgridlayoutmanager" aria-hidden="true">#</a> 1.3.3 <code>StaggeredGridLayoutManager</code></h4><h3 id="_1-4-为不同位置的列表-item-加载不同类型的-view-视图-getitemviewtype" tabindex="-1"><a class="header-anchor" href="#_1-4-为不同位置的列表-item-加载不同类型的-view-视图-getitemviewtype" aria-hidden="true">#</a> 1.4 为不同位置的列表 <code>item</code> 加载不同类型的 <code>View</code> 视图：<code>getItemViewType</code></h3><h2 id="_2-添加分割线-itemdecoration" tabindex="-1"><a class="header-anchor" href="#_2-添加分割线-itemdecoration" aria-hidden="true">#</a> 2. 添加分割线：<code>ItemDecoration</code></h2><h3 id="_2-1-什么是-itemdecoration" tabindex="-1"><a class="header-anchor" href="#_2-1-什么是-itemdecoration" aria-hidden="true">#</a> 2.1 什么是 <code>ItemDecoration</code></h3><h3 id="_2-2-为-recyclerview-设置默认的-itemdecoration-分割线" tabindex="-1"><a class="header-anchor" href="#_2-2-为-recyclerview-设置默认的-itemdecoration-分割线" aria-hidden="true">#</a> 2.2 为 RecyclerView 设置默认的 <code>ItemDecoration</code> 分割线</h3><h3 id="_2-3-自定义-itemdecoration-实现不同效果的分割线" tabindex="-1"><a class="header-anchor" href="#_2-3-自定义-itemdecoration-实现不同效果的分割线" aria-hidden="true">#</a> 2.3 自定义 <code>ItemDecoration</code> 实现不同效果的分割线</h3><h2 id="_3-自定义-layoutmanager" tabindex="-1"><a class="header-anchor" href="#_3-自定义-layoutmanager" aria-hidden="true">#</a> 3. 自定义 <code>LayoutManager</code></h2><h2 id="_4-recyclerview-的回收复用机制" tabindex="-1"><a class="header-anchor" href="#_4-recyclerview-的回收复用机制" aria-hidden="true">#</a> 4. <code>RecyclerView</code> 的回收复用机制</h2><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zengkaiqiang562/JavaGuide/edit/main/docs/zkq/android/ui/RecyclerView.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/7/6 18:07:29</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zengk</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zkq/android/ui/viewpager2.html" class="nav-link prev" arialabel="ViewPager2（TODO）"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->ViewPager2（TODO）</div></a><a href="/zkq/android/ui/ConstraintLayout.html" class="nav-link next" arialabel="ConstraintLayout（TODO）"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">ConstraintLayout（TODO）<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright © 2024 Zenk562</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.2a01fc36.js" defer></script>
  </body>
</html>
