<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zengkaiqiang562.github.io/zkq/gradle/_07_settings_sourcesets.html"><meta property="og:site_name" content="Android Guide"><meta property="og:title" content="Settings类 & SourceSets类"><meta property="og:type" content="article"><meta property="og:image" content="https://zengkaiqiang562.github.io/"><meta property="og:updated_time" content="2022-11-24T07:51:52.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Settings类 & SourceSets类"><meta property="article:tag" content="gradle"><meta property="article:modified_time" content="2022-11-24T07:51:52.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2922463_99aa80ii7cf.css"><title>Settings类 & SourceSets类 | Android Guide</title><meta name="description" content="Android 学习 && 面试指南">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.5a38b724.css">
    <link rel="modulepreload" href="/assets/app.625aa393.js"><link rel="modulepreload" href="/assets/_07_settings_sourcesets.html.2a8150fa.js"><link rel="modulepreload" href="/assets/_07_settings_sourcesets.html.36c72651.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.png" alt="Android Guide"><!----><span class="site-name hide-in-pad">Android Guide</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" arialabel="面试指南"><i class="icon iconfont icon-java"></i>面试指南<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zhuanlan/" class="nav-link" arialabel="优质专栏"><i class="icon iconfont icon-recommend"></i>优质专栏<!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" arialabel="项目精选"><i class="icon iconfont icon-github"></i>项目精选<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://snailclimb.gitee.io/javaguide/#/" rel="noopener noreferrer" target="_blank" arialabel="旧版链接" class="nav-link"><i class="icon iconfont icon-java"></i>旧版链接<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://javaguide.cn/feed.json" rel="noopener noreferrer" target="_blank" arialabel="RSS订阅" class="nav-link"><i class="icon iconfont icon-rss"></i>RSS订阅<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about-the-author/" class="nav-link" arialabel="关于作者"><i class="icon iconfont icon-zuozhe"></i>关于作者<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zengkaiqiang562/JavaGuide" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/zkq/gradle/_01_introduce.html" class="nav-link sidebar-link sidebar-page" arialabel="Gradle相关介绍"><!---->Gradle相关介绍<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Gradle核心语法</span><span class="arrow right"></span></button><!--[--><!----><!----><!--]--></section><!--]--></li><li><!--[--><a href="/zkq/gradle/_03_advance.html" class="nav-link sidebar-link sidebar-page" arialabel="Gradle高级用法实战"><!---->Gradle高级用法实战<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/gradle/_04_lifecycle.html" class="nav-link sidebar-link sidebar-page" arialabel="Gradle生命周期探索"><!---->Gradle生命周期探索<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/gradle/_05_project.html" class="nav-link sidebar-link sidebar-page" arialabel="Project详解与实战"><!---->Project详解与实战<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/gradle/_06_task.html" class="nav-link sidebar-link sidebar-page" arialabel="Task详解与实战"><!---->Task详解与实战<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="Settings类 &amp; SourceSets类"><!---->Settings类 &amp; SourceSets类<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-settings-类和-settings-gradle-文件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. Settings 类和 settings.gradle 文件"><!---->1. Settings 类和 settings.gradle 文件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-1-settings-gradle-文件的主要作用-导入子-project" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.1 settings.gradle 文件的主要作用：导入子 Project"><!---->1.1 settings.gradle 文件的主要作用：导入子 Project<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-2-gradle-初始化阶段的主要工作-解析出-project-树结构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2 Gradle 初始化阶段的主要工作：解析出 Project 树结构"><!---->1.2 Gradle 初始化阶段的主要工作：解析出 Project 树结构<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-3-settings-类的相关-api" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3 Settings 类的相关 API"><!---->1.3 Settings 类的相关 API<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-3-1-导入一个或多个子-project" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1 导入一个或多个子 Project"><!---->1.3.1 导入一个或多个子 Project<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-3-2-导入项目之外的文件夹作为子-project" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.2 导入项目之外的文件夹作为子 Project"><!---->1.3.2 导入项目之外的文件夹作为子 Project<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-sourceset-类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. SourceSet 类"><!---->2. SourceSet 类<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-1-使用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.1 使用示例"><!---->2.1 使用示例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-2-sourcesets-configureclosure-的作用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2 sourceSets(configureClosure) 的作用"><!---->2.2 sourceSets(configureClosure) 的作用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-3-android-资源集合-main-的配置详解" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.3 Android 资源集合 &quot;main&quot; 的配置详解"><!---->2.3 Android 资源集合 &quot;main&quot; 的配置详解<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-4-示例代码" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.4 示例代码"><!---->2.4 示例代码<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zkq/gradle/_08_plugin.html" class="nav-link sidebar-link sidebar-page" arialabel="Plugin插件"><!---->Plugin插件<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/gradle/_09_other.html" class="nav-link sidebar-link sidebar-page" arialabel="其他"><!---->其他<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Settings类 &amp; SourceSets类</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://zengkaiqiang562.github.io/" target="_blank" rel="noopener noreferrer">Zenk562</a></span><span property="author" content="Zenk562"></span></span><span class="category-info" arialabel="分类🌈" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">gradle</li><meta property="articleSection" content="gradle"></ul></span><span arialabel="标签🏷" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">gradle</li></ul><meta property="keywords" content="gradle"></span><span class="date-info" arialabel="写作日期📅" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年10月23日</span><meta property="datePublished" content="2022-10-23T14:49:16.000Z"></span><!----><span class="words-info" arialabel="字数🔠" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>约 1152 字</span><meta property="wordCount" content="1152"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-settings-类和-settings-gradle-文件" class="router-link-active router-link-exact-active toc-link level2">1. Settings 类和 settings.gradle 文件</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-1-settings-gradle-文件的主要作用-导入子-project" class="router-link-active router-link-exact-active toc-link level3">1.1 settings.gradle 文件的主要作用：导入子 Project</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-2-gradle-初始化阶段的主要工作-解析出-project-树结构" class="router-link-active router-link-exact-active toc-link level3">1.2 Gradle 初始化阶段的主要工作：解析出 Project 树结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-3-settings-类的相关-api" class="router-link-active router-link-exact-active toc-link level3">1.3 Settings 类的相关 API</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-3-1-导入一个或多个子-project" class="router-link-active router-link-exact-active toc-link level4">1.3.1 导入一个或多个子 Project</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_1-3-2-导入项目之外的文件夹作为子-project" class="router-link-active router-link-exact-active toc-link level4">1.3.2 导入项目之外的文件夹作为子 Project</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-sourceset-类" class="router-link-active router-link-exact-active toc-link level2">2. SourceSet 类</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-1-使用示例" class="router-link-active router-link-exact-active toc-link level3">2.1 使用示例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-2-sourcesets-configureclosure-的作用" class="router-link-active router-link-exact-active toc-link level3">2.2 sourceSets(configureClosure) 的作用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-3-android-资源集合-main-的配置详解" class="router-link-active router-link-exact-active toc-link level3">2.3 Android 资源集合 &quot;main&quot; 的配置详解</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/gradle/_07_settings_sourcesets.html#_2-4-示例代码" class="router-link-active router-link-exact-active toc-link level3">2.4 示例代码</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="_1-settings-类和-settings-gradle-文件" tabindex="-1"><a class="header-anchor" href="#_1-settings-类和-settings-gradle-文件" aria-hidden="true">#</a> 1. <code>Settings</code> 类和 <code>settings.gradle</code> 文件</h2><p>在 <a href="/zkq/gradle/_05_project.html#_2-4-6-%E5%88%86%E6%9E%90-setting-gradle-%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0" class="">分析 setting.gradle 文件的内部实现</a> 中有提到：</p><div class="language-text ext-text"><pre class="language-text"><code>1. settings.gradle 编译生成的字节码文件，是一个 SettingsScript 的子类文件；

2. SettingsScript 类是一个脚本类，其中的 getScriptTarget() 返回一个目标对象 target，
   这个目标对象 target 为 settings.gradle 文件中提供了可以使用的 API；

3. 为 settings.gradle 文件中提供可以使用的 API 的目标对象 target 就是一个动态创建的 DefaultSettings 的子类。
   也就是说，setting.gradle 文件中可以使用 DefaultSettings 提供的API；

4. 查看源码，大概判断是使用 AsmBackedClassGenerator 来动态创建 DefaultSettings 的子类的。
   这与动态创建 DefaultProject 的子类所使用的生成器一样。在 AsmBackedClassGenerator 中，
   可以看到创建 DefaultSettings 子类时所动态生成的一些 API，这些动态生成的 API 也可以在该 settings.gradle 中使用。

参考：
org.gradle.initialization.SettingsScript
org.gradle.initialization.DefaultSettings // implements Settings
org.gradle.api.initialization.Settings
org.gradle.initialization.SettingsFactory
org.gradle.internal.service.scopes.BuildScopeServices
org.gradle.api.internal.ClassGeneratorBackedInstantiator
org.gradle.api.internal.AsmBackedClassGenerator
</code></pre></div><p>综上，就像 <code>build.gradle</code> 文件中可以调用 <code>Project</code> 的 <code>API</code> 来初始化一个 <code>Project</code> 类对象一样。</p><p><code>settings.gradle</code> 文件中则可以调用 <code>Settings</code> 的 <code>API</code> 用来初始化一个 <code>Settings</code> 类对象。</p><h3 id="_1-1-settings-gradle-文件的主要作用-导入子-project" tabindex="-1"><a class="header-anchor" href="#_1-1-settings-gradle-文件的主要作用-导入子-project" aria-hidden="true">#</a> 1.1 <code>settings.gradle</code> 文件的主要作用：导入子 <code>Project</code></h3><p><code>settings.gradle</code> 文件的主要作用就是通过 <code>Settings</code> 类提供的 <code>include</code> 方法导入子 <code>Project</code>。</p><h3 id="_1-2-gradle-初始化阶段的主要工作-解析出-project-树结构" tabindex="-1"><a class="header-anchor" href="#_1-2-gradle-初始化阶段的主要工作-解析出-project-树结构" aria-hidden="true">#</a> 1.2 <code>Gradle</code> 初始化阶段的主要工作：解析出 <code>Project</code> 树结构</h3><p><code>Gradle</code> 初始化阶段的主要工作就是对 <code>settings.gradle</code> 文件进行处理，解析出整个 <code>Project</code> 项目的 <code>Project</code> 树结构。</p><h3 id="_1-3-settings-类的相关-api" tabindex="-1"><a class="header-anchor" href="#_1-3-settings-类的相关-api" aria-hidden="true">#</a> 1.3 <code>Settings</code> 类的相关 <code>API</code></h3><h4 id="_1-3-1-导入一个或多个子-project" tabindex="-1"><a class="header-anchor" href="#_1-3-1-导入一个或多个子-project" aria-hidden="true">#</a> 1.3.1 导入一个或多个子 <code>Project</code></h4><div class="language-groovy ext-groovy"><pre class="language-groovy"><code><span class="token keyword">void</span> <span class="token function">include</span><span class="token punctuation">(</span>String<span class="token punctuation">...</span> projectPaths<span class="token punctuation">)</span>
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>作用：导入一个或多个子 Project

注意：projectPath 并不是表示子 Project 所在的文件路径，而是表示在将要构建的整个 Project 树结构中该子 Project 所在的结构位置，如：

    include &#39;:projectName1&#39;  
        1. 表示导入了一个名为 projectName1 的一级子 Project，即该子 Project 是根 Project 下的直接子 Project
        2. 默认情况下，在根 Project 的文件夹下，应该有一个名为 projectName1 的文件夹作为该子 Project 的文件夹

    include &#39;:projectName1:projectName2&#39;
        1. 表示导入了一个名为 projectName2 的二级子 Project，即该子 Project 是一级子 Project(projectName1) 下的子 Project
        2. 默认情况下，在根 Project 的文件夹下的 projectName1 文件夹下，应该有一个名为 projectName2 的文件夹
</code></pre></div><h4 id="_1-3-2-导入项目之外的文件夹作为子-project" tabindex="-1"><a class="header-anchor" href="#_1-3-2-导入项目之外的文件夹作为子-project" aria-hidden="true">#</a> 1.3.2 导入项目之外的文件夹作为子 <code>Project</code></h4><p>导入根 <code>Project</code> 目录之外的文件夹作为子 <code>Project</code> 的步骤如下：</p><div class="language-text ext-text"><pre class="language-text"><code>Step1. 先执行 include &#39;:subProject&#39;  表示导入了一个名为 subProject 的一级子 Project

Step2. 再执行 project(&#39;:subProject&#39;).projectDir = file(&#39;subProjectDir&#39;)
    该代码表示将 subProjectDir（根 Project 目录之外的文件夹路径）作为 subProject 的工程目录。
</code></pre></div><h2 id="_2-sourceset-类" tabindex="-1"><a class="header-anchor" href="#_2-sourceset-类" aria-hidden="true">#</a> 2. <code>SourceSet</code> 类</h2><h3 id="_2-1-使用示例" tabindex="-1"><a class="header-anchor" href="#_2-1-使用示例" aria-hidden="true">#</a> 2.1 使用示例</h3><div class="language-groovy ext-groovy"><pre class="language-groovy"><code>android <span class="token punctuation">{</span> <span class="token comment">// android 表示一个 Android 工程，配置闭包中对 Android 工程进行配置</span>
    sourceSets <span class="token punctuation">{</span> <span class="token comment">// 从 &quot;Sets&quot; 可以看出，是set的集合（即集合的集合），sourceSets 表示资源集合，配置闭包中对资源进行配置</span>
        main <span class="token punctuation">{</span> <span class="token comment">// main 表示一个 set 集合，这里就是 AndroidSourceSet，配置闭包中对 Android 资源进行配置</span>
            <span class="token comment">//可以调用 AndroidSourceSet 的 API</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-2-sourcesets-configureclosure-的作用" tabindex="-1"><a class="header-anchor" href="#_2-2-sourcesets-configureclosure-的作用" aria-hidden="true">#</a> 2.2 <code>sourceSets(configureClosure)</code> 的作用</h3><div class="language-text ext-text"><pre class="language-text"><code>sourceSets(configureClosure) 的作用就是用来配置 sourceSets 对象的
sourceSets 对象是一个容器，容器中的元素是 AndroidSourceSet，即 Android 资源集合，
也就是说 sourceSets(configureClosure) 就是用来配置各种 Android 资源集合的，
具体有哪些 Android 资源集合，由 Android-Gradle 插件来初始化，
从上面的源码可以看出，sourceSets 容器中保存了一个名为 main 的 Android 资源集合（即 main 是一个 AndroidSourceSet 对象）
可以通过 main(configureClosure) 配置名为 main 的 Android 资源集合，配置闭包中可以调用 AndroidSourceSet 的 API
</code></pre></div><h3 id="_2-3-android-资源集合-main-的配置详解" tabindex="-1"><a class="header-anchor" href="#_2-3-android-资源集合-main-的配置详解" aria-hidden="true">#</a> 2.3 <code>Android</code> 资源集合 &quot;<code>main</code>&quot; 的配置详解</h3><p><code>main(configureClosure)</code> 可以访问 <code>DefaultAndroidSourceSet</code> 的 <code>API</code>。</p><p>配置 <code>Android</code> 资源集合，主要就是通过配置 <code>DefaultAndroidSourceSet</code> 中的相关属性，来指定相关文件的访问路径。</p><p><code>DefaultAndroidSourceSet</code> 中的部分属性如下：</p><ol><li><p>表示资源目录的 <code>AndroidSourceDirectorySet</code> 类型的属性</p><div class="language-text ext-text"><pre class="language-text"><code>res
assets
java
aidl
jni
jniLibs
</code></pre></div><div class="language-groovy ext-groovy"><pre class="language-groovy"><code><span class="token comment">/* 调用 AndroidSourceDirectorySet 的如下 API 可以为这些属性分别指定资源目录的实际路径 */</span>
AndroidSourceDirectorySet <span class="token function">srcDir</span><span class="token punctuation">(</span>Object srcDir<span class="token punctuation">)</span><span class="token punctuation">;</span>
AndroidSourceDirectorySet <span class="token function">srcDirs</span><span class="token punctuation">(</span>Object<span class="token punctuation">...</span> srcDirs<span class="token punctuation">)</span><span class="token punctuation">;</span>
AndroidSourceDirectorySet <span class="token function">setSrcDirs</span><span class="token punctuation">(</span>Iterable<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span> srcDirs<span class="token punctuation">)</span><span class="token punctuation">;</span>

Set<span class="token operator">&lt;</span>File<span class="token operator">&gt;</span> <span class="token function">getSrcDirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li><li><p>表示资源文件的 <code>AndroidSourceFile</code> 类型的属性</p><div class="language-text ext-text"><pre class="language-text"><code>manifest
</code></pre></div><div class="language-groovy ext-groovy"><pre class="language-groovy"><code><span class="token comment">/* 调用 AndroidSourceFile 的如下 API 可以为该属性指定资源文件的实际路径 */</span>
AndroidSourceFile <span class="token function">srcFile</span><span class="token punctuation">(</span>Object srcPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

File <span class="token function">getSrcFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol><h3 id="_2-4-示例代码" tabindex="-1"><a class="header-anchor" href="#_2-4-示例代码" aria-hidden="true">#</a> 2.4 示例代码</h3><p><img src="/assets/01.7339d34e.png" alt="" loading="lazy"></p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zengkaiqiang562/JavaGuide/edit/main/docs/zkq/gradle/_07_settings_sourcesets.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/11/24 15:51:52</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zengk</span>,<!--]--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zenk</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zkq/gradle/_06_task.html" class="nav-link prev" arialabel="Task详解与实战"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->Task详解与实战</div></a><a href="/zkq/gradle/_08_plugin.html" class="nav-link next" arialabel="Plugin插件"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">Plugin插件<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright © 2023 Zenk562</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.625aa393.js" defer></script>
  </body>
</html>
