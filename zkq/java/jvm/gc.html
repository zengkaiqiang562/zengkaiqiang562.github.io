<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zengkaiqiang562.github.io/zkq/java/jvm/gc.html"><meta property="og:site_name" content="Android Guide"><meta property="og:title" content="åƒåœ¾å›æ”¶"><meta property="og:type" content="article"><meta property="og:image" content="https://zengkaiqiang562.github.io/"><meta property="og:updated_time" content="2022-07-07T15:59:00.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="åƒåœ¾å›æ”¶"><meta property="article:tag" content="java"><meta property="article:modified_time" content="2022-07-07T15:59:00.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2922463_99aa80ii7cf.css"><title>åƒåœ¾å›æ”¶ | Android Guide</title><meta name="description" content="Android å­¦ä¹  && é¢è¯•æŒ‡å—">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.5a38b724.css">
    <link rel="modulepreload" href="/assets/app.625aa393.js"><link rel="modulepreload" href="/assets/gc.html.9db27afc.js"><link rel="modulepreload" href="/assets/gc.html.1406c660.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.png" alt="Android Guide"><!----><span class="site-name hide-in-pad">Android Guide</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" arialabel="é¢è¯•æŒ‡å—"><i class="icon iconfont icon-java"></i>é¢è¯•æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zhuanlan/" class="nav-link" arialabel="ä¼˜è´¨ä¸“æ "><i class="icon iconfont icon-recommend"></i>ä¼˜è´¨ä¸“æ <!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" arialabel="é¡¹ç›®ç²¾é€‰"><i class="icon iconfont icon-github"></i>é¡¹ç›®ç²¾é€‰<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://snailclimb.gitee.io/javaguide/#/" rel="noopener noreferrer" target="_blank" arialabel="æ—§ç‰ˆé“¾æ¥" class="nav-link"><i class="icon iconfont icon-java"></i>æ—§ç‰ˆé“¾æ¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://javaguide.cn/feed.json" rel="noopener noreferrer" target="_blank" arialabel="RSSè®¢é˜…" class="nav-link"><i class="icon iconfont icon-rss"></i>RSSè®¢é˜…<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about-the-author/" class="nav-link" arialabel="å…³äºä½œè€…"><i class="icon iconfont icon-zuozhe"></i>å…³äºä½œè€…<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zengkaiqiang562/JavaGuide" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/zkq/java/reflect.html" class="nav-link sidebar-link sidebar-page" arialabel="åå°„æœºåˆ¶"><!---->åå°„æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/annotation.html" class="nav-link sidebar-link sidebar-page" arialabel="æ³¨è§£æŠ€æœ¯"><!---->æ³¨è§£æŠ€æœ¯<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/genericity.html" class="nav-link sidebar-link sidebar-page" arialabel="æ³›å‹ç¼–ç¨‹ï¼ˆTODOï¼‰"><!---->æ³›å‹ç¼–ç¨‹ï¼ˆTODOï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/thread.html" class="nav-link sidebar-link sidebar-page" arialabel="çº¿ç¨‹"><!---->çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/threadpool.html" class="nav-link sidebar-link sidebar-page" arialabel="çº¿ç¨‹æ± "><!---->çº¿ç¨‹æ± <!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/jmm.html" class="nav-link sidebar-link sidebar-page" arialabel="Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰"><!---->Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">JVM</span><span class="arrow down"></span></button><!--[--><ul class="sidebar-links"><li><!--[--><a href="/zkq/java/jvm/jvm-spec.html" class="nav-link sidebar-link sidebar-page" arialabel="è®¤è¯† JVM è§„èŒƒï¼ˆJVM æ¦‚è¿°ã€å­—èŠ‚ç æŒ‡ä»¤é›†ã€Classæ–‡ä»¶è§£æã€ASMï¼‰"><!---->è®¤è¯† JVM è§„èŒƒï¼ˆJVM æ¦‚è¿°ã€å­—èŠ‚ç æŒ‡ä»¤é›†ã€Classæ–‡ä»¶è§£æã€ASMï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/jvm/classloader.html" class="nav-link sidebar-link sidebar-page" arialabel="ç±»åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–"><!---->ç±»åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/jvm/memory-allocate.html" class="nav-link sidebar-link sidebar-page" arialabel="å†…å­˜åˆ†é…"><!---->å†…å­˜åˆ†é…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/jvm/class-exe-engine.html" class="nav-link sidebar-link sidebar-page" arialabel="å­—èŠ‚ç æ‰§è¡Œå¼•æ“"><!---->å­—èŠ‚ç æ‰§è¡Œå¼•æ“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zkq/java/jvm/gc.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="åƒåœ¾å›æ”¶"><!---->åƒåœ¾å›æ”¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-åƒåœ¾å›æ”¶åŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. åƒåœ¾å›æ”¶åŸºç¡€"><!---->1. åƒåœ¾å›æ”¶åŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-1-ä»€ä¹ˆæ˜¯åƒåœ¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.1 ä»€ä¹ˆæ˜¯åƒåœ¾"><!---->1.1 ä»€ä¹ˆæ˜¯åƒåœ¾<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2 å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾"><!---->1.2 å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-1-å¼•ç”¨è®¡æ•°æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.1 å¼•ç”¨è®¡æ•°æ³•"><!---->1.2.1 å¼•ç”¨è®¡æ•°æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-æ ¹æœç´¢ç®—æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2 æ ¹æœç´¢ç®—æ³•"><!---->1.2.2 æ ¹æœç´¢ç®—æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-1-å¯ä½œä¸º-gc-roots-çš„å¯¹è±¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.1 å¯ä½œä¸º GC Roots çš„å¯¹è±¡"><!---->1.2.2.1 å¯ä½œä¸º GC Roots çš„å¯¹è±¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-2-hotspot-è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–-oopmap-æ•°æ®ç»“æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.2 HotSpot è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–ï¼ˆOopMap æ•°æ®ç»“æ„ï¼‰"><!---->1.2.2.2 HotSpot è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–ï¼ˆOopMap æ•°æ®ç»“æ„ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-2-1-å®‰å…¨ç‚¹-å®‰å…¨åŒºåŸŸ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.2.2.1 å®‰å…¨ç‚¹ &amp; å®‰å…¨åŒºåŸŸ"><!---->1.2.2.2.1 å®‰å…¨ç‚¹ &amp; å®‰å…¨åŒºåŸŸ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-å¼•ç”¨åˆ†ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3 å¼•ç”¨åˆ†ç±»"><!---->1.2.3 å¼•ç”¨åˆ†ç±»<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-1-å¼ºå¼•ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3.1 å¼ºå¼•ç”¨"><!---->1.2.3.1 å¼ºå¼•ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-2-è½¯å¼•ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3.2 è½¯å¼•ç”¨"><!---->1.2.3.2 è½¯å¼•ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-3-å¼±å¼•ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3.3 å¼±å¼•ç”¨"><!---->1.2.3.3 å¼±å¼•ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-4-è™šå¼•ç”¨-å¹½çµå¼•ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3.4 è™šå¼•ç”¨ï¼ˆå¹½çµå¼•ç”¨ï¼‰"><!---->1.2.3.4 è™šå¼•ç”¨ï¼ˆå¹½çµå¼•ç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-5-ç¤ºä¾‹-gc-å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“-finalize-referencequeue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.3.5 ç¤ºä¾‹ï¼šGC å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“ï¼ˆfinalize() &amp; ReferenceQueueï¼‰"><!---->1.2.3.5 ç¤ºä¾‹ï¼šGC å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“ï¼ˆfinalize() &amp; ReferenceQueueï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-è·¨ä»£å¼•ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4 è·¨ä»£å¼•ç”¨"><!---->1.2.4 è·¨ä»£å¼•ç”¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-1-è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4.1 è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜"><!---->1.2.4.1 è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-è®°å¿†é›†-è§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4.2 è®°å¿†é›†ï¼ˆè§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜ï¼‰"><!---->1.2.4.2 è®°å¿†é›†ï¼ˆè§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-1-å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4.2.1 å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼"><!---->1.2.4.2.1 å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-2-å¡è¡¨-card-table-è®°å¿†é›†çš„å…·ä½“å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4.2.2 å¡è¡¨ï¼ˆCard Tableï¼Œè®°å¿†é›†çš„å…·ä½“å®ç°ï¼‰"><!---->1.2.4.2.2 å¡è¡¨ï¼ˆCard Tableï¼Œè®°å¿†é›†çš„å…·ä½“å®ç°ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-2-å¡é¡µ-card-page-å¡è¡¨çš„ç»„æˆå…ƒç´ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4.2.2 å¡é¡µï¼ˆCard Pageï¼Œå¡è¡¨çš„ç»„æˆå…ƒç´ ï¼‰"><!---->1.2.4.2.2 å¡é¡µï¼ˆCard Pageï¼Œå¡è¡¨çš„ç»„æˆå…ƒç´ ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-3-å†™å±éšœ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.4.2.3 å†™å±éšœ"><!---->1.2.4.2.3 å†™å±éšœ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-5-åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.5 åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤"><!---->1.2.5 åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-5-1-finalize-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.5.1  finalize() æ–¹æ³•"><!---->1.2.5.1  finalize() æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-5-2-ç¤ºä¾‹-é€šè¿‡-finalize-æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2.5.2  ç¤ºä¾‹ï¼šé€šè¿‡ finalize() æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘"><!---->1.2.5.2  ç¤ºä¾‹ï¼šé€šè¿‡ finalize() æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-å¦‚ä½•å›æ”¶åƒåœ¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3 å¦‚ä½•å›æ”¶åƒåœ¾"><!---->1.3 å¦‚ä½•å›æ”¶åƒåœ¾<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-gc-ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1 GC ç±»å‹"><!---->1.3.1 GC ç±»å‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-1-minorgc-younggc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1.1 MinorGCï¼ˆYoungGCï¼‰"><!---->1.3.1.1 MinorGCï¼ˆYoungGCï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-2-majorgc-oldgc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1.2 MajorGCï¼ˆOldGCï¼‰"><!---->1.3.1.2 MajorGCï¼ˆOldGCï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-3-mixedgc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1.3 MixedGC"><!---->1.3.1.3 MixedGC<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-4-fullgc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.1.4 FullGC"><!---->1.3.1.4 FullGC<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-2-stw-stop-the-world" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.2 STWï¼ˆStop-The-Worldï¼‰"><!---->1.3.2 STWï¼ˆStop-The-Worldï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-3-åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.3 åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶"><!---->1.3.3 åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-åƒåœ¾æ”¶é›†ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.4 åƒåœ¾æ”¶é›†ç±»å‹"><!---->1.3.4 åƒåœ¾æ”¶é›†ç±»å‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-1-ä¸²è¡Œæ”¶é›†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.4.1 ä¸²è¡Œæ”¶é›†"><!---->1.3.4.1 ä¸²è¡Œæ”¶é›†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-2-å¹¶è¡Œæ”¶é›†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.4.2 å¹¶è¡Œæ”¶é›†"><!---->1.3.4.2 å¹¶è¡Œæ”¶é›†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-3-å¹¶å‘æ”¶é›†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.4.3 å¹¶å‘æ”¶é›†"><!---->1.3.4.3 å¹¶å‘æ”¶é›†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-åƒåœ¾å›æ”¶ç®—æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.5 åƒåœ¾å›æ”¶ç®—æ³•"><!---->1.3.5 åƒåœ¾å›æ”¶ç®—æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-1-æ ‡è®°æ¸…é™¤ç®—æ³•-mark-sweep" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.5.1 æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰"><!---->1.3.5.1 æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-2-å¤åˆ¶ç®—æ³•-copying-ä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.5.2 å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼Œä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨ï¼‰"><!---->1.3.5.2 å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼Œä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-2-1-åˆ†é…æ‹…ä¿" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.5.2.1 åˆ†é…æ‹…ä¿"><!---->1.3.5.2.1 åˆ†é…æ‹…ä¿<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-3-æ ‡è®°æ•´ç†ç®—æ³•-mark-compact-ä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3.5.3 æ ‡è®°æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼Œä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨ï¼‰"><!---->1.3.5.3 æ ‡è®°æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼Œä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-åƒåœ¾æ”¶é›†å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. åƒåœ¾æ”¶é›†å™¨"><!---->2. åƒåœ¾æ”¶é›†å™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-1-æ¦‚è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.1 æ¦‚è¿°"><!---->2.1 æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-2-ä¸²è¡Œæ”¶é›†å™¨-serial-æ–°ç”Ÿä»£-serial-old-è€å¹´ä»£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2 ä¸²è¡Œæ”¶é›†å™¨ï¼ˆSerialï¼ˆæ–°ç”Ÿä»£ï¼‰/ Serial oldï¼ˆè€å¹´ä»£ï¼‰ï¼‰"><!---->2.2 ä¸²è¡Œæ”¶é›†å™¨ï¼ˆSerialï¼ˆæ–°ç”Ÿä»£ï¼‰/ Serial oldï¼ˆè€å¹´ä»£ï¼‰ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-2-1-ç¤ºä¾‹-serial-serial-old-ç»„åˆçš„é…ç½®-xx-useserialgc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2.1 ç¤ºä¾‹ï¼šSerial + Serial old ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseSerialGCï¼‰"><!---->2.2.1 ç¤ºä¾‹ï¼šSerial + Serial old ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseSerialGCï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-3-å¹¶è¡Œæ”¶é›†å™¨-parnew-æ–°ç”Ÿä»£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.3 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParNewï¼ˆæ–°ç”Ÿä»£ï¼‰ï¼‰"><!---->2.3 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParNewï¼ˆæ–°ç”Ÿä»£ï¼‰ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-3-1-ç¤ºä¾‹-parnew-cms-ç»„åˆçš„é…ç½®-xx-useconcmarksweepgc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.3.1 ç¤ºä¾‹ï¼šParNew + CMS ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseConcMarkSweepGCï¼‰"><!---->2.3.1 ç¤ºä¾‹ï¼šParNew + CMS ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseConcMarkSweepGCï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-4-å¹¶è¡Œæ”¶é›†å™¨-parallel-scavenge-æ–°ç”Ÿä»£-parallel-old-è€å¹´ä»£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.4 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParallel Scavengeï¼ˆæ–°ç”Ÿä»£ï¼‰/ Parallel oldï¼ˆè€å¹´ä»£ï¼‰ï¼‰"><!---->2.4 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParallel Scavengeï¼ˆæ–°ç”Ÿä»£ï¼‰/ Parallel oldï¼ˆè€å¹´ä»£ï¼‰ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-4-1-ç¤ºä¾‹-parallel-scavenge-parallel-old-ç»„åˆçš„é…ç½®-xx-useparallelgc-æˆ–-xx-useparalleloldgc" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.4.1 ç¤ºä¾‹ï¼šParallel Scavenge + Parallel old ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseParallelGC æˆ– -XX:+UseParallelOldGCï¼‰"><!---->2.4.1 ç¤ºä¾‹ï¼šParallel Scavenge + Parallel old ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseParallelGC æˆ– -XX:+UseParallelOldGCï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-5-å¹¶å‘æ”¶é›†å™¨-cms-concurrent-mark-and-sweep-å¹¶å‘æ ‡è®°æ¸…é™¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.5 å¹¶å‘æ”¶é›†å™¨ï¼ˆCMSï¼ŒConcurrent Mark and Sweep å¹¶å‘æ ‡è®°æ¸…é™¤ï¼‰"><!---->2.5 å¹¶å‘æ”¶é›†å™¨ï¼ˆCMSï¼ŒConcurrent Mark and Sweep å¹¶å‘æ ‡è®°æ¸…é™¤ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-g1-æ”¶é›†å™¨-garbage-first" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6 G1 æ”¶é›†å™¨ï¼ˆGarbage-Firstï¼‰"><!---->2.6 G1 æ”¶é›†å™¨ï¼ˆGarbage-Firstï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-1-g1-æ”¶é›†å™¨çš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.1 G1 æ”¶é›†å™¨çš„ç‰¹ç‚¹"><!---->2.6.1 G1 æ”¶é›†å™¨çš„ç‰¹ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-2-g1-æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸ-region" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.2 G1 æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸï¼ˆRegionï¼‰"><!---->2.6.2 G1 æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸï¼ˆRegionï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-3-g1-æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹-å››ä¸ªé˜¶æ®µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.3 G1 æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹ï¼ˆå››ä¸ªé˜¶æ®µï¼‰"><!---->2.6.3 G1 æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹ï¼ˆå››ä¸ªé˜¶æ®µï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-g1-æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4 G1 æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®"><!---->2.6.4 G1 æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-1-xx-useg1gc-ä½¿ç”¨-g1-æ”¶é›†å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.1 -XX:+UseG1GCï¼ˆä½¿ç”¨ G1 æ”¶é›†å™¨ï¼‰"><!---->2.6.4.1 -XX:+UseG1GCï¼ˆä½¿ç”¨ G1 æ”¶é›†å™¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-2-xx-maxgcpausemillis-n-æœ€å¤§-gc-åœé¡¿æ—¶é—´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.2 -XX:MaxGCPauseMillis=&lt;n&gt;ï¼ˆæœ€å¤§ GC åœé¡¿æ—¶é—´ï¼‰"><!---->2.6.4.2 -XX:MaxGCPauseMillis=&lt;n&gt;ï¼ˆæœ€å¤§ GC åœé¡¿æ—¶é—´ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-3-xx-initiatingheapoccupancypercent-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.3 -XX:InitiatingHeapOccupancyPercent=&lt;n&gt;"><!---->2.6.4.3 -XX:InitiatingHeapOccupancyPercent=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-4-xx-newratio-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.4 -XX:NewRatio=&lt;n&gt;"><!---->2.6.4.4 -XX:NewRatio=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-5-xx-survivorratio-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.5 -XX:SurvivorRatio=&lt;n&gt;"><!---->2.6.4.5 -XX:SurvivorRatio=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-6-xx-maxtenuringthreshold-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.6 -XX:MaxTenuringThreshold=&lt;n&gt;"><!---->2.6.4.6 -XX:MaxTenuringThreshold=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-7-xx-parallelgcthreads-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.7 -XX:ParallelGCThreads=&lt;n&gt;"><!---->2.6.4.7 -XX:ParallelGCThreads=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-8-xx-concgcthreads-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.8 -XX:ConcGCThreads=&lt;n&gt;"><!---->2.6.4.8 -XX:ConcGCThreads=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-9-xx-g1reservepercent-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.9 -XX:G1ReservePercent=&lt;n&gt;"><!---->2.6.4.9 -XX:G1ReservePercent=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-10-xx-g1heapregionsize-n" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.6.4.10 -XX:G1HeapRegionSize=&lt;n&gt;"><!---->2.6.4.10 -XX:G1HeapRegionSize=&lt;n&gt;<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-7-zgc-æ”¶é›†å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.7 ZGC æ”¶é›†å™¨"><!---->2.7 ZGC æ”¶é›†å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-gc-æ€§èƒ½æŒ‡æ ‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3. GC æ€§èƒ½æŒ‡æ ‡"><!---->3. GC æ€§èƒ½æŒ‡æ ‡<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-1-ååé‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.1 ååé‡"><!---->3.1 ååé‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-2-gc-è´Ÿè·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.2 GC è´Ÿè·"><!---->3.2 GC è´Ÿè·<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-3-æš‚åœæ—¶é—´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.3 æš‚åœæ—¶é—´"><!---->3.3 æš‚åœæ—¶é—´<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-4-gc-é¢‘ç‡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.4 GC é¢‘ç‡"><!---->3.4 GC é¢‘ç‡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-5-ååº”é€Ÿåº¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.5 ååº”é€Ÿåº¦"><!---->3.5 ååº”é€Ÿåº¦<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/jvm/gc.html#_4-jvm-å†…å­˜åˆ†é…åŸåˆ™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4. JVM å†…å­˜åˆ†é…åŸåˆ™"><!---->4. JVM å†…å­˜åˆ†é…åŸåˆ™<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/zkq/java/jvm/concurrence.html" class="nav-link sidebar-link sidebar-page" arialabel="é«˜æ•ˆå¹¶å‘"><!---->é«˜æ•ˆå¹¶å‘<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->åƒåœ¾å›æ”¶</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://zengkaiqiang562.github.io/" target="_blank" rel="noopener noreferrer">Zenk562</a></span><span property="author" content="Zenk562"></span></span><span class="category-info" arialabel="åˆ†ç±»ğŸŒˆ" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">java</li><meta property="articleSection" content="java"></ul></span><span arialabel="æ ‡ç­¾ğŸ·" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">java</li></ul><meta property="keywords" content="java"></span><span class="date-info" arialabel="å†™ä½œæ—¥æœŸğŸ“…" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022å¹´7æœˆ7æ—¥</span><meta property="datePublished" content="2022-07-07T15:59:00.000Z"></span><!----><span class="words-info" arialabel="å­—æ•°ğŸ” " isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>çº¦ 7494 å­—</span><meta property="wordCount" content="7494"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-åƒåœ¾å›æ”¶åŸºç¡€" class="router-link-active router-link-exact-active toc-link level2">1. åƒåœ¾å›æ”¶åŸºç¡€</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-1-ä»€ä¹ˆæ˜¯åƒåœ¾" class="router-link-active router-link-exact-active toc-link level3">1.1 ä»€ä¹ˆæ˜¯åƒåœ¾</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾" class="router-link-active router-link-exact-active toc-link level3">1.2 å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-1-å¼•ç”¨è®¡æ•°æ³•" class="router-link-active router-link-exact-active toc-link level4">1.2.1 å¼•ç”¨è®¡æ•°æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-æ ¹æœç´¢ç®—æ³•" class="router-link-active router-link-exact-active toc-link level4">1.2.2 æ ¹æœç´¢ç®—æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-1-å¯ä½œä¸º-gc-roots-çš„å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level5">1.2.2.1 å¯ä½œä¸º GC Roots çš„å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-2-hotspot-è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–-oopmap-æ•°æ®ç»“æ„" class="router-link-active router-link-exact-active toc-link level5">1.2.2.2 HotSpot è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–ï¼ˆOopMap æ•°æ®ç»“æ„ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-2-2-1-å®‰å…¨ç‚¹-å®‰å…¨åŒºåŸŸ" class="router-link-active router-link-exact-active toc-link level6">1.2.2.2.1 å®‰å…¨ç‚¹ &amp; å®‰å…¨åŒºåŸŸ</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-å¼•ç”¨åˆ†ç±»" class="router-link-active router-link-exact-active toc-link level4">1.2.3 å¼•ç”¨åˆ†ç±»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-1-å¼ºå¼•ç”¨" class="router-link-active router-link-exact-active toc-link level5">1.2.3.1 å¼ºå¼•ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-2-è½¯å¼•ç”¨" class="router-link-active router-link-exact-active toc-link level5">1.2.3.2 è½¯å¼•ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-3-å¼±å¼•ç”¨" class="router-link-active router-link-exact-active toc-link level5">1.2.3.3 å¼±å¼•ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-4-è™šå¼•ç”¨-å¹½çµå¼•ç”¨" class="router-link-active router-link-exact-active toc-link level5">1.2.3.4 è™šå¼•ç”¨ï¼ˆå¹½çµå¼•ç”¨ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-3-5-ç¤ºä¾‹-gc-å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“-finalize-referencequeue" class="router-link-active router-link-exact-active toc-link level5">1.2.3.5 ç¤ºä¾‹ï¼šGC å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“ï¼ˆfinalize() &amp; ReferenceQueueï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-è·¨ä»£å¼•ç”¨" class="router-link-active router-link-exact-active toc-link level4">1.2.4 è·¨ä»£å¼•ç”¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-1-è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level5">1.2.4.1 è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-è®°å¿†é›†-è§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level5">1.2.4.2 è®°å¿†é›†ï¼ˆè§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-1-å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼" class="router-link-active router-link-exact-active toc-link level6">1.2.4.2.1 å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-2-å¡è¡¨-card-table-è®°å¿†é›†çš„å…·ä½“å®ç°" class="router-link-active router-link-exact-active toc-link level6">1.2.4.2.2 å¡è¡¨ï¼ˆCard Tableï¼Œè®°å¿†é›†çš„å…·ä½“å®ç°ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-2-å¡é¡µ-card-page-å¡è¡¨çš„ç»„æˆå…ƒç´ " class="router-link-active router-link-exact-active toc-link level6">1.2.4.2.2 å¡é¡µï¼ˆCard Pageï¼Œå¡è¡¨çš„ç»„æˆå…ƒç´ ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-4-2-3-å†™å±éšœ" class="router-link-active router-link-exact-active toc-link level6">1.2.4.2.3 å†™å±éšœ</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-5-åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤" class="router-link-active router-link-exact-active toc-link level4">1.2.5 åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-5-1-finalize-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level5">1.2.5.1  finalize() æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-2-5-2-ç¤ºä¾‹-é€šè¿‡-finalize-æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘" class="router-link-active router-link-exact-active toc-link level5">1.2.5.2  ç¤ºä¾‹ï¼šé€šè¿‡ finalize() æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-å¦‚ä½•å›æ”¶åƒåœ¾" class="router-link-active router-link-exact-active toc-link level3">1.3 å¦‚ä½•å›æ”¶åƒåœ¾</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-gc-ç±»å‹" class="router-link-active router-link-exact-active toc-link level4">1.3.1 GC ç±»å‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-1-minorgc-younggc" class="router-link-active router-link-exact-active toc-link level5">1.3.1.1 MinorGCï¼ˆYoungGCï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-2-majorgc-oldgc" class="router-link-active router-link-exact-active toc-link level5">1.3.1.2 MajorGCï¼ˆOldGCï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-3-mixedgc" class="router-link-active router-link-exact-active toc-link level5">1.3.1.3 MixedGC</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-1-4-fullgc" class="router-link-active router-link-exact-active toc-link level5">1.3.1.4 FullGC</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-2-stw-stop-the-world" class="router-link-active router-link-exact-active toc-link level4">1.3.2 STWï¼ˆStop-The-Worldï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-3-åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶" class="router-link-active router-link-exact-active toc-link level4">1.3.3 åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-åƒåœ¾æ”¶é›†ç±»å‹" class="router-link-active router-link-exact-active toc-link level4">1.3.4 åƒåœ¾æ”¶é›†ç±»å‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-1-ä¸²è¡Œæ”¶é›†" class="router-link-active router-link-exact-active toc-link level5">1.3.4.1 ä¸²è¡Œæ”¶é›†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-2-å¹¶è¡Œæ”¶é›†" class="router-link-active router-link-exact-active toc-link level5">1.3.4.2 å¹¶è¡Œæ”¶é›†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-4-3-å¹¶å‘æ”¶é›†" class="router-link-active router-link-exact-active toc-link level5">1.3.4.3 å¹¶å‘æ”¶é›†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-åƒåœ¾å›æ”¶ç®—æ³•" class="router-link-active router-link-exact-active toc-link level4">1.3.5 åƒåœ¾å›æ”¶ç®—æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-1-æ ‡è®°æ¸…é™¤ç®—æ³•-mark-sweep" class="router-link-active router-link-exact-active toc-link level5">1.3.5.1 æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-2-å¤åˆ¶ç®—æ³•-copying-ä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level5">1.3.5.2 å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼Œä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-2-1-åˆ†é…æ‹…ä¿" class="router-link-active router-link-exact-active toc-link level6">1.3.5.2.1 åˆ†é…æ‹…ä¿</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_1-3-5-3-æ ‡è®°æ•´ç†ç®—æ³•-mark-compact-ä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level5">1.3.5.3 æ ‡è®°æ•´ç†ç®—æ³•ï¼ˆMark-Compactï¼Œä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨ï¼‰</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-åƒåœ¾æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level2">2. åƒåœ¾æ”¶é›†å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-1-æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">2.1 æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-2-ä¸²è¡Œæ”¶é›†å™¨-serial-æ–°ç”Ÿä»£-serial-old-è€å¹´ä»£" class="router-link-active router-link-exact-active toc-link level3">2.2 ä¸²è¡Œæ”¶é›†å™¨ï¼ˆSerialï¼ˆæ–°ç”Ÿä»£ï¼‰/ Serial oldï¼ˆè€å¹´ä»£ï¼‰ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-2-1-ç¤ºä¾‹-serial-serial-old-ç»„åˆçš„é…ç½®-xx-useserialgc" class="router-link-active router-link-exact-active toc-link level4">2.2.1 ç¤ºä¾‹ï¼šSerial + Serial old ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseSerialGCï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-3-å¹¶è¡Œæ”¶é›†å™¨-parnew-æ–°ç”Ÿä»£" class="router-link-active router-link-exact-active toc-link level3">2.3 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParNewï¼ˆæ–°ç”Ÿä»£ï¼‰ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-3-1-ç¤ºä¾‹-parnew-cms-ç»„åˆçš„é…ç½®-xx-useconcmarksweepgc" class="router-link-active router-link-exact-active toc-link level4">2.3.1 ç¤ºä¾‹ï¼šParNew + CMS ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseConcMarkSweepGCï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-4-å¹¶è¡Œæ”¶é›†å™¨-parallel-scavenge-æ–°ç”Ÿä»£-parallel-old-è€å¹´ä»£" class="router-link-active router-link-exact-active toc-link level3">2.4 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆParallel Scavengeï¼ˆæ–°ç”Ÿä»£ï¼‰/ Parallel oldï¼ˆè€å¹´ä»£ï¼‰ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-4-1-ç¤ºä¾‹-parallel-scavenge-parallel-old-ç»„åˆçš„é…ç½®-xx-useparallelgc-æˆ–-xx-useparalleloldgc" class="router-link-active router-link-exact-active toc-link level4">2.4.1 ç¤ºä¾‹ï¼šParallel Scavenge + Parallel old ç»„åˆçš„é…ç½®ï¼ˆ-XX:+UseParallelGC æˆ– -XX:+UseParallelOldGCï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-5-å¹¶å‘æ”¶é›†å™¨-cms-concurrent-mark-and-sweep-å¹¶å‘æ ‡è®°æ¸…é™¤" class="router-link-active router-link-exact-active toc-link level3">2.5 å¹¶å‘æ”¶é›†å™¨ï¼ˆCMSï¼ŒConcurrent Mark and Sweep å¹¶å‘æ ‡è®°æ¸…é™¤ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-g1-æ”¶é›†å™¨-garbage-first" class="router-link-active router-link-exact-active toc-link level3">2.6 G1 æ”¶é›†å™¨ï¼ˆGarbage-Firstï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-1-g1-æ”¶é›†å™¨çš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active toc-link level4">2.6.1 G1 æ”¶é›†å™¨çš„ç‰¹ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-2-g1-æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸ-region" class="router-link-active router-link-exact-active toc-link level4">2.6.2 G1 æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸï¼ˆRegionï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-3-g1-æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹-å››ä¸ªé˜¶æ®µ" class="router-link-active router-link-exact-active toc-link level4">2.6.3 G1 æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹ï¼ˆå››ä¸ªé˜¶æ®µï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-g1-æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®" class="router-link-active router-link-exact-active toc-link level4">2.6.4 G1 æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-1-xx-useg1gc-ä½¿ç”¨-g1-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level5">2.6.4.1 -XX:+UseG1GCï¼ˆä½¿ç”¨ G1 æ”¶é›†å™¨ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-2-xx-maxgcpausemillis-n-æœ€å¤§-gc-åœé¡¿æ—¶é—´" class="router-link-active router-link-exact-active toc-link level5">2.6.4.2 -XX:MaxGCPauseMillis=&lt;n&gt;ï¼ˆæœ€å¤§ GC åœé¡¿æ—¶é—´ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-3-xx-initiatingheapoccupancypercent-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.3 -XX:InitiatingHeapOccupancyPercent=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-4-xx-newratio-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.4 -XX:NewRatio=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-5-xx-survivorratio-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.5 -XX:SurvivorRatio=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-6-xx-maxtenuringthreshold-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.6 -XX:MaxTenuringThreshold=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-7-xx-parallelgcthreads-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.7 -XX:ParallelGCThreads=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-8-xx-concgcthreads-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.8 -XX:ConcGCThreads=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-9-xx-g1reservepercent-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.9 -XX:G1ReservePercent=&lt;n&gt;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-6-4-10-xx-g1heapregionsize-n" class="router-link-active router-link-exact-active toc-link level5">2.6.4.10 -XX:G1HeapRegionSize=&lt;n&gt;</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_2-7-zgc-æ”¶é›†å™¨" class="router-link-active router-link-exact-active toc-link level3">2.7 ZGC æ”¶é›†å™¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-gc-æ€§èƒ½æŒ‡æ ‡" class="router-link-active router-link-exact-active toc-link level2">3. GC æ€§èƒ½æŒ‡æ ‡</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-1-ååé‡" class="router-link-active router-link-exact-active toc-link level3">3.1 ååé‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-2-gc-è´Ÿè·" class="router-link-active router-link-exact-active toc-link level3">3.2 GC è´Ÿè·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-3-æš‚åœæ—¶é—´" class="router-link-active router-link-exact-active toc-link level3">3.3 æš‚åœæ—¶é—´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-4-gc-é¢‘ç‡" class="router-link-active router-link-exact-active toc-link level3">3.4 GC é¢‘ç‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_3-5-ååº”é€Ÿåº¦" class="router-link-active router-link-exact-active toc-link level3">3.5 ååº”é€Ÿåº¦</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/jvm/gc.html#_4-jvm-å†…å­˜åˆ†é…åŸåˆ™" class="router-link-active router-link-exact-active toc-link level2">4. JVM å†…å­˜åˆ†é…åŸåˆ™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="_1-åƒåœ¾å›æ”¶åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_1-åƒåœ¾å›æ”¶åŸºç¡€" aria-hidden="true">#</a> 1. åƒåœ¾å›æ”¶åŸºç¡€</h2><h3 id="_1-1-ä»€ä¹ˆæ˜¯åƒåœ¾" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯åƒåœ¾" aria-hidden="true">#</a> 1.1 ä»€ä¹ˆæ˜¯åƒåœ¾</h3><p>ç®€å•è¯´å°±æ˜¯ï¼šå†…å­˜ä¸­å·²ç»ä¸å†è¢«ä½¿ç”¨åˆ°çš„å†…å­˜ç©ºé—´å°±æ˜¯åƒåœ¾ã€‚</p><h3 id="_1-2-å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾" tabindex="-1"><a class="header-anchor" href="#_1-2-å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾" aria-hidden="true">#</a> 1.2 å¦‚ä½•åˆ¤å®šæ˜¯åƒåœ¾</h3><h4 id="_1-2-1-å¼•ç”¨è®¡æ•°æ³•" tabindex="-1"><a class="header-anchor" href="#_1-2-1-å¼•ç”¨è®¡æ•°æ³•" aria-hidden="true">#</a> 1.2.1 å¼•ç”¨è®¡æ•°æ³•</h4><p>å¼•ç”¨è®¡æ•°æ³•ï¼šç»™å¯¹è±¡æ·»åŠ ä¸€ä¸ªå¼•ç”¨è®¡æ•°å™¨ï¼Œæœ‰è®¿é—®å°± <code>+1</code>ï¼Œå¼•ç”¨å¤±æ•ˆå°± <code>-1</code></p><p>å¼•ç”¨è®¡æ•°æ³•çš„ä¼˜ç¼ºç‚¹ï¼š</p><ol><li><p>ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ•ˆç‡é«˜ï¼›</p></li><li><p>ç¼ºç‚¹ï¼šä¸èƒ½è§£å†³å¯¹è±¡ä¹‹é—´çš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p><p><img src="/assets/01.04dc67f4.png" alt="" loading="lazy"></p></li></ol><h4 id="_1-2-2-æ ¹æœç´¢ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_1-2-2-æ ¹æœç´¢ç®—æ³•" aria-hidden="true">#</a> 1.2.2 æ ¹æœç´¢ç®—æ³•</h4><p>ä»æ ¹ï¼ˆ<code>GC Roots</code>ï¼‰èŠ‚ç‚¹å‘ä¸‹æœç´¢å¯¹è±¡èŠ‚ç‚¹ï¼Œæœç´ èµ°è¿‡çš„è·¯å¾„ç§°ä¸º <strong>å¼•ç”¨é“¾</strong>ã€‚å½“ä¸€ä¸ªå¯¹è±¡åˆ°æ ¹ä¹‹é—´æ²¡æœ‰è¿é€šæ—¶ï¼Œåˆ™è¯¥å¯¹è±¡ä¸å¯ç”¨ï¼Œä¸å¯ç”¨çš„å¯¹è±¡ä¼šè¢«åˆ¤å®šä¸ºåƒåœ¾ï¼Œå¯¹å…¶è¿›è¡Œå›æ”¶ã€‚</p><blockquote><p>ä¸€ä¸ªå¯¹è±¡å¯èƒ½å­˜åœ¨äºå¤šæ¡å¼•ç”¨é“¾ä¸­ï¼Œå³å¯èƒ½ä¸æ­¢ä¸€ä¸ªæ ¹èŠ‚ç‚¹èƒ½è¿é€šåˆ°è¯¥å¯¹è±¡ï¼Œæ‰€ä»¥æ ¹èŠ‚ç‚¹ç”¨å¤æ•°å½¢å¼è¡¨ç¤ºï¼š<code>GC Roots</code>ã€‚</p></blockquote><p><img src="/assets/02.6e5d96af.png" alt="" loading="lazy"></p><blockquote><p>å¾ˆå¤šå•†ç”¨è™šæ‹Ÿæœºéƒ½æ˜¯é‡‡ç”¨æ ¹æœç´¢ç®—æ³•æ¥åˆ¤å®šä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åƒåœ¾ã€‚</p></blockquote><h5 id="_1-2-2-1-å¯ä½œä¸º-gc-roots-çš„å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_1-2-2-1-å¯ä½œä¸º-gc-roots-çš„å¯¹è±¡" aria-hidden="true">#</a> 1.2.2.1 å¯ä½œä¸º <code>GC Roots</code> çš„å¯¹è±¡</h5><p>å¯ä½œä¸º <code>GC Roots</code> çš„å¯¹è±¡åŒ…æ‹¬ï¼š</p><ol><li>è™šæ‹Ÿæœºæ ˆä¸­ï¼ˆæ–¹æ³•å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼‰å¼•ç”¨çš„å¯¹è±¡ï¼›</li><li>æ–¹æ³•åŒºä¸­çš„ç±»é™æ€æˆå‘˜å˜é‡å¼•ç”¨çš„å¯¹è±¡ï¼›</li><li>æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ï¼›</li><li>æœ¬åœ°æ–¹æ³•æ ˆä¸­ <code>JNI</code> å¼•ç”¨çš„å¯¹è±¡ï¼›</li><li>ä½œä¸ºåŒæ­¥é”çš„å¯¹è±¡ï¼›</li><li>......</li></ol><h5 id="_1-2-2-2-hotspot-è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–-oopmap-æ•°æ®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-2-2-2-hotspot-è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–-oopmap-æ•°æ®ç»“æ„" aria-hidden="true">#</a> 1.2.2.2 <code>HotSpot</code> è™šæ‹Ÿæœºå¯¹æ ¹æœç´¢ç®—æ³•çš„ä¼˜åŒ–ï¼ˆ<code>OopMap</code> æ•°æ®ç»“æ„ï¼‰</h5><p>æŒ‰ç…§æ ¹æœç´¢ç®—æ³•ï¼Œä¸ºäº†åˆ¤å®šä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾ï¼Œéœ€è¦ä»æ¯ä¸€ä¸ª <code>GC Roots</code> å¼€å§‹éå†æ¯ä¸€æ¡å¼•ç”¨é“¾ï¼Œä»è€ŒæŸ¥è¯¢æŸä¸ªå¯¹è±¡æ˜¯å¦åœ¨è¿™äº›å¼•ç”¨é“¾ä¸­ã€‚</p><p>è¿™æ ·åšçš„è¯ï¼Œå¯¹äºä»£ç é‡å¾ˆå¤§ï¼Œå¼•ç”¨é“¾å¾ˆå¤šçš„é¡¹ç›®ï¼Œåˆ¤å®šå¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾çš„æ•ˆç‡æ˜¯å¾ˆä½çš„ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<code>HotSpot</code> è™šæ‹Ÿæœºé‡‡ç”¨ <code>OopMap</code> è¿™ç§æ•°æ®ç»“æ„æ¥ä¼˜åŒ–åˆ¤å®šå¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾çš„æ•ˆç‡ï¼š</p><p><code>OopMap</code> æ•°æ®ç»“æ„ä¸­ï¼Œå­˜å‚¨äº†å¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œé€šè¿‡ <code>OopMap</code> å¯ä»¥åŠ å¿«å®šä½å¯¹è±¡çš„å¼•ç”¨ä½ç½®ï¼Œè€Œä¸ç”¨ä» <code>GC Roots</code> å¼€å§‹éå†å¼•ç”¨é“¾ï¼Œä»è€Œå¤§å¤§æé«˜åˆ¤å®šå¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾çš„æ•ˆç‡ã€‚</p><h6 id="_1-2-2-2-1-å®‰å…¨ç‚¹-å®‰å…¨åŒºåŸŸ" tabindex="-1"><a class="header-anchor" href="#_1-2-2-2-1-å®‰å…¨ç‚¹-å®‰å…¨åŒºåŸŸ" aria-hidden="true">#</a> 1.2.2.2.1 å®‰å…¨ç‚¹ &amp; å®‰å…¨åŒºåŸŸ</h6><p>åœ¨ <code>OopMap</code> çš„ååŠ©ä¸‹ï¼Œ<code>JVM</code> å¯ä»¥å¾ˆå¿«åœ°å®Œæˆå¯¹ <code>GC Roots</code> çš„æšä¸¾ã€‚ä½†æ˜¯ <code>JVM</code> å¹¶æ²¡æœ‰å¯¹æ¯ä¸€æ¡æŒ‡ä»¤éƒ½è®°å½•å¹¶ç”Ÿæˆä¸€ä¸ª <code>OopMap</code>ã€‚</p><p>è®°å½•å¹¶ç”Ÿæˆ <code>OopMap</code> çš„è¿™äº› â€œç‰¹å®šä½ç½®â€ è¢«ç§°ä¸º <strong>å®‰å…¨ç‚¹</strong>ã€‚</p><blockquote><p>å½“ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œåˆ°å®‰å…¨ç‚¹åï¼Œæ‰å…è®¸æš‚åœç”¨æˆ·çº¿ç¨‹ï¼Œæ‰§è¡Œ <code>GC</code> çº¿ç¨‹è¿›è¡Œ <code>GC</code>ã€‚</p></blockquote><p>å¦‚æœä¸€æ®µä»£ç ä¸­ï¼Œå¯¹è±¡å¼•ç”¨å…³ç³»ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™æ®µä»£ç åŒºåŸŸä¸­ä»»ä½•åœ°æ–¹å¼€å§‹ <code>GC</code> éƒ½æ˜¯å®‰å…¨çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªåŒºåŸŸç§°ä¸º <strong>å®‰å…¨åŒºåŸŸ</strong>ã€‚</p><h4 id="_1-2-3-å¼•ç”¨åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_1-2-3-å¼•ç”¨åˆ†ç±»" aria-hidden="true">#</a> 1.2.3 å¼•ç”¨åˆ†ç±»</h4><h5 id="_1-2-3-1-å¼ºå¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2-3-1-å¼ºå¼•ç”¨" aria-hidden="true">#</a> 1.2.3.1 å¼ºå¼•ç”¨</h5><p>ç±»ä¼¼äº <code>Foo foo = new Foo()</code> è¿™æ ·çš„ï¼Œç§° <code>new</code> å‡ºæ¥çš„å¯¹è±¡è¢«å¼ºå¼•ç”¨äº†ã€‚</p><p>è¢«å¼ºå¼•ç”¨çš„å¯¹è±¡ï¼Œåœ¨æ¯æ¬¡ <code>GC</code> æ—¶éƒ½ä¸ä¼šè¢«å›æ”¶ã€‚</p><h5 id="_1-2-3-2-è½¯å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2-3-2-è½¯å¼•ç”¨" aria-hidden="true">#</a> 1.2.3.2 è½¯å¼•ç”¨</h5><p>ç±»ä¼¼äº <code>SoftReference&lt;Foo&gt; sRef = new SoftReference&lt;&gt;(new Foo())</code> è¿™æ ·çš„ï¼Œç§° <code>new</code> å‡ºæ¥çš„å¯¹è±¡è¢«è½¯å¼•ç”¨äº†ã€‚</p><p>è¢«è½¯å¼•ç”¨çš„å¯¹è±¡ï¼Œå½“ <code>GC</code> æ—¶ï¼Œåœ¨å†…å­˜ä¸å¤Ÿç”¨çš„æƒ…å†µä¸‹æ‰ä¼šè¢«å›æ”¶ã€‚</p><h5 id="_1-2-3-3-å¼±å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2-3-3-å¼±å¼•ç”¨" aria-hidden="true">#</a> 1.2.3.3 å¼±å¼•ç”¨</h5><p>ç±»ä¼¼äº <code>WeakReference&lt;Foo&gt; wRef = new WeakReference&lt;&gt;(new Foo())</code> è¿™æ ·çš„ï¼Œç§° <code>new</code> å‡ºæ¥çš„å¯¹è±¡è¢«å¼±å¼•ç”¨äº†ã€‚</p><p>è¢«å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œåœ¨æ¯æ¬¡ <code>GC</code> æ—¶éƒ½ä¼šè¢«å›æ”¶ã€‚</p><h5 id="_1-2-3-4-è™šå¼•ç”¨-å¹½çµå¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2-3-4-è™šå¼•ç”¨-å¹½çµå¼•ç”¨" aria-hidden="true">#</a> 1.2.3.4 è™šå¼•ç”¨ï¼ˆå¹½çµå¼•ç”¨ï¼‰</h5><p>ç±»ä¼¼äº <code>PhantomReference&lt;Foo&gt; wRef = new PhantomReference&lt;&gt;(new Foo(), referenceQueue)</code> è¿™æ ·çš„ï¼Œç§° <code>new</code> å‡ºæ¥çš„å¯¹è±¡è¢«è™šå¼•ç”¨äº†ã€‚</p><p>è™šå¼•ç”¨ä¹Ÿç§°ä¸ºå¹½çµå¼•ç”¨æˆ–å¹»å½±å¼•ç”¨ï¼Œæ˜¯æœ€å¼±çš„å¼•ç”¨ã€‚</p><p>è¢«è™šå¼•ç”¨çš„å¯¹è±¡ï¼Œåœ¨æ¯æ¬¡ <code>GC</code> æ—¶éƒ½ä¼šè¢«å›æ”¶ã€‚</p><h5 id="_1-2-3-5-ç¤ºä¾‹-gc-å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“-finalize-referencequeue" tabindex="-1"><a class="header-anchor" href="#_1-2-3-5-ç¤ºä¾‹-gc-å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“-finalize-referencequeue" aria-hidden="true">#</a> 1.2.3.5 ç¤ºä¾‹ï¼š<code>GC</code> å¯¹è½¯å¼•ç”¨å’Œå¼±å¼•ç”¨çš„å½±å“ï¼ˆ<code>finalize()</code> &amp; <code>ReferenceQueue</code>ï¼‰</h5><ol><li><p><code>GC</code> å¯¹è½¯å¼•ç”¨çš„å½±å“</p><p><img src="/assets/03.1d00c99a.png" alt="" loading="lazy"></p><blockquote><ol><li><p>å½“åƒåœ¾æ”¶é›†å™¨å‡†å¤‡å›æ”¶æŸä¸ªå¯¹è±¡æ—¶ ï¼Œä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ <code>finalize()</code> æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¹Ÿå¹¶ä¸ä»£è¡¨ç€åƒåœ¾æ”¶é›†å™¨ä¸€å®šä¼šå›æ”¶è¯¥å¯¹è±¡ã€‚</p></li><li><p>å½“åƒåœ¾æ”¶é›†å™¨å›æ”¶äº†è¢«è½¯å¼•ç”¨çš„å¯¹è±¡åï¼Œç›¸å…³çš„è½¯å¼•ç”¨ä¼šæ”¾åˆ° <code>ReferenceQueue</code> é˜Ÿåˆ—ä¸­ã€‚æ³¨æ„ï¼š<code>ReferenceQueue</code> ä¸­ä¿å­˜çš„æ˜¯ <code>Reference</code> æœ¬èº«ï¼Œè€Œä¸æ˜¯ <code>Reference</code> ä¸­å¼•ç”¨çš„å¯¹è±¡ã€‚</p></li></ol></blockquote></li><li><p><code>GC</code> å¯¹å¼±å¼•ç”¨çš„å½±å“</p><p><img src="/assets/04.a3884136.png" alt="" loading="lazy"></p></li></ol><h4 id="_1-2-4-è·¨ä»£å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2-4-è·¨ä»£å¼•ç”¨" aria-hidden="true">#</a> 1.2.4 è·¨ä»£å¼•ç”¨</h4><p>è·¨ä»£å¼•ç”¨ï¼šå°±æ˜¯ä¸€ä¸ªä»£ä¸­çš„å¯¹è±¡å¼•ç”¨äº†å¦ä¸€ä¸ªä»£ä¸­çš„å¯¹è±¡ã€‚å¦‚ï¼š</p><ol><li>æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡å¼•ç”¨äº†è€å¹´ä»£ä¸­çš„å¯¹è±¡ï¼›</li><li>è€å¹´ä»£ä¸­çš„å¯¹è±¡å¼•ç”¨äº†æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ã€‚</li></ol><p>è·¨ä»£å¼•ç”¨å‡è¯´ï¼šè·¨ä»£å¼•ç”¨ç›¸å¯¹äºåŒä»£å¼•ç”¨æ¥è¯´åªæ˜¯æå°‘æ•°çš„ã€‚</p><blockquote><p>éšå«æ¨è®º ï¼šå­˜åœ¨äº’ç›¸å¼•ç”¨å…³ç³»çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œåº”è¯¥æ˜¯å€¾å‘äºåŒæ—¶ç”Ÿå­˜æˆ–åŒæ—¶æ¶ˆäº¡çš„ã€‚å…·ä½“ä¸ºï¼š</p><ol><li><p>å½“ä¸¤ä¸ªå¯¹è±¡å¤„äºåŒä¸€ä»£ä¸­æ—¶ï¼Œå®ƒä»¬ä¹‹é—´çš„å¼•ç”¨å°±æ˜¯åŒä»£å¼•ç”¨ï¼Œäº’ç›¸åŒä»£å¼•ç”¨çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œå®ƒä»¬ä¹‹é—´å€¾å‘äºåŒæ—¶ç”Ÿå­˜æˆ–åŒæ—¶æ¶ˆäº¡ã€‚</p></li><li><p>å½“ä¸¤ä¸ªå¯¹è±¡ä¸å¤„äºåŒä¸€ä»£ä¸­æ—¶ï¼Œå®ƒä»¬ä¹‹é—´çš„å¼•ç”¨å°±æ˜¯è·¨ä»£å¼•ç”¨ã€‚æ­¤æ—¶ï¼Œå½“è€å¹´ä»£ä¸­çš„å¯¹è±¡å¼•ç”¨äº†æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡æ—¶ï¼Œæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ï¼Œè€Œæ˜¯ä¼šè¢«è½¬å­˜åˆ°è€å¹´ä»£ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œäº’ç›¸è·¨å¸¦å¼•ç”¨çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œç»è¿‡å¤šæ¬¡ <code>GC</code> åï¼Œæœ€ç»ˆä¼šè½¬ä¸ºäº’ç›¸åŒä»£å¼•ç”¨ã€‚</p></li></ol></blockquote><h5 id="_1-2-4-1-è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-2-4-1-è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" aria-hidden="true">#</a> 1.2.4.1 è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜</h5><p>å½“è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¸ºäº†æŸ¥è¯¢è·¨ä»£å¼•ç”¨ï¼Œä¸ä»…è¦æ‰«ææ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ï¼Œè¿˜è¦æ‰«æè€å¹´ä»£ä¸­çš„å¯¹è±¡ï¼Œè¿™æ ·æ‰èƒ½åˆ¤æ–­å­˜åœ¨ç€å¤šå°‘ä¸ªæ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡å’Œè€å¹´ä»£ä¸­çš„å¯¹è±¡ä¹‹é—´çš„è·¨ä»£å¼•ç”¨ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ ·åšçš„è¯å°±ä¼šæå¤§åœ°å½±å“åƒåœ¾å›æ”¶çš„æ€§èƒ½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼•å…¥äº†æ–°çš„æ•°æ®ç»“æ„ï¼š<strong>è®°å¿†é›†</strong>ã€‚</p><h5 id="_1-2-4-2-è®°å¿†é›†-è§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_1-2-4-2-è®°å¿†é›†-è§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜" aria-hidden="true">#</a> 1.2.4.2 è®°å¿†é›†ï¼ˆè§£å†³è·¨ä»£å¼•ç”¨é€ æˆçš„é—®é¢˜ï¼‰</h5><p>è®°å¿†é›†ï¼ˆ<code>Remembered Set</code>ï¼‰ï¼šä¸€ç§ç”¨äºè®°å½•ä»éæ”¶é›†åŒºåŸŸæŒ‡å‘æ”¶é›†åŒºåŸŸçš„æŒ‡é’ˆé›†åˆçš„æŠ½è±¡æ•°æ®ç»“æ„ã€‚</p><blockquote><p>å¯ä»¥ç†è§£ä¸ºï¼Œè®°å¿†é›†ä¸­è®°å½•äº†å­˜åœ¨è·¨ä»£å¼•ç”¨çš„æ–°ç”Ÿä»£å¯¹è±¡å’Œè€å¹´ä»£å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œå½“è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œåªéœ€è¦åˆ¤æ–­è®°å¿†é›†ä¸­è®°å½•çš„å­˜åœ¨è·¨ä»£å¼•ç”¨çš„å¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾å³å¯ã€‚</p></blockquote><h6 id="_1-2-4-2-1-å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-4-2-1-å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼" aria-hidden="true">#</a> 1.2.4.2.1 å®ç°è®°å¿†é›†çš„ä¸‰ç§æ–¹å¼</h6><p>å®ç°è®°å¿†é›†è¿™ç§æ•°æ®ç»“æ„æ‰€é‡‡ç”¨çš„ä¸‰ç§æ–¹å¼ï¼š</p><ol><li><p>å­—é•¿ç²¾åº¦ï¼šæ¯ä¸ªè®°å½•ç²¾ç¡®åˆ°ä¸€ä¸ªæœºå™¨å­—é•¿ï¼Œè¯¥å­—åŒ…å«è·¨ä»£æŒ‡é’ˆã€‚</p></li><li><p>å¯¹è±¡ç²¾åº¦ï¼šæ¯ä¸ªè®°å½•ç²¾ç¡®åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡é‡Œæœ‰å­—æ®µå«æœ‰è·¨ä»£æŒ‡é’ˆã€‚</p></li><li><p>å¡ç²¾åº¦ï¼šæ¯ä¸ªè®°å½•ç²¾ç¡®åˆ°ä¸€å—å†…å­˜åŒºåŸŸï¼Œè¯¥åŒºåŸŸå†…æœ‰å¯¹è±¡å«æœ‰è·¨ä»£æŒ‡é’ˆã€‚</p></li></ol><h6 id="_1-2-4-2-2-å¡è¡¨-card-table-è®°å¿†é›†çš„å…·ä½“å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-2-4-2-2-å¡è¡¨-card-table-è®°å¿†é›†çš„å…·ä½“å®ç°" aria-hidden="true">#</a> 1.2.4.2.2 å¡è¡¨ï¼ˆ<code>Card Table</code>ï¼Œè®°å¿†é›†çš„å…·ä½“å®ç°ï¼‰</h6><p>å¡è¡¨æ˜¯è®°å¿†é›†çš„ä¸€ç§å…·ä½“å®ç°ï¼Œå®šä¹‰äº†è®°å¿†é›†çš„è®°å½•ç²¾åº¦ä¸å †å†…å­˜çš„æ˜ å°„å…³ç³»ã€‚</p><blockquote><p>å¡è¡¨é‡‡ç”¨äº†å¡ç²¾åº¦å®ç°è®°å¿†é›†è¿™ç§æ•°æ®ç»“æ„ã€‚</p></blockquote><h6 id="_1-2-4-2-2-å¡é¡µ-card-page-å¡è¡¨çš„ç»„æˆå…ƒç´ " tabindex="-1"><a class="header-anchor" href="#_1-2-4-2-2-å¡é¡µ-card-page-å¡è¡¨çš„ç»„æˆå…ƒç´ " aria-hidden="true">#</a> 1.2.4.2.2 å¡é¡µï¼ˆ<code>Card Page</code>ï¼Œå¡è¡¨çš„ç»„æˆå…ƒç´ ï¼‰</h6><p>å¡è¡¨çš„æ¯ä¸ªå…ƒç´ éƒ½å¯¹åº”ç€å…¶æ ‡è¯†çš„å†…å­˜åŒºåŸŸä¸­çš„ä¸€å—ç‰¹å®šå¤§å°çš„å†…å­˜å—ã€‚è¿™ä¸ªå†…å­˜å—ç§°ä¸ºå¡é¡µã€‚</p><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¡è¡¨ç”±å¡é¡µç»„æˆï¼Œæ¯ä¸ªå¡é¡µä¸­ä¿å­˜äº†å¤šä¸ªå¯¹è±¡ã€‚</p></blockquote><p>å½“æŸä¸ªå¡é¡µä¸­çš„å¯¹è±¡å­˜åœ¨è·¨ä»£å¼•ç”¨æ—¶ï¼Œå°±ä¼šè®°å½•ä¸‹æ¥ã€‚å½“è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¼šå°†è¿™äº›è®°å½•äº†çš„å¯¹è±¡ç­›é€‰å‡ºæ¥ï¼Œé€šè¿‡æ ¹æœç´¢ç®—æ³•æ¥åˆ¤å®šå®ƒä»¬æ˜¯å¦ä¸ºåƒåœ¾ã€‚</p><h6 id="_1-2-4-2-3-å†™å±éšœ" tabindex="-1"><a class="header-anchor" href="#_1-2-4-2-3-å†™å±éšœ" aria-hidden="true">#</a> 1.2.4.2.3 å†™å±éšœ</h6><p>å¡è¡¨ä¸­è®°å½•äº†å¯¹è±¡é—´çš„å¼•ç”¨å…³ç³»ï¼Œé‚£ä¹ˆå½“å¯¹è±¡é—´çš„å¼•ç”¨å…³ç³»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¡è¡¨ä¸­çš„æ•°æ®è®°å½•çŠ¶æ€ä¹Ÿåº”è¯¥éšç€æ”¹å˜ã€‚é‚£ä¹ˆç”±è°æ¥ç»´æŠ¤å¡è¡¨çš„æ•°æ®è®°å½•çŠ¶æ€ï¼Ÿä»€ä¹ˆæ—¶å€™æ¥æ”¹å˜å¡è¡¨ä¸­çš„æ•°æ®è®°å½•çŠ¶æ€ï¼Ÿç­”ï¼šåœ¨ <code>HotSpot</code> è™šæ‹Ÿæœºä¸­ï¼Œæ˜¯é€šè¿‡ <strong>å†™å±éšœ</strong> è¿™ç§æŠ€æœ¯æ¥ç»´æŠ¤å¡è¡¨ä¸­çš„æ•°æ®è®°å½•çŠ¶æ€çš„ã€‚</p><p>å†™å±éšœå¯ä»¥çœ‹æˆæ˜¯ <code>JVM</code> å¯¹ â€œå¼•ç”¨ç±»å‹å­—æ®µèµ‹å€¼â€ è¿™ä¸ªåŠ¨ä½œçš„ <code>AOP</code>ã€‚</p><blockquote><p>æ‰€è°“çš„å¯¹ â€œå¼•ç”¨ç±»å‹å­—æ®µèµ‹å€¼â€ è¿™ä¸ªåŠ¨ä½œçš„ <code>AOP</code>ï¼Œå°±æ˜¯è¯´ï¼Œ<code>JVM</code> ä¼šåœ¨ â€œå¼•ç”¨ç±»å‹å­—æ®µèµ‹å€¼â€ å‰åé¢å¤–åœ°æ·»åŠ ä¸€äº›ç¨‹åºï¼Œè¾¾åˆ°ç»´æŠ¤å¡è¡¨çš„ç›®çš„ã€‚å…¶ä¸­ï¼š</p><ol><li><p><code>JVM</code> åœ¨ â€œå¼•ç”¨ç±»å‹å­—æ®µèµ‹å€¼â€ è¿™ä¸ªåŠ¨ä½œä¹‹å‰æ·»åŠ ç¨‹åºï¼Œç§°ä¸º <strong>å†™å‰å±éšœ</strong>ã€‚</p></li><li><p><code>JVM</code> åœ¨ â€œå¼•ç”¨ç±»å‹å­—æ®µèµ‹å€¼â€ è¿™ä¸ªåŠ¨ä½œä¹‹åæ·»åŠ ç¨‹åºï¼Œç§°ä¸º <strong>å†™åå±éšœ</strong>ã€‚</p></li></ol></blockquote><h4 id="_1-2-5-åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_1-2-5-åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤" aria-hidden="true">#</a> 1.2.5 åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤</h4><p>åˆ¤å®šæ˜¯å¦ä¸ºåƒåœ¾çš„æ­¥éª¤ä¸ºï¼š</p><ol><li><p>å…ˆé€šè¿‡æ ¹æœç´¢ç®—æ³•åˆ¤å®šå¯¹è±¡æ˜¯å¦å¯ç”¨ï¼›</p></li><li><p>å¯¹äºä¸å¯ç”¨çš„å¯¹è±¡ï¼Œå†çœ‹æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ <code>finalize()</code> æ–¹æ³•ï¼›</p></li><li><p>ä»¥ä¸Šä¸¤æ­¥æ‰§è¡Œå®Œåï¼Œå¦‚æœå¯¹è±¡ä»ç„¶æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±å±äºåƒåœ¾ã€‚</p><blockquote><p>é€šè¿‡ç¬¬ <code>1</code>ã€<code>2</code> æ­¥åˆ¤å®šå¯¹è±¡æ˜¯å¦ä¸ºåƒåœ¾æ—¶ï¼Œå­˜åœ¨ä¸¤ç§æƒ…å†µï¼š</p><ol><li><p>é€šè¿‡æ ¹æœç´¢ç®—æ³•åˆ¤å®šå¯¹è±¡ä¸åœ¨ä»»ä½•ä¸€æ¡å¼•ç”¨é“¾ä¸Šï¼›ä¸”æ²¡å¿…è¦æ‰§è¡Œ <code>finalize()</code> æ–¹æ³•ï¼›</p></li><li><p>é€šè¿‡æ ¹æœç´¢æ–¹æ³•åˆ¤å®šå¯¹è±¡ä¸åœ¨ä»»ä½•ä¸€æ¡å¼•ç”¨é“¾ä¸Šï¼›ä¸”æ‰§è¡Œ <code>finalize()</code> æ–¹æ³•æ—¶ï¼Œæ²¡æœ‰è¿›è¡Œå¯¹è±¡çš„è‡ªæ•‘ã€‚</p></li></ol><p>å¦‚æœæ‰§è¡Œå®Œç¬¬ <code>1</code>ã€<code>2</code> æ­¥ï¼Œä¸”æ»¡è¶³ä»¥ä¸Šä¸¤ç§æƒ…å†µï¼ŒåŒæ—¶å¯¹è±¡ä»ç„¶æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±æ˜¯åƒåœ¾ã€‚</p></blockquote></li></ol><h5 id="_1-2-5-1-finalize-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_1-2-5-1-finalize-æ–¹æ³•" aria-hidden="true">#</a> 1.2.5.1 <code>finalize()</code> æ–¹æ³•</h5><p><code>finalize()</code> æ–¹æ³•ä¼šåœ¨å¯¹è±¡ <strong>ç¬¬ä¸€æ¬¡</strong> è¿›è¡Œåƒåœ¾å›æ”¶æ—¶è°ƒç”¨ã€‚</p><blockquote><p>ä½†æ˜¯ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰é‡å†™ <code>finalize()</code> æ–¹æ³•ï¼Œæˆ–è€… <code>JVM</code> å·²ç»è°ƒç”¨è¿‡ <code>finalize()</code> æ–¹æ³•äº†ï¼Œé‚£ä¹ˆå°±æ²¡å¿…è¦åœ¨ç¬¬ä¸€æ¬¡å›æ”¶æ—¶å†è°ƒç”¨ <code>finalize()</code> æ–¹æ³•äº†ã€‚</p></blockquote><p>å¦‚æœ <code>finalize()</code> æ–¹æ³•åœ¨ç¬¬ä¸€æ¬¡å›æ”¶æ—¶è°ƒç”¨äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡çš„ <code>finalize()</code> æ–¹æ³•ä¸­è¿›è¡Œ <strong>å¯¹è±¡çš„è‡ªæ•‘</strong>ã€‚</p><blockquote><p>æ³¨æ„ï¼š<code>finalize()</code> æ–¹æ³•å¹¶ä¸é è°±ï¼Œ<code>Java</code> ä¸­ä¸å»ºè®®ä½¿ç”¨ <code>finalize()</code> æ–¹æ³•ã€‚</p></blockquote><h5 id="_1-2-5-2-ç¤ºä¾‹-é€šè¿‡-finalize-æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘" tabindex="-1"><a class="header-anchor" href="#_1-2-5-2-ç¤ºä¾‹-é€šè¿‡-finalize-æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘" aria-hidden="true">#</a> 1.2.5.2 ç¤ºä¾‹ï¼šé€šè¿‡ <code>finalize()</code> æ–¹æ³•å®ç°å¯¹è±¡çš„è‡ªæ•‘</h5><p><img src="/assets/05.404738cc.png" alt="" loading="lazy"></p><h3 id="_1-3-å¦‚ä½•å›æ”¶åƒåœ¾" tabindex="-1"><a class="header-anchor" href="#_1-3-å¦‚ä½•å›æ”¶åƒåœ¾" aria-hidden="true">#</a> 1.3 å¦‚ä½•å›æ”¶åƒåœ¾</h3><h4 id="_1-3-1-gc-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_1-3-1-gc-ç±»å‹" aria-hidden="true">#</a> 1.3.1 <code>GC</code> ç±»å‹</h4><h5 id="_1-3-1-1-minorgc-younggc" tabindex="-1"><a class="header-anchor" href="#_1-3-1-1-minorgc-younggc" aria-hidden="true">#</a> 1.3.1.1 <code>MinorGC</code>ï¼ˆ<code>YoungGC</code>ï¼‰</h5><p>å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„æ”¶é›†åŠ¨ä½œï¼ˆ<code>GC</code>ï¼‰ã€‚</p><h5 id="_1-3-1-2-majorgc-oldgc" tabindex="-1"><a class="header-anchor" href="#_1-3-1-2-majorgc-oldgc" aria-hidden="true">#</a> 1.3.1.2 <code>MajorGC</code>ï¼ˆ<code>OldGC</code>ï¼‰</h5><p>å‘ç”Ÿåœ¨è€å¹´ä»£çš„ <code>GC</code>ã€‚</p><blockquote><p>ç›®å‰åªæœ‰ <code>CMS</code> æ”¶é›†å™¨ä¼šæœ‰å•ç‹¬æ”¶é›†è€å¹´ä»£çš„è¡Œä¸ºã€‚</p></blockquote><h5 id="_1-3-1-3-mixedgc" tabindex="-1"><a class="header-anchor" href="#_1-3-1-3-mixedgc" aria-hidden="true">#</a> 1.3.1.3 <code>MixedGC</code></h5><p>æ”¶é›†æ•´ä¸ªæ–°ç”Ÿä»£ä»¥åŠéƒ¨åˆ†è€å¹´ä»£ã€‚</p><blockquote><p>ç›®å‰åªæœ‰ <code>G1</code> æ”¶é›†å™¨ä¼šæœ‰è¿™ç§è¡Œä¸ºã€‚</p></blockquote><h5 id="_1-3-1-4-fullgc" tabindex="-1"><a class="header-anchor" href="#_1-3-1-4-fullgc" aria-hidden="true">#</a> 1.3.1.4 <code>FullGC</code></h5><p>æ”¶é›†æ•´ä¸ª <code>Java</code> å †å’Œæ–¹æ³•åŒºçš„ <code>GC</code>ã€‚</p><blockquote><p>æ³¨æ„ï¼šæ–¹æ³•åŒºä¸­ä¹Ÿå¯ä»¥è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p></blockquote><h4 id="_1-3-2-stw-stop-the-world" tabindex="-1"><a class="header-anchor" href="#_1-3-2-stw-stop-the-world" aria-hidden="true">#</a> 1.3.2 <code>STW</code>ï¼ˆ<code>Stop-The-World</code>ï¼‰</h4><p><code>STW</code> æ˜¯ <code>Java</code> ä¸­çš„ä¸€ç§å…¨å±€æš‚åœçš„ç°è±¡ï¼Œå¤šåŠæ˜¯ç”± <code>GC</code> å¼•èµ·çš„ã€‚</p><blockquote><p>æ‰€è°“å…¨å±€æš‚åœå°±æ˜¯ <code>Java</code> ä»£ç åœæ­¢è¿è¡Œã€‚ä¸è¿‡ <code>native</code> ä»£ç å¯ä»¥æ‰§è¡Œï¼Œä½†ä¸èƒ½å’Œ <code>JVM</code> äº¤äº’ã€‚</p></blockquote><p><code>STW</code> çš„å±å®³æ˜¯é•¿æ—¶é—´æœåŠ¡åœæ­¢ï¼Œæ²¡æœ‰å“åº”ã€‚å¯¹äº <code>HA</code> ç³»ç»Ÿï¼Œå¯èƒ½å¼•èµ·ä¸»å¤‡åˆ‡æ¢ï¼Œä¸¥é‡å±å®³ç”Ÿäº§ç¯å¢ƒã€‚</p><blockquote><p>å¯¹è™šæ‹Ÿæœºçš„ä¼˜åŒ–ï¼Œåº”è¯¥è¦å°½é‡é¿å… <code>STW</code>ï¼Œæˆ–è€…å°½é‡ç¼©å‡ <code>STW</code> çš„è€—æ—¶æ—¶é•¿ã€‚</p></blockquote><h4 id="_1-3-3-åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-3-3-åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶" aria-hidden="true">#</a> 1.3.3 åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶</h4><p>åˆ¤å®šç±»æ— ç”¨çš„æ¡ä»¶æœ‰ï¼š</p><ol><li><code>JVM</code> ä¸­è¯¥ç±»çš„æ‰€æœ‰å®ä¾‹éƒ½å·²ç»è¢«å›æ”¶ï¼›</li><li>åŠ è½½è¯¥ç±»çš„ <code>ClassLoader</code> å·²ç»è¢«å›æ”¶ï¼›</li><li>æ²¡æœ‰ä»»ä½•åœ°æ–¹å¼•ç”¨è¯¥ç±»çš„ <code>Class</code> å¯¹è±¡ï¼›</li><li>æ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¿™ä¸ªç±»ã€‚</li></ol><h4 id="_1-3-4-åƒåœ¾æ”¶é›†ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_1-3-4-åƒåœ¾æ”¶é›†ç±»å‹" aria-hidden="true">#</a> 1.3.4 åƒåœ¾æ”¶é›†ç±»å‹</h4><h5 id="_1-3-4-1-ä¸²è¡Œæ”¶é›†" tabindex="-1"><a class="header-anchor" href="#_1-3-4-1-ä¸²è¡Œæ”¶é›†" aria-hidden="true">#</a> 1.3.4.1 ä¸²è¡Œæ”¶é›†</h5><p>å•ä¸ª <code>GC</code> çº¿ç¨‹è¿›è¡Œå†…å­˜å›æ”¶ï¼Œä¼šæš‚åœæ‰€æœ‰çš„ç”¨æˆ·çº¿ç¨‹ã€‚</p><blockquote><p>å¦‚ï¼š<code>Serial</code>ã€‚</p></blockquote><h5 id="_1-3-4-2-å¹¶è¡Œæ”¶é›†" tabindex="-1"><a class="header-anchor" href="#_1-3-4-2-å¹¶è¡Œæ”¶é›†" aria-hidden="true">#</a> 1.3.4.2 å¹¶è¡Œæ”¶é›†</h5><p>å¤šä¸ª <code>GC</code> çº¿ç¨‹è¿›è¡Œå†…å­˜å›æ”¶ï¼Œä¼šæš‚åœæ‰€æœ‰çš„ç”¨æˆ·çº¿ç¨‹ã€‚</p><blockquote><p>å¦‚ï¼š<code>Parallel</code></p></blockquote><h5 id="_1-3-4-3-å¹¶å‘æ”¶é›†" tabindex="-1"><a class="header-anchor" href="#_1-3-4-3-å¹¶å‘æ”¶é›†" aria-hidden="true">#</a> 1.3.4.3 å¹¶å‘æ”¶é›†</h5><p><code>GC</code> çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼ˆä¸ä¸€å®šæ˜¯å¹¶è¡Œï¼Œå¯ä»¥æ˜¯äº¤æ›¿æ‰§è¡Œï¼‰ï¼Œä¸éœ€è¦æš‚åœç”¨æˆ·çº¿ç¨‹ã€‚</p><blockquote><p>å¦‚ï¼š<code>CMS</code>ã€‚</p></blockquote><h4 id="_1-3-5-åƒåœ¾å›æ”¶ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_1-3-5-åƒåœ¾å›æ”¶ç®—æ³•" aria-hidden="true">#</a> 1.3.5 åƒåœ¾å›æ”¶ç®—æ³•</h4><h5 id="_1-3-5-1-æ ‡è®°æ¸…é™¤ç®—æ³•-mark-sweep" tabindex="-1"><a class="header-anchor" href="#_1-3-5-1-æ ‡è®°æ¸…é™¤ç®—æ³•-mark-sweep" aria-hidden="true">#</a> 1.3.5.1 æ ‡è®°æ¸…é™¤ç®—æ³•ï¼ˆ<code>Mark-Sweep</code>ï¼‰</h5><p>æ ‡è®°æ¸…é™¤ç®—æ³•åˆ†ä¸ºæ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªé˜¶æ®µï¼š</p><ol><li>å…ˆæ ‡è®°å‡ºè¦å›æ”¶çš„å¯¹è±¡ï¼›</li><li>ç„¶åç»Ÿä¸€å›æ”¶è¿™äº›å¯¹è±¡ã€‚</li></ol><p><img src="/assets/06.f20ca60b.png" alt="" loading="lazy"></p><p>æ ‡è®°æ¸…é™¤ç®—æ³•çš„ä¼˜ç¼ºç‚¹ï¼š</p><ol><li><p>ä¼˜ç‚¹ï¼šç®€å•ã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ol><li><p>æ•ˆç‡ä¸é«˜ï¼Œæ ‡è®°å’Œæ¸…é™¤çš„æ•ˆç‡éƒ½ä¸é«˜ï¼›</p></li><li><p>æ ‡è®°æ¸…é™¤åä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ï¼Œä»è€Œå¯¼è‡´åœ¨åˆ†é…å¤§å¯¹è±¡æ—¶è§¦å‘ <code>GC</code>ã€‚</p><blockquote><p>è¢«æ ‡è®°çš„å¯¹è±¡å¯èƒ½å­˜æ”¾åœ¨å„ä¸ªä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œé‚£ä¹ˆæ¸…é™¤è¿™äº›å†…å­˜ç©ºé—´åï¼Œå°±ä¼šäº§ç”Ÿå¤šä¸ªä¸è¿ç»­çš„æœªä½¿ç”¨çš„å†…å­˜ç©ºé—´ï¼ˆå³ <strong>å†…å­˜ç¢ç‰‡</strong>ï¼‰ã€‚ç”±äºæœªä½¿ç”¨çš„å†…å­˜ç©ºé—´æ˜¯ä¸è¿ç»­çš„ï¼Œå› æ­¤æ— æ³•å­˜æ”¾ä¸‹éœ€è¦è¿ç»­å†…å­˜ç©ºé—´çš„å¤§å¯¹è±¡ï¼Œä»è€Œå¯¼è‡´åœ¨åˆ†é…å¤§å¯¹è±¡æ—¶ä»ç„¶ä¼šè§¦å‘ <code>GC</code>ã€‚</p></blockquote></li></ol></li></ol><h5 id="_1-3-5-2-å¤åˆ¶ç®—æ³•-copying-ä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-3-5-2-å¤åˆ¶ç®—æ³•-copying-ä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨" aria-hidden="true">#</a> 1.3.5.2 å¤åˆ¶ç®—æ³•ï¼ˆ<code>Copying</code>ï¼Œä¸€èˆ¬åœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨ï¼‰</h5><p>å¤åˆ¶ç®—æ³•ï¼šæŠŠå†…å­˜åˆ†æˆä¸¤å—å®Œå…¨ç›¸åŒçš„åŒºåŸŸï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­ä¸€å—ã€‚å½“ä¸€å—ä½¿ç”¨å®Œäº†ï¼Œå°±æŠŠè¿™å—ä¸Šè¿˜å­˜æ´»çš„å¯¹è±¡æ‹·è´åˆ°å¦ä¸€å—ä¸­ï¼Œç„¶åæŠŠè¿™å—æ¸…é™¤æ‰ã€‚</p><blockquote><p>æ–°ç”Ÿä»£ä¸­ï¼Œå­˜æ´»åŒºå†…çš„ <code>from space</code> å’Œ <code>to space</code> å°±æ˜¯é‡‡ç”¨äº†å¤åˆ¶ç®—æ³•ã€‚</p></blockquote><p><img src="/assets/07.e6e9c2c8.png" alt="" loading="lazy"></p><p>å¤åˆ¶ç®—æ³•çš„ä¼˜ç¼ºç‚¹ï¼š</p><ol><li><p>ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆï¼Œé¿å…äº†å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚</p></li><li><p>ç¼ºç‚¹ï¼šç”±äºå¤åˆ¶ç®—æ³•ä¸­ï¼Œæœ‰ä¸€åŠçš„å†…å­˜åŒºåŸŸæ˜¯ä¿ç•™çš„ï¼Œæ‰€ä»¥é€ æˆäº†å†…å­˜æµªè´¹ã€‚</p></li></ol><p><code>JVM</code> å®é™…å®ç°ä¸­ï¼Œæ˜¯å°†å†…å­˜åˆ†ä¸ºä¸€å—è¾ƒå¤§çš„ <code>Eden</code> åŒºï¼Œå’Œä¸¤å—è¾ƒå°çš„ <code>Survivor</code> åŒºï¼ˆ<code>from</code> å’Œ <code>to</code>ï¼‰ã€‚æ¯æ¬¡ä½¿ç”¨ <code>Eden</code> å’Œä¸€å— <code>Survivor</code>ã€‚åœ¨å›æ”¶æ—¶ï¼ŒæŠŠå­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å— <code>Survivor</code> ä¸­ã€‚</p><blockquote><p><code>HotSpot</code> è™šæ‹Ÿæœºé»˜è®¤çš„ <code>Eden</code> å’Œ <code>Survivor</code> çš„æ¯”å€¼æ˜¯ <code>8:1</code>ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡èƒ½ç”¨ <code>90%</code> çš„æ–°ç”Ÿä»£ç©ºé—´ã€‚</p><div class="language-text ext-text"><pre class="language-text"><code>Eden:Survivor = 8:1ï¼Œå³ Eden:from:to = 8:1:1ï¼Œ
äºæ˜¯ï¼Œå¯ä½¿ç”¨çš„æ–°ç”Ÿä»£ç©ºé—´ä¸ºï¼š(Eden+from)/(Eden+from+to) = 9/10 = 90%
</code></pre></div></blockquote><p>åœ¨å›æ”¶æ—¶ï¼ŒæŠŠå­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€å— <code>Survivor</code> æ—¶ï¼Œå¦‚æœå‘ç°å¦ä¸€å— <code>Survivor</code> ç©ºé—´ä¸å¤Ÿï¼Œå°±è¦ä¾èµ–è€å¹´ä»£è¿›è¡Œ <strong>åˆ†é…æ‹…ä¿</strong>ï¼Œè®©æ”¾ä¸ä¸‹çš„å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚</p><h6 id="_1-3-5-2-1-åˆ†é…æ‹…ä¿" tabindex="-1"><a class="header-anchor" href="#_1-3-5-2-1-åˆ†é…æ‹…ä¿" aria-hidden="true">#</a> 1.3.5.2.1 åˆ†é…æ‹…ä¿</h6><p>åˆ†é…æ‹…ä¿å°±æ˜¯æŒ‡ï¼šå½“æ–°ç”Ÿä»£è¿›è¡Œåƒåœ¾å›æ”¶åï¼Œæ–°ç”Ÿä»£çš„å­˜æ´»åŒºæ”¾ç½®ä¸ä¸‹ï¼Œé‚£ä¹ˆéœ€è¦æŠŠè¿™äº›å¯¹è±¡æ”¾ç½®åˆ°è€å¹´ä»£ä¸­ï¼Œæ­¤æ—¶ï¼Œå°±éœ€è¦æ‹…ä¿è€å¹´ä»£ä¸­æœ‰è¶³å¤Ÿçš„å†…å­˜ç©ºé—´æ¥æ”¾ç½®è¿™äº›å¯¹è±¡ã€‚</p><blockquote><p>â€œæ–°ç”Ÿä»£çš„å­˜æ´»åŒºæ”¾ç½®ä¸ä¸‹è¿™äº›å¯¹è±¡â€ æœ‰ä¸¤ç§æƒ…å†µï¼š</p><ol><li><p><code>eden</code> åŒº + ä¸€ä¸ª <code>Survivor</code> åŒºï¼ˆ<code>from space</code>ï¼‰ï¼Œå¯¹è¿™ä¸¤ä¸ªåŒºè¿›è¡Œå›æ”¶åï¼Œå…¶ä¸­å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡è¿‡å¤šï¼Œæ— æ³•å…¨éƒ¨æ”¾åˆ°å¦ä¸€ä¸ª <code>Survivor</code> åŒºï¼ˆ<code>to space</code>ï¼‰ä¸­ï¼›</p></li><li><p><code>eden</code> åŒº + ä¸€ä¸ª <code>Survivor</code> åŒºï¼ˆ<code>from space</code>ï¼‰ï¼Œå¯¹è¿™ä¸¤ä¸ªåŒºè¿›è¡Œå›æ”¶åï¼Œå½“æ–°ç”Ÿä»£ä¸ºæ–°çš„å¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´æ—¶ï¼Œæ— æ³•åœ¨æ–°ç”Ÿä»£ä¸­æ‰¾åˆ°è¶³å¤Ÿå¤§çš„ç©ºé—´æ¥å­˜æ”¾è¿™ä¸ªè¾ƒå¤§çš„æ–°å¯¹è±¡ã€‚</p></li></ol><p>ä»¥ä¸Šä¸¤ç§æƒ…å†µä¸­ï¼Œæ— æ³•æ”¾ç½®åˆ°æ–°ç”Ÿä»£ä¸­çš„è¿™äº›å¯¹è±¡ï¼Œéƒ½éœ€è¦å°†å®ƒä»¬æ”¾ç½®åˆ°è€å¹´ä»£ä¸­å»ã€‚</p></blockquote><p>åˆ†é…æ‹…ä¿æ˜¯ä¸€ç§ç­–ç•¥ï¼Œå…¶è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p>åœ¨å‘ç”Ÿ <code>MinorGC</code> å‰ï¼Œ<code>JVM</code> ä¼šæ£€æŸ¥è€å¹´ä»£çš„æœ€å¤§å¯ç”¨è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºæ–°ç”Ÿä»£ä¸­æ‰€æœ‰å¯¹è±¡çš„æ€»ç©ºé—´ï¼š</p><ol><li><p>å¦‚æœå¤§äºï¼Œé‚£ä¹ˆå¯ä»¥ç¡®ä¿ <code>MinorGC</code> æ˜¯å®‰å…¨çš„ï¼›</p></li><li><p>å¦‚æœå°äºï¼Œé‚£ä¹ˆ <code>JVM</code> ä¼šç»§ç»­æ£€æŸ¥æ˜¯å¦è®¾ç½®äº†å…è®¸æ‹…ä¿å¤±è´¥ï¼š</p><ol><li><p>å¦‚æœå…è®¸æ‹…ä¿å¤±è´¥ï¼Œé‚£ä¹ˆç»§ç»­æ£€æŸ¥è€å¹´ä»£çš„æœ€å¤§å¯ç”¨è¿ç»­ç©ºé—´æ˜¯å¦å¤§äºå†æ¬¡æ”¾ç½®åˆ°è€å¹´ä»£ä¸­çš„å¯¹è±¡çš„å¹³å‡å¤§å°ï¼š</p><ol><li><p>å¦‚æœå¤§äºï¼Œé‚£ä¹ˆå°è¯•è¿›è¡Œä¸€æ¬¡ <code>MinorGC</code>ï¼›</p></li><li><p>å¦‚æœä¸å¤§äºï¼Œé‚£ä¹ˆæ”¹åšä¸€æ¬¡ <code>Full GC</code>ã€‚</p></li></ol></li></ol></li></ol></li></ol><h5 id="_1-3-5-3-æ ‡è®°æ•´ç†ç®—æ³•-mark-compact-ä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-3-5-3-æ ‡è®°æ•´ç†ç®—æ³•-mark-compact-ä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨" aria-hidden="true">#</a> 1.3.5.3 æ ‡è®°æ•´ç†ç®—æ³•ï¼ˆ<code>Mark-Compact</code>ï¼Œä¸€èˆ¬åœ¨è€å¹´ä»£ä¸­ä½¿ç”¨ï¼‰</h5><p>ç”±äºå¤åˆ¶ç®—æ³•åœ¨å­˜æ´»å¯¹è±¡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæ•ˆç‡è¾ƒä½ã€ä¸”æœ‰ç©ºé—´æµªè´¹ï¼Œå› æ­¤è€å¹´ä»£ä¸€èˆ¬ä¸ä¼šé€‰ç”¨å¤åˆ¶ç®—æ³•ï¼Œè€Œæ˜¯å¤šé€‰ç”¨æ ‡è®°æ•´ç†ç®—æ³•ã€‚</p><p>æ ‡è®°æ•´ç†ç®—æ³•çš„æ ‡è®°è¿‡ç¨‹è·Ÿæ ‡è®°æ¸…é™¤ç®—æ³•çš„æ ‡è®°è¿‡ç¨‹ä¸€æ ·ï¼Œä½†æ ‡è®°æ•´ç†ç®—æ³•çš„åç»­ä¸æ˜¯ç›´æ¥æ¸…é™¤å¯å›æ”¶çš„å¯¹è±¡ï¼Œè€Œæ˜¯è®©æ‰€æœ‰å­˜æ´»çš„å¯¹è±¡éƒ½å‘ä¸€ç«¯ç§»åŠ¨ï¼Œäºæ˜¯ï¼Œç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜ä¸­åªç•™ä¸‹äº†å¯å›æ”¶çš„å¯¹è±¡ï¼Œæ­¤æ—¶ç›´æ¥æ¸…é™¤ç«¯è¾¹ç•Œä»¥å¤–çš„å†…å­˜å³å¯ã€‚</p><p><img src="/assets/08.74a12699.png" alt="" loading="lazy"></p><h2 id="_2-åƒåœ¾æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_2-åƒåœ¾æ”¶é›†å™¨" aria-hidden="true">#</a> 2. åƒåœ¾æ”¶é›†å™¨</h2><h3 id="_2-1-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_2-1-æ¦‚è¿°" aria-hidden="true">#</a> 2.1 æ¦‚è¿°</h3><p>åƒåœ¾æ”¶é›†ç®—æ³•æ˜¯å†…å­˜å›æ”¶æ‰€é‡‡ç”¨çš„æ–¹æ³•ã€‚è€Œåƒåœ¾æ”¶é›†å™¨åˆ™æ˜¯åƒåœ¾æ”¶é›†ç®—æ³•çš„å…·ä½“å®ç°ï¼Œé€šè¿‡åƒåœ¾æ”¶é›†å™¨å®ç°å¯¹å†…å­˜çš„å›æ”¶ã€‚</p><p>ä¸åŒå‚å•†ã€ä¸åŒè™šæ‹Ÿæœºç‰ˆæœ¬ä¸­ï¼Œåƒåœ¾æ”¶é›†å™¨çš„å®ç°æœ‰å¾ˆå¤§å·®åˆ«ã€‚</p><p><code>HotSpot</code> è™šæ‹Ÿæœºä¸­åŒ…å«çš„åƒåœ¾æ”¶é›†å™¨å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/assets/09.aa05314a.png" alt="" loading="lazy"></p><p>å…¶ä¸­ï¼š</p><ol><li><p><code>Serial</code> å’Œ <code>Serial old</code> éƒ½æ˜¯ä¸²è¡Œæ”¶é›†å™¨ï¼›</p></li><li><p><code>ParNew</code> å’Œ <code>Parallel old</code> éƒ½æ˜¯å¹¶è¡Œæ”¶é›†å™¨ï¼›</p></li><li><p><code>G1</code> æ˜¯æ–°ç”Ÿä»£å’Œè€å¹´ä»£éƒ½å¯ä»¥ä½¿ç”¨çš„æ”¶é›†å™¨ï¼›</p></li><li><p>æ–°ç”Ÿä»£ä¸­çš„ <code>Serial</code> æ”¶é›†å™¨å¯ä»¥å’Œè€å¹´ä»£ä¸­çš„ <code>Serial old</code> æ”¶é›†å™¨ç»„åˆä½¿ç”¨ï¼›</p></li><li><p>æ–°ç”Ÿä»£ä¸­çš„ <code>ParNew</code> æ”¶é›†å™¨å¯ä»¥å’Œè€å¹´ä»£ä¸­çš„ <code>CMS</code> æ”¶é›†å™¨ç»„åˆä½¿ç”¨ï¼›</p></li><li><p>æ–°ç”Ÿä»£ä¸­çš„ <code>Parallel Scavenge</code> æ”¶é›†å™¨å¯ä»¥å’Œè€å¹´ä»£ä¸­çš„ <code>Serial old</code> æˆ– <code>Parallel old</code> æ”¶é›†å™¨ç»„åˆä½¿ç”¨ï¼›</p></li><li><p>è€å¹´ä»£ä¸­çš„ <code>CMS</code> æ”¶é›†å™¨å¯ä»¥å’Œ <code>Serial old</code> æ”¶é›†å™¨é…åˆä½¿ç”¨ã€‚</p><blockquote><p>å¦‚ï¼šå½“ <code>CMS</code> æ”¶é›†å™¨æ— æ³•æ­£å¸¸ä½¿ç”¨æ—¶ï¼Œä½¿ç”¨ <code>Serial old</code> æ”¶é›†å™¨æ¥æ›¿å·¥ä½œã€‚</p></blockquote></li><li><p><code>G1</code> æ”¶é›†å™¨æ—¢å¯ä»¥å¤„ç†æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ï¼Œåˆå¯ä»¥å¤„ç†è€å¹´ä»£çš„åƒåœ¾å›æ”¶ã€‚</p><blockquote><p>æ‰€ä»¥ <code>G1</code> æ”¶é›†å™¨ä¸éœ€è¦å’Œå…¶ä»–æ”¶é›†å™¨ç»„åˆä½¿ç”¨ã€‚</p></blockquote></li></ol><h3 id="_2-2-ä¸²è¡Œæ”¶é›†å™¨-serial-æ–°ç”Ÿä»£-serial-old-è€å¹´ä»£" tabindex="-1"><a class="header-anchor" href="#_2-2-ä¸²è¡Œæ”¶é›†å™¨-serial-æ–°ç”Ÿä»£-serial-old-è€å¹´ä»£" aria-hidden="true">#</a> 2.2 ä¸²è¡Œæ”¶é›†å™¨ï¼ˆ<code>Serial</code>ï¼ˆæ–°ç”Ÿä»£ï¼‰/ <code>Serial old</code>ï¼ˆè€å¹´ä»£ï¼‰ï¼‰</h3><p><img src="/assets/10.5c3c1298.png" alt="" loading="lazy"></p><p>ä¸²è¡Œæ”¶é›†å™¨çš„è¯´æ˜ï¼š</p><ol><li><p>æ–°ç”Ÿä»£ä¸­çš„ <code>Serial</code> æ”¶é›†å™¨å’Œè€å¹´ä»£ä¸­çš„ <code>Serial old</code> æ”¶é›†å™¨éƒ½æ˜¯ä¸²è¡Œæ”¶é›†å™¨ï¼Œä¸²è¡Œæ”¶é›†å™¨å°±æ˜¯å•çº¿ç¨‹çš„æ”¶é›†å™¨ï¼›</p></li><li><p>åœ¨åƒåœ¾å›æ”¶æ—¶ï¼Œä¸²è¡Œæ”¶é›†å™¨ä¼š <code>STW</code>ï¼ˆ<code>Stop-the-World</code>ï¼‰ã€‚</p></li><li><p>ä¸²è¡Œæ”¶é›†å™¨çš„ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œå¯¹äºå• <code>CPU</code> æ¥è¯´ï¼Œç”±äºæ²¡æœ‰å¤šçº¿ç¨‹çš„äº¤äº’å¼€é”€ï¼Œå¯èƒ½æ›´é«˜æ•ˆã€‚</p></li><li><p><code>Serial</code> æ”¶é›†å™¨æ˜¯é»˜è®¤çš„ <code>Client</code> æ¨¡å¼ä¸‹çš„æ–°ç”Ÿä»£æ”¶é›†å™¨ã€‚</p></li><li><p>é€šè¿‡è®¾ç½®å‚æ•° <code>-XX:+UseSerialGC</code> å¼€å¯ä¸²è¡Œæ”¶é›†å™¨ï¼Œæ­¤æ—¶ï¼Œä¼šé‡‡ç”¨ <code>Serial</code> + <code>Serial old</code> çš„æ”¶é›†å™¨ç»„åˆã€‚</p></li><li><p>æ–°ç”Ÿä»£ä¸­çš„ä¸²è¡Œæ”¶é›†å™¨ <code>Serial</code> é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼›è€å¹´ä»£ä¸­çš„ä¸²è¡Œæ”¶é›†å™¨ <code>Serial old</code> é‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•ã€‚</p></li></ol><h4 id="_2-2-1-ç¤ºä¾‹-serial-serial-old-ç»„åˆçš„é…ç½®-xx-useserialgc" tabindex="-1"><a class="header-anchor" href="#_2-2-1-ç¤ºä¾‹-serial-serial-old-ç»„åˆçš„é…ç½®-xx-useserialgc" aria-hidden="true">#</a> 2.2.1 ç¤ºä¾‹ï¼š<code>Serial</code> + <code>Serial old</code> ç»„åˆçš„é…ç½®ï¼ˆ<code>-XX:+UseSerialGC</code>ï¼‰</h4><p><img src="/assets/11.1788aed2.png" alt="" loading="lazy"></p><h3 id="_2-3-å¹¶è¡Œæ”¶é›†å™¨-parnew-æ–°ç”Ÿä»£" tabindex="-1"><a class="header-anchor" href="#_2-3-å¹¶è¡Œæ”¶é›†å™¨-parnew-æ–°ç”Ÿä»£" aria-hidden="true">#</a> 2.3 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆ<code>ParNew</code>ï¼ˆæ–°ç”Ÿä»£ï¼‰ï¼‰</h3><p><img src="/assets/12.da4c19dd.png" alt="" loading="lazy"></p><p>å¹¶è¡Œæ”¶é›†å™¨ <code>ParNew</code> çš„è¯´æ˜ï¼š</p><ol><li><p><code>ParNew</code> æ”¶é›†å™¨æ˜¯æ–°ç”Ÿä»£ä¸­çš„å¹¶è¡Œæ”¶é›†å™¨ï¼Œä¸ <code>Serial</code> æ”¶é›†å™¨çš„æœ€å¤§åŒºåˆ«æ˜¯ï¼š<code>ParNew</code> æ”¶é›†å™¨ä¼šä½¿ç”¨å¤šä¸ª <code>GC</code> çº¿ç¨‹è¿›è¡Œæ–°ç”Ÿä»£ä¸­çš„åƒåœ¾å›æ”¶ï¼›</p></li><li><p><code>ParNew</code> æ”¶é›†å™¨åœ¨åƒåœ¾å›æ”¶æ—¶ä¼š <code>STW</code>ï¼ˆ<code>Stop-the-World</code>ï¼‰ã€‚</p></li><li><p>åœ¨å¹¶å‘èƒ½åŠ›å¥½çš„ <code>CPU</code> ç¯å¢ƒä¸­ï¼Œ<code>ParNew</code> å¹¶è¡Œæ”¶é›†å™¨çš„åœé¡¿æ—¶é—´è¦æ¯” <code>Serial</code> ä¸²è¡Œæ”¶é›†å™¨çŸ­ï¼›ä½†å¯¹äºå• <code>CPU</code> æˆ–å¹¶å‘èƒ½åŠ›è¾ƒå¼±çš„ <code>CPU</code>ï¼Œç”±äºå¤šçº¿ç¨‹çš„äº¤äº’å¼€é”€ï¼Œ<code>ParNew</code> å¹¶è¡Œæ”¶é›†å™¨å¯èƒ½æ¯” <code>Serial</code> ä¸²è¡Œæ”¶é›†å™¨æ›´å·®ã€‚</p></li><li><p>å¹¶è¡Œæ”¶é›†å™¨ <code>ParNew</code> æ˜¯ <code>Server</code> æ¨¡å¼ä¸‹é¦–é€‰çš„æ–°ç”Ÿä»£æ”¶é›†å™¨ï¼›</p></li><li><p><strong>æ–°ç”Ÿä»£ä¸­çš„å¹¶è¡Œæ”¶é›†å™¨ <code>ParNew</code> é€šå¸¸ä¸è€å¹´ä»£ä¸­çš„ <code>CMS</code> æ”¶é›†å™¨ç»„åˆä½¿ç”¨</strong>ã€‚</p><blockquote><p>å½“è®¾ç½®å‚æ•° <code>-XX:+UseConcMarkSweepGC</code>ï¼ŒæŒ‡å®šè€å¹´ä»£ä½¿ç”¨ <code>CMS</code> æ”¶é›†å™¨æ—¶ï¼Œæ–°ç”Ÿä»£å°±ä¼šä½¿ç”¨ <code>ParNew</code> æ”¶é›†å™¨ã€‚</p><p>ï¼ˆä¸å†ä½¿ç”¨å‚æ•° <code>-XX:+UseParNewGC</code> æ¥å•ç‹¬å¼€å¯ <code>ParNew</code> æ”¶é›†å™¨ï¼‰</p></blockquote></li><li><p>é€šè¿‡è®¾ç½®å‚æ•° <code>-XX:ParallelGCThreads</code>ï¼ŒæŒ‡å®šå¹¶è¡Œæ”¶é›†å™¨ <code>ParNew</code> çš„ <code>GC</code> çº¿ç¨‹æ•°ã€‚ï¼ˆæœ€å¥½ä¸ <code>CPU</code> æ•°é‡ä¸€è‡´ï¼‰</p></li><li><p>å¹¶è¡Œæ”¶é›†å™¨ <code>ParNew</code> åªåœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨ï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³•ã€‚</p></li></ol><h4 id="_2-3-1-ç¤ºä¾‹-parnew-cms-ç»„åˆçš„é…ç½®-xx-useconcmarksweepgc" tabindex="-1"><a class="header-anchor" href="#_2-3-1-ç¤ºä¾‹-parnew-cms-ç»„åˆçš„é…ç½®-xx-useconcmarksweepgc" aria-hidden="true">#</a> 2.3.1 ç¤ºä¾‹ï¼š<code>ParNew</code> + <code>CMS</code> ç»„åˆçš„é…ç½®ï¼ˆ<code>-XX:+UseConcMarkSweepGC</code>ï¼‰</h4><p><img src="/assets/13.1232deec.png" alt="" loading="lazy"></p><h3 id="_2-4-å¹¶è¡Œæ”¶é›†å™¨-parallel-scavenge-æ–°ç”Ÿä»£-parallel-old-è€å¹´ä»£" tabindex="-1"><a class="header-anchor" href="#_2-4-å¹¶è¡Œæ”¶é›†å™¨-parallel-scavenge-æ–°ç”Ÿä»£-parallel-old-è€å¹´ä»£" aria-hidden="true">#</a> 2.4 å¹¶è¡Œæ”¶é›†å™¨ï¼ˆ<code>Parallel Scavenge</code>ï¼ˆæ–°ç”Ÿä»£ï¼‰/ <code>Parallel old</code>ï¼ˆè€å¹´ä»£ï¼‰ï¼‰</h3><p><img src="/assets/14.eb3e45da.png" alt="" loading="lazy"></p><p>è¯´æ˜ï¼š</p><ol><li><p>å¹¶è¡Œæ”¶é›†å™¨ <code>Parallel Scavenge</code> åªåœ¨æ–°ç”Ÿä»£ä¸­ä½¿ç”¨ï¼Œé‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼›å¹¶è¡Œæ”¶é›†å™¨ <code>Parallel old</code> åªåœ¨è€å¹´ä»£ä¸­ä½¿ç”¨ï¼Œé‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•ã€‚</p></li><li><p>æ–°ç”Ÿä»£ä¸­çš„ <code>Parallel Scavenge</code> å¹¶è¡Œæ”¶é›†å™¨è·Ÿ <code>ParNew</code> å¾ˆç±»å‹ï¼Œä½† <code>Parallel Scavenge</code> æ›´å…³æ³¨ååé‡ï¼Œèƒ½æœ€é«˜æ•ˆç‡çš„åˆ©ç”¨ <code>CPU</code>ï¼Œé€‚åˆè¿è¡Œåå°åº”ç”¨ã€‚</p></li><li><p>é€šè¿‡è®¾ç½®å‚æ•° <code>-XX:+UseParallelGC</code>ï¼Œæˆ–è€…è®¾ç½®å‚æ•° <code>-XX:+UseParallelOldGC</code>ï¼Œéƒ½ä¼šä½¿ç”¨ <code>Parallel Scavenge</code> + <code>Parallel old</code> çš„æ”¶é›†å™¨ç»„åˆã€‚</p></li><li><p>é€šè¿‡è®¾ç½®å‚æ•° <code>-XX:MaxGCPauseMillis</code>ï¼Œé…ç½® <code>GC</code> çš„æœ€å¤§åœé¡¿æ—¶é—´ã€‚</p></li></ol><h4 id="_2-4-1-ç¤ºä¾‹-parallel-scavenge-parallel-old-ç»„åˆçš„é…ç½®-xx-useparallelgc-æˆ–-xx-useparalleloldgc" tabindex="-1"><a class="header-anchor" href="#_2-4-1-ç¤ºä¾‹-parallel-scavenge-parallel-old-ç»„åˆçš„é…ç½®-xx-useparallelgc-æˆ–-xx-useparalleloldgc" aria-hidden="true">#</a> 2.4.1 ç¤ºä¾‹ï¼š<code>Parallel Scavenge</code> + <code>Parallel old</code> ç»„åˆçš„é…ç½®ï¼ˆ<code>-XX:+UseParallelGC</code> æˆ– <code>-XX:+UseParallelOldGC</code>ï¼‰</h4><p><img src="/assets/15.77dd81b3.png" alt="" loading="lazy"></p><p><img src="/assets/16.f0809ca6.png" alt="" loading="lazy"></p><h3 id="_2-5-å¹¶å‘æ”¶é›†å™¨-cms-concurrent-mark-and-sweep-å¹¶å‘æ ‡è®°æ¸…é™¤" tabindex="-1"><a class="header-anchor" href="#_2-5-å¹¶å‘æ”¶é›†å™¨-cms-concurrent-mark-and-sweep-å¹¶å‘æ ‡è®°æ¸…é™¤" aria-hidden="true">#</a> 2.5 å¹¶å‘æ”¶é›†å™¨ï¼ˆ<code>CMS</code>ï¼Œ<code>Concurrent Mark and Sweep</code> å¹¶å‘æ ‡è®°æ¸…é™¤ï¼‰</h3><p>å‰é¢ä»‹ç»çš„æ”¶é›†å™¨ï¼ˆ<code>Serial</code>ã€<code>Serial old</code>ã€<code>ParNew</code>ã€<code>Parallel Scavenge</code>ã€<code>Parallel old</code>ï¼‰éƒ½æ˜¯ä¸²è¡Œæ”¶é›†å™¨æˆ–å¹¶è¡Œæ”¶é›†å™¨ï¼Œè€Œè¿™é‡Œä»‹ç»çš„è€å¹´ä»£ä¸­çš„ <code>CMS</code> æ”¶é›†å™¨åˆ™æ˜¯ <strong>å¹¶å‘</strong> æ”¶é›†å™¨ã€‚å…¶ä¸­ï¼š</p><ol><li><p>æ‰€è°“ä¸²è¡Œï¼Œå°±æ˜¯æŒ‡åƒåœ¾å›æ”¶æ—¶ï¼Œæš‚åœç”¨æˆ·çº¿ç¨‹ï¼Œåªå¼€å¯ä¸€ä¸ª <code>GC</code> çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ï¼›</p></li><li><p>æ‰€è°“å¹¶è¡Œï¼Œå°±æ˜¯æŒ‡åƒåœ¾å›æ”¶æ—¶ï¼Œæš‚åœç”¨æˆ·çº¿ç¨‹ï¼Œå¼€å¯å¤šä¸ª <code>GC</code> çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p></li><li><p>æ‰€è°“å¹¶å‘ï¼Œå°±æ˜¯æŒ‡åƒåœ¾å›æ”¶æ—¶ï¼Œä¸æš‚åœ ç”¨æˆ·çº¿ç¨‹ï¼Œå¯ä»¥å¼€å¯å¤šä¸ª <code>GC</code> çº¿ç¨‹è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œâ€œå¹¶å‘â€ å°±æ„å‘³ç€ç”¨æˆ·çº¿ç¨‹å’Œ <code>GC</code> çº¿ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œã€‚</p></blockquote></li></ol><p>å¦å¤–ï¼Œå‰é¢ä»‹ç»çš„è€å¹´ä»£ä¸­çš„ <code>Serial old</code> å’Œ <code>Parallel old</code> æ”¶é›†å™¨éƒ½æ˜¯é‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•ï¼Œè€Œè€å¹´ä»£ä¸­çš„ <code>CMS</code> æ”¶é›†å™¨åˆ™æ˜¯é‡‡ç”¨ <strong>æ ‡è®°æ¸…é™¤ç®—æ³•</strong>ã€‚</p><p><code>CMS</code> æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹å¯åˆ’åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š</p><ol><li><p>åˆå§‹æ ‡è®°é˜¶æ®µï¼šåªæ ‡è®° <code>GC Roots</code> èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ã€‚</p></li><li><p>å¹¶å‘æ ‡è®°é˜¶æ®µï¼šè¿›è¡Œ <code>GC Roots Tracing</code> çš„è¿‡ç¨‹ã€‚</p></li><li><p>é‡æ–°æ ‡è®°é˜¶æ®µï¼šä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´ï¼Œå› ç¨‹åºè¿è¡Œå¯¼è‡´æ ‡è®°å‘ç”Ÿå˜åŒ–çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡ã€‚</p></li><li><p>å¹¶å‘æ¸…é™¤é˜¶æ®µï¼šå¹¶å‘å›æ”¶åƒåœ¾å¯¹è±¡ã€‚</p></li></ol><p><img src="/assets/17.a3515d03.png" alt="" loading="lazy"></p><p>æ³¨æ„ï¼š</p><ol><li><p>åœ¨ <code>CMS</code> çš„å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œåªæœ‰å¹¶å‘æ ‡è®°é˜¶æ®µå’Œå¹¶å‘æ¸…é™¤é˜¶æ®µä¸­çš„çº¿ç¨‹æ˜¯ä¸ç”¨æˆ·çº¿ç¨‹åŒæ—¶è¿è¡Œçš„ã€‚åœ¨åˆå§‹æ ‡è®°é˜¶æ®µå’Œé‡æ–°æ ‡è®°é˜¶æ®µä¸­è¿˜æ˜¯ä¼šæš‚åœç”¨æˆ·çº¿ç¨‹ï¼Œå³è¿™ä¸¤ä¸ªé˜¶æ®µä¸­å¯èƒ½ä¼šå‘ç”Ÿ <code>STW</code>ï¼ˆ<code>Stop-the-World</code>ï¼‰ã€‚</p></li><li><p>è¿è¡Œç¤ºæ„å›¾ä¸­ï¼Œæœ€åçš„é‡ç½®çº¿ç¨‹ï¼ŒæŒ‡çš„æ˜¯æ¸…ç©ºè·Ÿæ”¶é›†ç›¸å…³çš„æ•°æ®å¹¶é‡ç½®ï¼Œä¸ºä¸‹ä¸€æ¬¡æ”¶é›†åšå‡†å¤‡ã€‚</p></li></ol><p><code>CMS</code> æ”¶é›†å™¨çš„ä¼˜ç¼ºç‚¹ï¼š</p><ol><li><p>ä¼˜ç‚¹ï¼šä½åœé¡¿ã€å¹¶å‘æ‰§è¡Œã€‚</p></li><li><p>ç¼ºç‚¹ï¼š</p><ol><li>å¹¶å‘æ‰§è¡Œï¼Œå¯¹ <code>CPU</code> èµ„æºå‹åŠ›å¤§ï¼›</li><li>æ— æ³•å¤„ç†åœ¨å¤„ç†è¿‡ç¨‹ä¸­äº§ç”Ÿçš„åƒåœ¾ï¼Œå¯èƒ½å¯¼è‡´ <code>FullGC</code>ï¼›</li><li>é‡‡ç”¨çš„æ ‡è®°æ¸…é™¤ç®—æ³•ä¼šå¯¼è‡´å¤§é‡çš„å†…å­˜ç¢ç‰‡ï¼Œä»è€Œåœ¨åˆ†é…å¤§å¯¹è±¡æ—¶å¯èƒ½è§¦å‘ <code>FullGC</code>ã€‚</li></ol></li></ol><p><code>CMS</code> æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®ï¼š</p><ol><li><p><code>-XX:+UseConcMarkSweepGC</code>ï¼šä½¿ç”¨ <code>ParNew</code> + <code>CMS</code> + <code>Serial old</code> çš„æ”¶é›†å™¨ç»„åˆã€‚</p><blockquote><p>å…¶ä¸­ï¼Œ<code>Serial old</code> æ”¶é›†å™¨å°†ä½œä¸º <code>CMS</code> å‡ºé”™æ—¶çš„åå¤‡æ”¶é›†å™¨ã€‚</p></blockquote></li><li><p><code>-XX:CMSInitiatingOccupancyFraction</code>ï¼šè®¾ç½®åœ¨è€å¹´ä»£çš„å†…å­˜ç©ºé—´è¢«ä½¿ç”¨å¤šå°‘åè§¦å‘ <code>CMS</code> æ”¶é›†å™¨è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p><blockquote><p>é»˜è®¤æ˜¯ <code>80%</code>ã€‚</p></blockquote></li></ol><h3 id="_2-6-g1-æ”¶é›†å™¨-garbage-first" tabindex="-1"><a class="header-anchor" href="#_2-6-g1-æ”¶é›†å™¨-garbage-first" aria-hidden="true">#</a> 2.6 <code>G1</code> æ”¶é›†å™¨ï¼ˆ<code>Garbage-First</code>ï¼‰</h3><h4 id="_2-6-1-g1-æ”¶é›†å™¨çš„ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#_2-6-1-g1-æ”¶é›†å™¨çš„ç‰¹ç‚¹" aria-hidden="true">#</a> 2.6.1 <code>G1</code> æ”¶é›†å™¨çš„ç‰¹ç‚¹</h4><p><code>G1</code> æ”¶é›†å™¨æ˜¯ä¸€æ¬¾é¢å‘æœåŠ¡ç«¯åº”ç”¨çš„æ”¶é›†å™¨ï¼Œä¸å…¶ä»–æ”¶é›†å™¨ç›¸æ¯”ï¼Œå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><p><code>G1</code> æ”¶é›†å™¨æŠŠå†…å­˜åˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„åŒºåŸŸï¼ˆ<code>Region</code>ï¼‰ã€‚</p></li><li><p><code>G1</code> æ”¶é›†å™¨ä»é‡‡ç”¨åˆ†ä»£æ€æƒ³ï¼Œä¿ç•™äº†æ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œä½†å®ƒä»¬ä¸å†æ˜¯ç‰©ç†éš”ç¦»çš„ï¼Œè€Œæ˜¯ä¸€éƒ¨åˆ† <code>Region</code> çš„é›†åˆã€‚ä¸”ä¸éœ€è¦ <code>Region</code> æ˜¯è¿ç»­çš„ã€‚</p><blockquote><p>å‰é¢ä»‹ç»çš„åƒåœ¾æ”¶é›†å™¨éƒ½æ˜¯é‡‡ç”¨åˆ†ä»£æ€æƒ³ï¼Œä¸”åœ¨å†…å­˜çš„ç‰©ç†ç»“æ„ä¸Šï¼Œå°†å†…å­˜ åˆ’åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚</p></blockquote></li><li><p><code>G1</code> æ”¶é›†å™¨èƒ½å……åˆ†åˆ©ç”¨å¤š <code>CPU</code>ã€å¤šæ ¸ç¯å¢ƒç¡¬ä»¶ä¼˜åŠ¿ï¼Œå°½é‡ç¼©çŸ­ <code>STW</code>ã€‚</p></li><li><p><code>G1</code> æ”¶é›†å™¨æ•´ä½“ä¸Šé‡‡ç”¨æ ‡è®°æ•´ç†ç®—æ³•ï¼Œå±€éƒ¨é‡‡ç”¨å¤åˆ¶ç®—æ³•ï¼Œä¸ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ã€‚</p></li><li><p><code>GC</code> æ”¶é›†å™¨çš„åœé¡¿å¯é¢„æµ‹ï¼Œèƒ½æ˜ç¡®åœ°æŒ‡å®šï¼šåœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œæ¶ˆè€—åœ¨åƒåœ¾æ”¶é›†ä¸Šçš„æ—¶é—´ä¸èƒ½è¶…è¿‡å¤šé•¿æ—¶é—´ã€‚</p></li><li><p><code>G1</code> æ”¶é›†å™¨è·Ÿè¸ªå„ä¸ª <code>Region</code> é‡Œé¢åƒåœ¾å †çš„ä»·å€¼å¤§å°ï¼Œåœ¨åå°ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆåˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®å…è®¸çš„æ—¶é—´æ¥å›æ”¶ä»·å€¼æœ€å¤§çš„åŒºåŸŸï¼Œä»è€Œä¿è¯åœ¨æœ‰é™æ—¶é—´å†…çš„é«˜æ•ˆæ”¶é›†ã€‚</p><blockquote><p>æ‰€è°“ â€œå›æ”¶ä»·å€¼æœ€å¤§â€ çš„åŒºåŸŸï¼Œå°±æ˜¯æŒ‡åƒåœ¾å¯¹è±¡å­˜æ”¾æœ€å¤šçš„åŒºåŸŸã€‚å› ä¸ºå›æ”¶è¿™æ ·çš„åŒºåŸŸä¸­çš„åƒåœ¾å¯¹è±¡ï¼Œé‡Šæ”¾åå¾—åˆ°çš„å¯ç”¨å†…å­˜ç©ºé—´æœ€å¤šã€‚</p></blockquote></li><li><p><code>G1</code> æ”¶é›†å™¨ä¸€èˆ¬ä¸ä¼šè¿›è¡Œ <code>FullGC</code>ã€‚é€šå¸¸æ˜¯è¿›è¡Œæ•´ä¸ªæ–°ç”Ÿä»£åŒºåŸŸçš„å›æ”¶ï¼Œä»¥åŠéƒ¨åˆ†å›æ”¶ä»·å€¼æœ€å¤§çš„è€å¹´ä»£åŒºåŸŸçš„å›æ”¶ã€‚ä¹Ÿå°±æ˜¯è¿›è¡Œ <code>Mixed GC</code>ã€‚</p></li></ol><h4 id="_2-6-2-g1-æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸ-region" tabindex="-1"><a class="header-anchor" href="#_2-6-2-g1-æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸ-region" aria-hidden="true">#</a> 2.6.2 <code>G1</code> æ”¶é›†å™¨å®šä¹‰çš„äº”ç§ç±»å‹çš„åŒºåŸŸï¼ˆ<code>Region</code>ï¼‰</h4><p><code>G1</code> æ”¶é›†å™¨æŠŠå†…å­˜åˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„åŒºåŸŸï¼ˆ<code>Region</code>ï¼‰ï¼Œå¹¶å®šä¹‰äº†äº”ç§ä¸åŒç±»å‹çš„ <code>Region</code>ï¼š</p><ol><li><p><code>Eden regions</code>ï¼šæ–°ç”Ÿä»£çš„ <code>Eden</code> åŒºã€‚</p></li><li><p><code>Survivor regions</code>ï¼šæ–°ç”Ÿä»£çš„ <code>Survivor</code> åŒºã€‚</p></li><li><p><code>Old regions</code>ï¼šè€å¹´ä»£ã€‚</p></li><li><p><code>Humongous regions</code>ï¼šå·¨å‹å¯¹è±¡åŒºåŸŸï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨å¤§å¯¹è±¡ã€‚é€šå¸¸ä¹Ÿè¢«è®¤ä¸ºæ˜¯è€å¹´ä»£çš„ä¸€éƒ¨åˆ†ã€‚</p><blockquote><p><code>G1</code> æ”¶é›†å™¨è®¤ä¸ºåªè¦å¯¹è±¡çš„å¤§å°è¶…è¿‡äº†ä¸€ä¸ª <code>Region</code> å®¹é‡çš„ <code>1/2</code>ï¼Œå³å¯åˆ¤å®šä¸ºå¤§å¯¹è±¡ã€‚</p></blockquote></li></ol><p><img src="/assets/18.69c2455e.png" alt="" loading="lazy"></p><h4 id="_2-6-3-g1-æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹-å››ä¸ªé˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#_2-6-3-g1-æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹-å››ä¸ªé˜¶æ®µ" aria-hidden="true">#</a> 2.6.3 <code>G1</code> æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹ï¼ˆå››ä¸ªé˜¶æ®µï¼‰</h4><p>è·Ÿ <code>CMS</code> ç±»ä¼¼ï¼Œ<code>G1</code> æ”¶é›†å™¨çš„å·¥ä½œè¿‡ç¨‹å¯åˆ’åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š</p><ol><li><p>åˆå§‹æ ‡è®°é˜¶æ®µï¼šåªæ ‡è®° <code>GC Roots</code> èƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡ã€‚</p></li><li><p>å¹¶å‘æ ‡è®°é˜¶æ®µï¼šè¿›è¡Œ <code>GC Roots Tracing</code> çš„è¿‡ç¨‹ã€‚</p></li><li><p>æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼šä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´ï¼Œå› ç¨‹åºè¿è¡Œå¯¼è‡´æ ‡è®°å‘ç”Ÿå˜åŒ–çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡ã€‚</p></li><li><p>ç­›é€‰å›æ”¶é˜¶æ®µï¼šæ ¹æ®æ—¶é—´æ¥è¿›è¡Œä»·å€¼æœ€å¤§åŒ–çš„å›æ”¶ã€‚</p></li></ol><p><img src="/assets/19.fefacffe.png" alt="" loading="lazy"></p><h4 id="_2-6-4-g1-æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-6-4-g1-æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®" aria-hidden="true">#</a> 2.6.4 <code>G1</code> æ”¶é›†å™¨çš„ç›¸å…³å‚æ•°é…ç½®</h4><h5 id="_2-6-4-1-xx-useg1gc-ä½¿ç”¨-g1-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_2-6-4-1-xx-useg1gc-ä½¿ç”¨-g1-æ”¶é›†å™¨" aria-hidden="true">#</a> 2.6.4.1 <code>-XX:+UseG1GC</code>ï¼ˆä½¿ç”¨ <code>G1</code> æ”¶é›†å™¨ï¼‰</h5><p>å¼€å¯å¹¶ä½¿ç”¨ <code>G1</code> æ”¶é›†å™¨ã€‚</p><blockquote><p><code>JDK 13</code> ä¸­é»˜è®¤ä½¿ç”¨ <code>G1</code> æ”¶é›†å™¨ã€‚</p></blockquote><h5 id="_2-6-4-2-xx-maxgcpausemillis-n-æœ€å¤§-gc-åœé¡¿æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_2-6-4-2-xx-maxgcpausemillis-n-æœ€å¤§-gc-åœé¡¿æ—¶é—´" aria-hidden="true">#</a> 2.6.4.2 <code>-XX:MaxGCPauseMillis=&lt;n&gt;</code>ï¼ˆæœ€å¤§ <code>GC</code> åœé¡¿æ—¶é—´ï¼‰</h5><p>è¿™é‡Œè®¾ç½®çš„æœ€å¤§ <code>GC</code> åœé¡¿æ—¶é—´åªæ˜¯è½¯ä»¶çš„ç›®æ ‡ï¼Œ<code>JVM</code> å°†å°½å¯èƒ½è®©ï¼ˆä½†ä¸ä¿è¯ï¼‰åœé¡¿å°äºè¿™ä¸ªæ—¶é—´ã€‚</p><h5 id="_2-6-4-3-xx-initiatingheapoccupancypercent-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-3-xx-initiatingheapoccupancypercent-n" aria-hidden="true">#</a> 2.6.4.3 <code>-XX:InitiatingHeapOccupancyPercent=&lt;n&gt;</code></h5><p>å ç”¨äº†å¤šå°‘ <code>Java</code> å †å†…å­˜æ—¶è§¦å‘ <code>GC</code>ï¼Œé»˜è®¤ä¸º <code>45</code>ã€‚</p><h5 id="_2-6-4-4-xx-newratio-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-4-xx-newratio-n" aria-hidden="true">#</a> 2.6.4.4 <code>-XX:NewRatio=&lt;n&gt;</code></h5><p>é»˜è®¤ä¸º <code>2</code>ã€‚</p><h5 id="_2-6-4-5-xx-survivorratio-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-5-xx-survivorratio-n" aria-hidden="true">#</a> 2.6.4.5 <code>-XX:SurvivorRatio=&lt;n&gt;</code></h5><p>é»˜è®¤ä¸º <code>8</code>ã€‚</p><h5 id="_2-6-4-6-xx-maxtenuringthreshold-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-6-xx-maxtenuringthreshold-n" aria-hidden="true">#</a> 2.6.4.6 <code>-XX:MaxTenuringThreshold=&lt;n&gt;</code></h5><p>æ–°ç”Ÿä»£åˆ°è€å¹´ä»£çš„å²æ•°ã€‚é»˜è®¤æ˜¯ <code>15</code>ã€‚</p><blockquote><p><code>15</code> è¡¨ç¤ºæ–°ç”Ÿä»£ä¸­çš„æŸä¸ªå¯¹è±¡åœ¨ç»å†äº† <code>15</code> æ¬¡ <code>GC</code> åï¼Œä»ç„¶ä¿ç•™åœ¨æ–°ç”Ÿä»£çš„å­˜æ´»åŒºä¸­ï¼Œé‚£ä¹ˆå°±ä¼šå°†è¯¥å¯¹è±¡æ”¾åˆ°è€å¹´ä»£ä¸­ä¿å­˜ã€‚</p></blockquote><h5 id="_2-6-4-7-xx-parallelgcthreads-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-7-xx-parallelgcthreads-n" aria-hidden="true">#</a> 2.6.4.7 <code>-XX:ParallelGCThreads=&lt;n&gt;</code></h5><p>å¹¶è¡Œ <code>GC</code> çš„çº¿ç¨‹æ•°ã€‚é»˜è®¤å€¼ä¼šæ ¹æ®å¹³å°ä¸åŒè€Œä¸åŒã€‚</p><h5 id="_2-6-4-8-xx-concgcthreads-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-8-xx-concgcthreads-n" aria-hidden="true">#</a> 2.6.4.8 <code>-XX:ConcGCThreads=&lt;n&gt;</code></h5><p>å¹¶å‘ <code>GC</code> ä½¿ç”¨çš„çº¿ç¨‹æ•°ã€‚</p><h5 id="_2-6-4-9-xx-g1reservepercent-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-9-xx-g1reservepercent-n" aria-hidden="true">#</a> 2.6.4.9 <code>-XX:G1ReservePercent=&lt;n&gt;</code></h5><p>è®¾ç½®ä½œä¸ºç©ºé—²ç©ºé—´çš„é¢„ç•™å†…å­˜ç™¾åˆ†æ¯”ï¼Œä»¥é™ä½ç›®æ ‡ç©ºé—´æº¢å‡ºçš„é£é™©ã€‚é»˜è®¤å€¼æ˜¯ <code>10%</code>ã€‚</p><h5 id="_2-6-4-10-xx-g1heapregionsize-n" tabindex="-1"><a class="header-anchor" href="#_2-6-4-10-xx-g1heapregionsize-n" aria-hidden="true">#</a> 2.6.4.10 <code>-XX:G1HeapRegionSize=&lt;n&gt;</code></h5><p>è®¾ç½® <code>G1</code> åŒºåŸŸçš„å¤§å°ã€‚å€¼æ˜¯ <code>2</code> çš„å¹‚ï¼ŒèŒƒå›´æ˜¯ <code>1MB</code> åˆ° <code>32MB</code>ã€‚</p><p>ç›®æ ‡æ˜¯æ ¹æ®æœ€å°çš„ <code>Java</code> å †å¤§å°åˆ’åˆ†å‡ºçº¦ <code>2048</code> ä¸ªåŒºåŸŸã€‚</p><h3 id="_2-7-zgc-æ”¶é›†å™¨" tabindex="-1"><a class="header-anchor" href="#_2-7-zgc-æ”¶é›†å™¨" aria-hidden="true">#</a> 2.7 <code>ZGC</code> æ”¶é›†å™¨</h3><p><code>ZGC</code> æ”¶é›†å™¨æ˜¯ <code>JDK 11</code> åŠ å…¥çš„ä½å»¶è¿Ÿæ”¶é›†å™¨ï¼ˆå¤„äºè¯•éªŒé˜¶æ®µï¼‰ã€‚</p><p><code>ZGC</code> æ”¶é›†å™¨çš„è®¾è®¡ç›®æ ‡æ˜¯ï¼š</p><ol><li>æ”¯æŒ <code>TB</code> çº§å†…å­˜å®¹é‡ï¼›</li><li>æš‚åœæ—¶é—´ä½ï¼ˆ<code>&lt;10ms</code>ï¼‰ï¼›</li><li>å¯¹æ•´ä¸ªç¨‹åºååé‡çš„å½±å“å°äº <code>15%</code>ã€‚</li></ol><p><code>ZGC</code> æ”¶é›†å™¨ä¸­çš„æ–°æŠ€æœ¯ï¼š</p><ol><li>ç€è‰²æŠ€æœ¯ï¼š</li><li>è¯»å±éšœã€‚</li></ol><h2 id="_3-gc-æ€§èƒ½æŒ‡æ ‡" tabindex="-1"><a class="header-anchor" href="#_3-gc-æ€§èƒ½æŒ‡æ ‡" aria-hidden="true">#</a> 3. <code>GC</code> æ€§èƒ½æŒ‡æ ‡</h2><p>ä¸€æ¬¾ä¼˜ç§€çš„ <code>GC</code> æ”¶é›†å™¨ï¼Œåº”è¯¥ä½¿å¾—ï¼š</p><ol><li>ååé‡å¾ˆå¤§ï¼›</li><li><code>GC</code> è´Ÿè·å¾ˆå°ï¼›</li><li>æš‚åœæ—¶é—´å‡ ä¹æ²¡æœ‰ã€‚</li></ol><blockquote><p>äº¤äº’å¼åº”ç”¨é€šå¸¸å¸Œæœ›æš‚åœæ—¶é—´è¶Šå°‘è¶Šå¥½ã€‚</p></blockquote><h3 id="_3-1-ååé‡" tabindex="-1"><a class="header-anchor" href="#_3-1-ååé‡" aria-hidden="true">#</a> 3.1 ååé‡</h3><p>ååé‡ = åº”ç”¨ä»£ç æ‰§è¡Œçš„æ—¶é—´ / è¿è¡Œçš„æ€»æ—¶é—´</p><blockquote><p>å…¶ä¸­ï¼Œè¿è¡Œçš„æ€»æ—¶é—´ = åº”ç”¨ä»£ç æ‰§è¡Œæ—¶é—´ + <code>GC</code> æ—¶é—´ã€‚</p></blockquote><h3 id="_3-2-gc-è´Ÿè·" tabindex="-1"><a class="header-anchor" href="#_3-2-gc-è´Ÿè·" aria-hidden="true">#</a> 3.2 <code>GC</code> è´Ÿè·</h3><p>ä¸ååé‡ç›¸åï¼Œ<code>GC</code> è´Ÿè· = <code>GC</code> æ—¶é—´ / è¿è¡Œçš„æ€»æ—¶é—´</p><h3 id="_3-3-æš‚åœæ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_3-3-æš‚åœæ—¶é—´" aria-hidden="true">#</a> 3.3 æš‚åœæ—¶é—´</h3><p>æš‚åœæ—¶é—´å°±æ˜¯å‘ç”Ÿ <code>STW</code>ï¼ˆ<code>Stop-the-World</code>ï¼‰çš„æ€»æ—¶é—´ã€‚</p><h3 id="_3-4-gc-é¢‘ç‡" tabindex="-1"><a class="header-anchor" href="#_3-4-gc-é¢‘ç‡" aria-hidden="true">#</a> 3.4 <code>GC</code> é¢‘ç‡</h3><p><code>GC</code> é¢‘ç‡å°±æ˜¯ <code>GC</code> åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…å‘ç”Ÿçš„æ¬¡æ•°ã€‚</p><h3 id="_3-5-ååº”é€Ÿåº¦" tabindex="-1"><a class="header-anchor" href="#_3-5-ååº”é€Ÿåº¦" aria-hidden="true">#</a> 3.5 ååº”é€Ÿåº¦</h3><p>ååº”é€Ÿåº¦å°±æ˜¯ä»å¯¹è±¡æˆä¸ºåƒåœ¾åˆ°è¢«å›æ”¶çš„æ—¶é—´ã€‚</p><blockquote><p>å¹¶ä¸æ˜¯è¯´ååº”é€Ÿåº¦è¶Šå¿«è¶Šå¥½ã€‚æœ‰æ—¶ï¼Œååº”é€Ÿåº¦å¿«ï¼Œå¯èƒ½æ„å‘³ç€é¢‘ç¹çš„ <code>GC</code>ã€‚</p></blockquote><h2 id="_4-jvm-å†…å­˜åˆ†é…åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#_4-jvm-å†…å­˜åˆ†é…åŸåˆ™" aria-hidden="true">#</a> 4. <code>JVM</code> å†…å­˜åˆ†é…åŸåˆ™</h2><p><code>JVM</code> å†…å­˜åˆ†é…åŸåˆ™å¦‚ä¸‹ï¼š</p><ol><li><p>æ–°ç”Ÿä»£å°½å¯èƒ½è®¾ç½®å¾—å¤§ç‚¹ï¼Œå¦‚æœå¤ªå°ä¼šå¯¼è‡´ï¼š</p><ol><li><code>YGC</code>ï¼ˆæ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ï¼‰æ¬¡æ•°æ›´åŠ é¢‘ç¹ï¼›</li><li>å¯èƒ½å¯¼è‡´ <code>YGC</code> åçš„å¯¹è±¡è¿›å…¥è€å¹´ä»£ï¼Œå¦‚æœæ­¤æ—¶è€å¹´ä»£æ»¡äº†ï¼Œä¼šè§¦å‘ <code>FGC</code>ï¼ˆå³ <code>FullGC</code>ï¼‰ã€‚</li></ol></li><li><p>å¯¹è€å¹´ä»£ï¼Œé’ˆå¯¹å“åº”æ—¶é—´ä¼˜å…ˆçš„åº”ç”¨ï¼šç”±äºè€å¹´ä»£é€šå¸¸é‡‡ç”¨å¹¶å‘æ”¶é›†å™¨ï¼Œå› æ­¤è€å¹´ä»£çš„å¤§å°è¦ç»¼åˆè€ƒè™‘å¹¶å‘é‡å’Œå¹¶å‘æŒç»­æ—¶é—´ç­‰å‚æ•°ï¼š</p><ol><li>å¦‚æœè€å¹´ä»£çš„å¤§å°è®¾ç½®å°äº†ï¼Œå¯èƒ½ä¼šé€ æˆå†…å­˜ç¢ç‰‡ï¼Œé«˜å›æ”¶é¢‘ç‡ä¼šå¯¼è‡´åº”ç”¨æš‚åœï¼›</li><li>å¦‚æœè€å¹´ä»£çš„å¤§å°è®¾ç½®å¤§äº†ï¼Œä¼šéœ€è¦è¾ƒé•¿çš„å›æ”¶æ—¶é—´ã€‚</li></ol></li><li><p>å¯¹è€å¹´ä»£ï¼Œé’ˆå¯¹ååé‡ä¼˜å…ˆçš„åº”ç”¨ï¼šé€šå¸¸è®¾ç½®è¾ƒå¤§çš„æ–°ç”Ÿä»£å’Œè¾ƒå°çš„è€å¹´ä»£ã€‚</p><blockquote><p>è¿™æ ·å¯ä»¥å°½å¯èƒ½å›æ”¶å¤§éƒ¨åˆ†çŸ­æœŸå¯¹è±¡ï¼Œå‡å°‘ä¸­æœŸå¯¹è±¡ï¼Œè€Œè€å¹´ä»£å°½é‡å­˜æ”¾é•¿æœŸå­˜æ´»çš„å¯¹è±¡ã€‚</p></blockquote></li><li><p>ä¾æ®å¯¹è±¡çš„å­˜æ´»å‘¨æœŸè¿›è¡Œåˆ†ç±»ï¼Œå¯¹è±¡ä¼˜å…ˆåˆ†é…åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œé•¿æ—¶é—´å­˜æ´»çš„å¯¹è±¡åˆ™åˆ†é…åœ¨è€å¹´ä»£ä¸­ã€‚</p></li><li><p>æ ¹æ®ä¸åŒä»£çš„ç‰¹ç‚¹ï¼Œé€‰å–åˆé€‚çš„æ”¶é›†ç®—æ³•ï¼š</p><ol><li>å°‘é‡å¯¹è±¡å­˜æ´»ï¼Œé€‚åˆå¤åˆ¶ç®—æ³•ï¼›</li><li>å¤§é‡å¯¹è±¡å­˜æ´»ï¼Œé€‚åˆæ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œæˆ–æ ‡è®°æ•´ç†ç®—æ³•ã€‚</li></ol></li></ol><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zengkaiqiang562/JavaGuide/edit/main/docs/zkq/java/jvm/gc.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/7/7 23:59:00</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zengk</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zkq/java/jvm/class-exe-engine.html" class="nav-link prev" arialabel="å­—èŠ‚ç æ‰§è¡Œå¼•æ“"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->å­—èŠ‚ç æ‰§è¡Œå¼•æ“</div></a><a href="/zkq/java/jvm/concurrence.html" class="nav-link next" arialabel="é«˜æ•ˆå¹¶å‘"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">é«˜æ•ˆå¹¶å‘<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright Â© 2023 Zenk562</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.625aa393.js" defer></script>
  </body>
</html>
