<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zengkaiqiang562.github.io/zkq/java/thread.html"><meta property="og:site_name" content="Android Guide"><meta property="og:title" content="çº¿ç¨‹"><meta property="og:type" content="article"><meta property="og:image" content="https://zengkaiqiang562.github.io/"><meta property="og:updated_time" content="2022-07-07T15:59:00.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="çº¿ç¨‹"><meta property="article:tag" content="java"><meta property="article:modified_time" content="2022-07-07T15:59:00.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2922463_99aa80ii7cf.css"><title>çº¿ç¨‹ | Android Guide</title><meta name="description" content="Android å­¦ä¹  && é¢è¯•æŒ‡å—">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.5a38b724.css">
    <link rel="modulepreload" href="/assets/app.625aa393.js"><link rel="modulepreload" href="/assets/thread.html.12d7a725.js"><link rel="modulepreload" href="/assets/thread.html.6b7c2111.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.png" alt="Android Guide"><!----><span class="site-name hide-in-pad">Android Guide</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" arialabel="é¢è¯•æŒ‡å—"><i class="icon iconfont icon-java"></i>é¢è¯•æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zhuanlan/" class="nav-link" arialabel="ä¼˜è´¨ä¸“æ "><i class="icon iconfont icon-recommend"></i>ä¼˜è´¨ä¸“æ <!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" arialabel="é¡¹ç›®ç²¾é€‰"><i class="icon iconfont icon-github"></i>é¡¹ç›®ç²¾é€‰<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://snailclimb.gitee.io/javaguide/#/" rel="noopener noreferrer" target="_blank" arialabel="æ—§ç‰ˆé“¾æ¥" class="nav-link"><i class="icon iconfont icon-java"></i>æ—§ç‰ˆé“¾æ¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://javaguide.cn/feed.json" rel="noopener noreferrer" target="_blank" arialabel="RSSè®¢é˜…" class="nav-link"><i class="icon iconfont icon-rss"></i>RSSè®¢é˜…<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about-the-author/" class="nav-link" arialabel="å…³äºä½œè€…"><i class="icon iconfont icon-zuozhe"></i>å…³äºä½œè€…<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zengkaiqiang562/JavaGuide" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/zkq/java/reflect.html" class="nav-link sidebar-link sidebar-page" arialabel="åå°„æœºåˆ¶"><!---->åå°„æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/annotation.html" class="nav-link sidebar-link sidebar-page" arialabel="æ³¨è§£æŠ€æœ¯"><!---->æ³¨è§£æŠ€æœ¯<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/genericity.html" class="nav-link sidebar-link sidebar-page" arialabel="æ³›å‹ç¼–ç¨‹ï¼ˆTODOï¼‰"><!---->æ³›å‹ç¼–ç¨‹ï¼ˆTODOï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zkq/java/thread.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="çº¿ç¨‹"><!---->çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_1-å®ç°å¤šçº¿ç¨‹çš„-2-ç§æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. å®ç°å¤šçº¿ç¨‹çš„ 2 ç§æ–¹å¼"><!---->1. å®ç°å¤šçº¿ç¨‹çš„ 2 ç§æ–¹å¼<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_1-1-å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.1 å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ"><!---->1.1 å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#é”™è¯¯è§‚ç‚¹1-çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="é”™è¯¯è§‚ç‚¹1. çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼"><!---->é”™è¯¯è§‚ç‚¹1. çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#é”™è¯¯è§‚ç‚¹2-é€šè¿‡-callable-å’Œ-futuretask-åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="é”™è¯¯è§‚ç‚¹2. é€šè¿‡ Callable å’Œ FutureTask åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼"><!---->é”™è¯¯è§‚ç‚¹2. é€šè¿‡ Callable å’Œ FutureTask åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#é”™è¯¯è§‚ç‚¹3-å®šæ—¶å™¨-åŒ¿åå†…éƒ¨ç±»-lambda-è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="é”™è¯¯è§‚ç‚¹3. å®šæ—¶å™¨ï¼ŒåŒ¿åå†…éƒ¨ç±»ï¼ŒLambda è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼"><!---->é”™è¯¯è§‚ç‚¹3. å®šæ—¶å™¨ï¼ŒåŒ¿åå†…éƒ¨ç±»ï¼ŒLambda è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_2-å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼"><!---->2. å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_2-1-é”™è¯¯æ–¹å¼-ç›´æ¥è°ƒç”¨-run-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.1 é”™è¯¯æ–¹å¼ï¼šç›´æ¥è°ƒç”¨ run() æ–¹æ³•"><!---->2.1 é”™è¯¯æ–¹å¼ï¼šç›´æ¥è°ƒç”¨ run() æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_2-2-æ­£ç¡®æ–¹å¼-è°ƒç”¨-thread-start-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2 æ­£ç¡®æ–¹å¼ï¼šè°ƒç”¨ Thread.start() æ–¹æ³•"><!---->2.2 æ­£ç¡®æ–¹å¼ï¼šè°ƒç”¨ Thread.start() æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_2-3-start-æ–¹æ³•æºç åˆ†æ-start-æ–¹æ³•çš„ä¸»è¦ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.3 start æ–¹æ³•æºç åˆ†æï¼ˆstart æ–¹æ³•çš„ä¸»è¦ä½œç”¨ï¼‰"><!---->2.3 start æ–¹æ³•æºç åˆ†æï¼ˆstart æ–¹æ³•çš„ä¸»è¦ä½œç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼-interrupt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3. åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼ï¼šinterrupt"><!---->3. åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼ï¼šinterrupt<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-1-çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.1 çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ"><!---->3.1 çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-2-æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.2 æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹"><!---->3.2 æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-3-ä½¿ç”¨-interrupt-åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.3 ä½¿ç”¨ interrupt åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯"><!---->3.3 ä½¿ç”¨ interrupt åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-3-1-åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.3.1 åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹"><!---->3.3.1 åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-3-2-åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.3.2 åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹"><!---->3.3.2 åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-3-3-åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.3.3 åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹"><!---->3.3.3 åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-4-æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µ-åŠè§£å†³æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.4 æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µï¼ˆåŠè§£å†³æ–¹å¼ï¼‰"><!---->3.4 æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µï¼ˆåŠè§£å†³æ–¹å¼ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-5-åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.5 åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ"><!---->3.5 åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-5-1-ä¼˜å…ˆé€‰æ‹©-ä¼ é€’ä¸­æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.5.1 ä¼˜å…ˆé€‰æ‹©ï¼šä¼ é€’ä¸­æ–­"><!---->3.5.1 ä¼˜å…ˆé€‰æ‹©ï¼šä¼ é€’ä¸­æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-5-2-ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶-æ¢å¤ä¸­æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.5.2 ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶ï¼šæ¢å¤ä¸­æ–­"><!---->3.5.2 ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶ï¼šæ¢å¤ä¸­æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-5-3-ä¸åº”å±è”½ä¸­æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.5.3 ä¸åº”å±è”½ä¸­æ–­"><!---->3.5.3 ä¸åº”å±è”½ä¸­æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-6-å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.6 å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“"><!---->3.6 å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-7-åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.7 åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼"><!---->3.7 åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-7-1-stop-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.7.1 stop æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰"><!---->3.7.1 stop æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-7-2-suspend-resume-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.7.2 suspend + resume æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰"><!---->3.7.2 suspend + resume æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-7-3-ç”¨-volatile-è®¾ç½®-boolean-æ ‡è®°ä½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.7.3 ç”¨ volatile è®¾ç½® boolean æ ‡è®°ä½"><!---->3.7.3 ç”¨ volatile è®¾ç½® boolean æ ‡è®°ä½<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#blockingqueue-é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="BlockingQueue é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹"><!---->BlockingQueue é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-8-åˆ†æ-native-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.8 åˆ†æ native æ–¹æ³•"><!---->3.8 åˆ†æ native æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-9-åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”-isinterrupted-å’Œ-interrupted" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.9 åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”ï¼ˆisInterrupted å’Œ interrupted()ï¼‰"><!---->3.9 åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”ï¼ˆisInterrupted å’Œ interrupted()ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-9-1-thread-isinterrupted" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.9.1 Thread.isInterrupted()"><!---->3.9.1 Thread.isInterrupted()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-9-2-thread-interrupted" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.9.2 Thread.interrupted()"><!---->3.9.2 Thread.interrupted()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_3-10-å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.10 å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡"><!---->3.10 å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-çº¿ç¨‹çš„-6-ä¸ªçŠ¶æ€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4. çº¿ç¨‹çš„ 6 ä¸ªçŠ¶æ€"><!---->4. çº¿ç¨‹çš„ 6 ä¸ªçŠ¶æ€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-1-new" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.1 New"><!---->4.1 New<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-2-runnable" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.2 Runnable"><!---->4.2 Runnable<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-3-blocked" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.3 Blocked"><!---->4.3 Blocked<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-4-waiting" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.4 Waiting"><!---->4.4 Waiting<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-5-timed-waiting" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.5 Timed Waiting"><!---->4.5 Timed Waiting<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-6-terminated" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.6 Terminated"><!---->4.6 Terminated<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-7-çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.7 çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾"><!---->4.7 çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-8-è·å–çº¿ç¨‹çŠ¶æ€-thread-getstate" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.8 è·å–çº¿ç¨‹çŠ¶æ€ï¼ˆThread.getState()ï¼‰"><!---->4.8 è·å–çº¿ç¨‹çŠ¶æ€ï¼ˆThread.getState()ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_4-9-ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.9 ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€ï¼Ÿ"><!---->4.9 ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-thread-å’Œ-object-ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5. Thread å’Œ Object ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•"><!---->5. Thread å’Œ Object ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-1-æ–¹æ³•æ¦‚è§ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.1 æ–¹æ³•æ¦‚è§ˆ"><!---->5.1 æ–¹æ³•æ¦‚è§ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-waitã€notifyã€notifyall-æ–¹æ³•è¯¦è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2 waitã€notifyã€notifyAll æ–¹æ³•è¯¦è§£"><!---->5.2 waitã€notifyã€notifyAll æ–¹æ³•è¯¦è§£<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-1-ä½œç”¨-ç”¨æ³•-é˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.1 ä½œç”¨&amp;ç”¨æ³•ï¼ˆé˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­ï¼‰"><!---->5.2.1 ä½œç”¨&amp;ç”¨æ³•ï¼ˆé˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-2-wait-ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„-4-ç§æƒ…å†µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.2 wait ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„ 4 ç§æƒ…å†µ"><!---->5.2.2 wait ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„ 4 ç§æƒ…å†µ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-3-ç‰¹ç‚¹-æ€§è´¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.3 ç‰¹ç‚¹&amp;æ€§è´¨"><!---->5.2.3 ç‰¹ç‚¹&amp;æ€§è´¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-4-æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.4 æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼"><!---->5.2.4 æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-5-ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°-0-100-çš„å¥‡å¶æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.5 ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å° 0~100 çš„å¥‡å¶æ•°"><!---->5.2.5 ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å° 0~100 çš„å¥‡å¶æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-å¸¸è§é¢è¯•é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6 å¸¸è§é¢è¯•é—®é¢˜"><!---->5.2.6 å¸¸è§é¢è¯•é—®é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-1-ä¸ºä»€ä¹ˆ-wait-éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨-è€Œ-sleep-ä¸éœ€è¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6.1 ä¸ºä»€ä¹ˆ wait éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨ï¼Œè€Œ sleep ä¸éœ€è¦ï¼Ÿ"><!---->5.2.6.1 ä¸ºä»€ä¹ˆ wait éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨ï¼Œè€Œ sleep ä¸éœ€è¦ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-2-ä¸ºä»€ä¹ˆ-wait-notify-notifyall-å®šä¹‰åœ¨-object-ä¸­-è€Œ-sleep-å®šä¹‰åœ¨-thread-ä¸­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6.2 ä¸ºä»€ä¹ˆ wait/notify/notifyAll å®šä¹‰åœ¨ Object ä¸­ï¼Œè€Œ sleep å®šä¹‰åœ¨ Thread ä¸­ï¼Ÿ"><!---->5.2.6.2 ä¸ºä»€ä¹ˆ wait/notify/notifyAll å®šä¹‰åœ¨ Object ä¸­ï¼Œè€Œ sleep å®šä¹‰åœ¨ Thread ä¸­ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-3-è°ƒç”¨-thread-wait-ä¼šæ€ä¹ˆæ ·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6.3 è°ƒç”¨ Thread.wait ä¼šæ€ä¹ˆæ ·ï¼Ÿ"><!---->5.2.6.3 è°ƒç”¨ Thread.wait ä¼šæ€ä¹ˆæ ·ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-4-å¦‚ä½•é€‰æ‹©ç”¨-notify-è¿˜æ˜¯-notifyall" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6.4 å¦‚ä½•é€‰æ‹©ç”¨ notify è¿˜æ˜¯ notifyAllï¼Ÿ"><!---->5.2.6.4 å¦‚ä½•é€‰æ‹©ç”¨ notify è¿˜æ˜¯ notifyAllï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-5-notifyall-ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”-å¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6.5 notifyAll ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”ï¼Œå¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ"><!---->5.2.6.5 notifyAll ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”ï¼Œå¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-6-ç”¨-suspend-å’Œ-resume-æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—-ä¸ºä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.2.6.6 ç”¨ suspend() å’Œ resume() æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ"><!---->5.2.6.6 ç”¨ suspend() å’Œ resume() æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-3-sleep-æ–¹æ³•è¯¦è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.3 sleep æ–¹æ³•è¯¦è§£"><!---->5.3 sleep æ–¹æ³•è¯¦è§£<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-3-1-sleep-time-å’Œ-wait-time-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.3.1 sleep(time) å’Œ wait(time) çš„åŒºåˆ«"><!---->5.3.1 sleep(time) å’Œ wait(time) çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-3-2-sleep-æ–¹æ³•å“åº”ä¸­æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.3.2 sleep æ–¹æ³•å“åº”ä¸­æ–­"><!---->5.3.2 sleep æ–¹æ³•å“åº”ä¸­æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-3-3-æ›´ä¼˜é›…çš„-sleep-æ–¹å¼-timeunit-xxx-sleep-time" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.3.3 æ›´ä¼˜é›…çš„ sleep æ–¹å¼ï¼ˆTimeUnit.XXX.sleep(time)ï¼‰"><!---->5.3.3 æ›´ä¼˜é›…çš„ sleep æ–¹å¼ï¼ˆTimeUnit.XXX.sleep(time)ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-3-4-sleep-ä¸-wait-notify-çš„å¼‚åŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.3.4 sleep ä¸ wait/notify çš„å¼‚åŒ"><!---->5.3.4 sleep ä¸ wait/notify çš„å¼‚åŒ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-4-join-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.4 join æ–¹æ³•"><!---->5.4 join æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-4-1-ä»æºç ä¸­åˆ†æ-join-æ–¹æ³•çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.4.1 ä»æºç ä¸­åˆ†æ join æ–¹æ³•çš„ä½œç”¨"><!---->5.4.1 ä»æºç ä¸­åˆ†æ join æ–¹æ³•çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-4-2-join-æ–¹æ³•çš„æ™®é€šç”¨æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.4.2 join æ–¹æ³•çš„æ™®é€šç”¨æ³•"><!---->5.4.2 join æ–¹æ³•çš„æ™®é€šç”¨æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-4-3-join-æ–¹æ³•é‡åˆ°ä¸­æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.4.3 join æ–¹æ³•é‡åˆ°ä¸­æ–­"><!---->5.4.3 join æ–¹æ³•é‡åˆ°ä¸­æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-4-4-ä½¿ç”¨-countdownlatch-æˆ–-cyclicbarrier-ç±»å®ç°-join-çš„åŠŸèƒ½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.4.4 ä½¿ç”¨ CountDownLatch æˆ– CyclicBarrier ç±»å®ç° join çš„åŠŸèƒ½"><!---->5.4.4 ä½¿ç”¨ CountDownLatch æˆ– CyclicBarrier ç±»å®ç° join çš„åŠŸèƒ½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-4-5-åœ¨-join-æœŸé—´-çº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.4.5 åœ¨ join æœŸé—´ï¼Œçº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€ï¼Ÿ"><!---->5.4.5 åœ¨ join æœŸé—´ï¼Œçº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-5-yield-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.5 yield æ–¹æ³•"><!---->5.5 yield æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-5-1-ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.5.1 ä½œç”¨"><!---->5.5.1 ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-5-2-yield-å’Œ-sleep-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.5.2 yield å’Œ sleep çš„åŒºåˆ«"><!---->5.5.2 yield å’Œ sleep çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-6-è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨-thread-currentthread-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.6 è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨ï¼šThread.currentThread() æ–¹æ³•"><!---->5.6 è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨ï¼šThread.currentThread() æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-7-start-å’Œ-run-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.7 start å’Œ run æ–¹æ³•"><!---->5.7 start å’Œ run æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_5-8-stopã€suspendã€resume-æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5.8 stopã€suspendã€resume æ–¹æ³•"><!---->5.8 stopã€suspendã€resume æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-çº¿ç¨‹çš„å„ä¸ªå±æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6. çº¿ç¨‹çš„å„ä¸ªå±æ€§"><!---->6. çº¿ç¨‹çš„å„ä¸ªå±æ€§<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-1-çº¿ç¨‹å„å±æ€§çºµè§ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.1 çº¿ç¨‹å„å±æ€§çºµè§ˆ"><!---->6.1 çº¿ç¨‹å„å±æ€§çºµè§ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-2-çº¿ç¨‹-id" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.2 çº¿ç¨‹ Id"><!---->6.2 çº¿ç¨‹ Id<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-3-çº¿ç¨‹å" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.3 çº¿ç¨‹å"><!---->6.3 çº¿ç¨‹å<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-4-å®ˆæŠ¤çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.4 å®ˆæŠ¤çº¿ç¨‹"><!---->6.4 å®ˆæŠ¤çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-4-1-ç”¨æˆ·çº¿ç¨‹-å®ˆæŠ¤çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.4.1 ç”¨æˆ·çº¿ç¨‹&amp;å®ˆæŠ¤çº¿ç¨‹"><!---->6.4.1 ç”¨æˆ·çº¿ç¨‹&amp;å®ˆæŠ¤çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-4-2-è®¾ç½®å®ˆæŠ¤çº¿ç¨‹-setedaemon-true" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.4.2 è®¾ç½®å®ˆæŠ¤çº¿ç¨‹ï¼ˆseteDaemon(true)ï¼‰"><!---->6.4.2 è®¾ç½®å®ˆæŠ¤çº¿ç¨‹ï¼ˆseteDaemon(true)ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-4-3-å¸¸è§é¢è¯•é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.4.3 å¸¸è§é¢è¯•é¢˜"><!---->6.4.3 å¸¸è§é¢è¯•é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-4-3-1-å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹-ç”¨æˆ·çº¿ç¨‹-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.4.3.1 å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹ï¼ˆç”¨æˆ·çº¿ç¨‹ï¼‰çš„åŒºåˆ«"><!---->6.4.3.1 å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹ï¼ˆç”¨æˆ·çº¿ç¨‹ï¼‰çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-4-3-2-æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.4.3.2 æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ"><!---->6.4.3.2 æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-5-çº¿ç¨‹ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.5 çº¿ç¨‹ä¼˜å…ˆçº§"><!---->6.5 çº¿ç¨‹ä¼˜å…ˆçº§<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-5-1-ä¼˜å…ˆçº§çš„èŒƒå›´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.5.1 ä¼˜å…ˆçº§çš„èŒƒå›´"><!---->6.5.1 ä¼˜å…ˆçº§çš„èŒƒå›´<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_6-5-2-ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.5.2 ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§"><!---->6.5.2 ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸-uncaughtexception-çš„å¤„ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7. çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸ UncaughtException çš„å¤„ç†"><!---->7. çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸ UncaughtException çš„å¤„ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-1-é€šè¿‡-uncaughtexceptionhandler-å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1 é€šè¿‡ UncaughtExceptionHandler å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸"><!---->7.1 é€šè¿‡ UncaughtExceptionHandler å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-2-æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥-uncaughtexceptionhandler-çš„å·¥ä½œåŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2 æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥ï¼ˆUncaughtExceptionHandler çš„å·¥ä½œåŸç†ï¼‰"><!---->7.2 æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥ï¼ˆUncaughtExceptionHandler çš„å·¥ä½œåŸç†ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-3-uncaughtexceptionhandler-çš„ä½¿ç”¨ç¤ºä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3 UncaughtExceptionHandler çš„ä½¿ç”¨ç¤ºä¾‹"><!---->7.3 UncaughtExceptionHandler çš„ä½¿ç”¨ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-4-å¸¸è§é¢è¯•é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4 å¸¸è§é¢è¯•é—®é¢˜"><!---->7.4 å¸¸è§é¢è¯•é—®é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-4-1-å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸-ä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†-ä¸å¤„ç†è¡Œä¸è¡Œ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.1 å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸ï¼Ÿä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†ï¼Ÿä¸å¤„ç†è¡Œä¸è¡Œï¼Ÿ"><!---->7.4.1 å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸ï¼Ÿä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†ï¼Ÿä¸å¤„ç†è¡Œä¸è¡Œï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-4-2-run-æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸-å¦‚æœæŠ›å‡ºå¼‚å¸¸-çº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.2 run æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Ÿå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œçº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·ï¼Ÿ"><!---->7.4.2 run æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Ÿå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œçº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_7-4-3-çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.3 çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸ï¼Ÿ"><!---->7.4.3 çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜-çº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8. å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼ˆçº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰"><!---->8. å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼ˆçº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-1-çº¿ç¨‹å®‰å…¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1 çº¿ç¨‹å®‰å…¨"><!---->8.1 çº¿ç¨‹å®‰å…¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Ÿ"><!---->8.1.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜-æ€ä¹ˆé¿å…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.2 ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ€ä¹ˆé¿å…ï¼Ÿ"><!---->8.1.2 ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ€ä¹ˆé¿å…ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-1-å¤šçº¿ç¨‹ä¸‹çš„-i-å¼‚å¸¸æƒ…å†µåˆ†æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.2.1 å¤šçº¿ç¨‹ä¸‹çš„ i++ å¼‚å¸¸æƒ…å†µåˆ†æ"><!---->8.1.2.1 å¤šçº¿ç¨‹ä¸‹çš„ i++ å¼‚å¸¸æƒ…å†µåˆ†æ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-2-æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.2.2 æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ"><!---->8.1.2.2 æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-3-å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.2.3 å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜"><!---->8.1.2.3 å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#å¯¹è±¡çš„å‘å¸ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="å¯¹è±¡çš„å‘å¸ƒ"><!---->å¯¹è±¡çš„å‘å¸ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#å¯¹è±¡çš„é€¸å‡º-é€ƒé€¸-åŠç›¸å…³åœºæ™¯åˆ†æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="å¯¹è±¡çš„é€¸å‡ºï¼ˆé€ƒé€¸ï¼‰åŠç›¸å…³åœºæ™¯åˆ†æ"><!---->å¯¹è±¡çš„é€¸å‡ºï¼ˆé€ƒé€¸ï¼‰åŠç›¸å…³åœºæ™¯åˆ†æ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/java/thread.html#_8-2-æ€§èƒ½é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2 æ€§èƒ½é—®é¢˜"><!---->8.2 æ€§èƒ½é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zkq/java/threadpool.html" class="nav-link sidebar-link sidebar-page" arialabel="çº¿ç¨‹æ± "><!---->çº¿ç¨‹æ± <!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/java/jmm.html" class="nav-link sidebar-link sidebar-page" arialabel="Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰"><!---->Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">JVM</span><span class="arrow right"></span></button><!--[--><!----><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->çº¿ç¨‹</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://zengkaiqiang562.github.io/" target="_blank" rel="noopener noreferrer">Zenk562</a></span><span property="author" content="Zenk562"></span></span><span class="category-info" arialabel="åˆ†ç±»ğŸŒˆ" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">java</li><meta property="articleSection" content="java"></ul></span><span arialabel="æ ‡ç­¾ğŸ·" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">java</li></ul><meta property="keywords" content="java"></span><span class="date-info" arialabel="å†™ä½œæ—¥æœŸğŸ“…" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022å¹´7æœˆ7æ—¥</span><meta property="datePublished" content="2022-07-07T15:59:00.000Z"></span><!----><span class="words-info" arialabel="å­—æ•°ğŸ” " isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>çº¦ 9881 å­—</span><meta property="wordCount" content="9881"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_1-å®ç°å¤šçº¿ç¨‹çš„-2-ç§æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">1. å®ç°å¤šçº¿ç¨‹çš„ 2 ç§æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_1-1-å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ" class="router-link-active router-link-exact-active toc-link level3">1.1 å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#é”™è¯¯è§‚ç‚¹1-çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" class="router-link-active router-link-exact-active toc-link level4">é”™è¯¯è§‚ç‚¹1. çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#é”™è¯¯è§‚ç‚¹2-é€šè¿‡-callable-å’Œ-futuretask-åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" class="router-link-active router-link-exact-active toc-link level4">é”™è¯¯è§‚ç‚¹2. é€šè¿‡ Callable å’Œ FutureTask åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#é”™è¯¯è§‚ç‚¹3-å®šæ—¶å™¨-åŒ¿åå†…éƒ¨ç±»-lambda-è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" class="router-link-active router-link-exact-active toc-link level4">é”™è¯¯è§‚ç‚¹3. å®šæ—¶å™¨ï¼ŒåŒ¿åå†…éƒ¨ç±»ï¼ŒLambda è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_2-å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼" class="router-link-active router-link-exact-active toc-link level2">2. å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_2-1-é”™è¯¯æ–¹å¼-ç›´æ¥è°ƒç”¨-run-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">2.1 é”™è¯¯æ–¹å¼ï¼šç›´æ¥è°ƒç”¨ run() æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_2-2-æ­£ç¡®æ–¹å¼-è°ƒç”¨-thread-start-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">2.2 æ­£ç¡®æ–¹å¼ï¼šè°ƒç”¨ Thread.start() æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_2-3-start-æ–¹æ³•æºç åˆ†æ-start-æ–¹æ³•çš„ä¸»è¦ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">2.3 start æ–¹æ³•æºç åˆ†æï¼ˆstart æ–¹æ³•çš„ä¸»è¦ä½œç”¨ï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼-interrupt" class="router-link-active router-link-exact-active toc-link level2">3. åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼ï¼šinterrupt</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-1-çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ" class="router-link-active router-link-exact-active toc-link level3">3.1 çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-2-æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level3">3.2 æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-3-ä½¿ç”¨-interrupt-åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯" class="router-link-active router-link-exact-active toc-link level3">3.3 ä½¿ç”¨ interrupt åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-3-1-åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level4">3.3.1 åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-3-2-åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level4">3.3.2 åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-3-3-åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level4">3.3.3 åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-4-æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µ-åŠè§£å†³æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">3.4 æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µï¼ˆåŠè§£å†³æ–¹å¼ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-5-åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ" class="router-link-active router-link-exact-active toc-link level3">3.5 åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-5-1-ä¼˜å…ˆé€‰æ‹©-ä¼ é€’ä¸­æ–­" class="router-link-active router-link-exact-active toc-link level4">3.5.1 ä¼˜å…ˆé€‰æ‹©ï¼šä¼ é€’ä¸­æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-5-2-ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶-æ¢å¤ä¸­æ–­" class="router-link-active router-link-exact-active toc-link level4">3.5.2 ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶ï¼šæ¢å¤ä¸­æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-5-3-ä¸åº”å±è”½ä¸­æ–­" class="router-link-active router-link-exact-active toc-link level4">3.5.3 ä¸åº”å±è”½ä¸­æ–­</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-6-å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“" class="router-link-active router-link-exact-active toc-link level3">3.6 å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-7-åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">3.7 åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-7-1-stop-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" class="router-link-active router-link-exact-active toc-link level4">3.7.1 stop æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-7-2-suspend-resume-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" class="router-link-active router-link-exact-active toc-link level4">3.7.2 suspend + resume æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-7-3-ç”¨-volatile-è®¾ç½®-boolean-æ ‡è®°ä½" class="router-link-active router-link-exact-active toc-link level4">3.7.3 ç”¨ volatile è®¾ç½® boolean æ ‡è®°ä½</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#blockingqueue-é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active toc-link level5">BlockingQueue é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-8-åˆ†æ-native-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">3.8 åˆ†æ native æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-9-åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”-isinterrupted-å’Œ-interrupted" class="router-link-active router-link-exact-active toc-link level3">3.9 åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”ï¼ˆisInterrupted å’Œ interrupted()ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-9-1-thread-isinterrupted" class="router-link-active router-link-exact-active toc-link level4">3.9.1 Thread.isInterrupted()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-9-2-thread-interrupted" class="router-link-active router-link-exact-active toc-link level4">3.9.2 Thread.interrupted()</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_3-10-å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡" class="router-link-active router-link-exact-active toc-link level3">3.10 å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-çº¿ç¨‹çš„-6-ä¸ªçŠ¶æ€" class="router-link-active router-link-exact-active toc-link level2">4. çº¿ç¨‹çš„ 6 ä¸ªçŠ¶æ€</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-1-new" class="router-link-active router-link-exact-active toc-link level3">4.1 New</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-2-runnable" class="router-link-active router-link-exact-active toc-link level3">4.2 Runnable</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-3-blocked" class="router-link-active router-link-exact-active toc-link level3">4.3 Blocked</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-4-waiting" class="router-link-active router-link-exact-active toc-link level3">4.4 Waiting</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-5-timed-waiting" class="router-link-active router-link-exact-active toc-link level3">4.5 Timed Waiting</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-6-terminated" class="router-link-active router-link-exact-active toc-link level3">4.6 Terminated</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-7-çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾" class="router-link-active router-link-exact-active toc-link level3">4.7 çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-8-è·å–çº¿ç¨‹çŠ¶æ€-thread-getstate" class="router-link-active router-link-exact-active toc-link level3">4.8 è·å–çº¿ç¨‹çŠ¶æ€ï¼ˆThread.getState()ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_4-9-ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€" class="router-link-active router-link-exact-active toc-link level3">4.9 ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-thread-å’Œ-object-ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level2">5. Thread å’Œ Object ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-1-æ–¹æ³•æ¦‚è§ˆ" class="router-link-active router-link-exact-active toc-link level3">5.1 æ–¹æ³•æ¦‚è§ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-waitã€notifyã€notifyall-æ–¹æ³•è¯¦è§£" class="router-link-active router-link-exact-active toc-link level3">5.2 waitã€notifyã€notifyAll æ–¹æ³•è¯¦è§£</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-1-ä½œç”¨-ç”¨æ³•-é˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­" class="router-link-active router-link-exact-active toc-link level4">5.2.1 ä½œç”¨&amp;ç”¨æ³•ï¼ˆé˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-2-wait-ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„-4-ç§æƒ…å†µ" class="router-link-active router-link-exact-active toc-link level4">5.2.2 wait ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„ 4 ç§æƒ…å†µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-3-ç‰¹ç‚¹-æ€§è´¨" class="router-link-active router-link-exact-active toc-link level4">5.2.3 ç‰¹ç‚¹&amp;æ€§è´¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-4-æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level4">5.2.4 æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-5-ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°-0-100-çš„å¥‡å¶æ•°" class="router-link-active router-link-exact-active toc-link level4">5.2.5 ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å° 0~100 çš„å¥‡å¶æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-å¸¸è§é¢è¯•é—®é¢˜" class="router-link-active router-link-exact-active toc-link level4">5.2.6 å¸¸è§é¢è¯•é—®é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-1-ä¸ºä»€ä¹ˆ-wait-éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨-è€Œ-sleep-ä¸éœ€è¦" class="router-link-active router-link-exact-active toc-link level5">5.2.6.1 ä¸ºä»€ä¹ˆ wait éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨ï¼Œè€Œ sleep ä¸éœ€è¦ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-2-ä¸ºä»€ä¹ˆ-wait-notify-notifyall-å®šä¹‰åœ¨-object-ä¸­-è€Œ-sleep-å®šä¹‰åœ¨-thread-ä¸­" class="router-link-active router-link-exact-active toc-link level5">5.2.6.2 ä¸ºä»€ä¹ˆ wait/notify/notifyAll å®šä¹‰åœ¨ Object ä¸­ï¼Œè€Œ sleep å®šä¹‰åœ¨ Thread ä¸­ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-3-è°ƒç”¨-thread-wait-ä¼šæ€ä¹ˆæ ·" class="router-link-active router-link-exact-active toc-link level5">5.2.6.3 è°ƒç”¨ Thread.wait ä¼šæ€ä¹ˆæ ·ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-4-å¦‚ä½•é€‰æ‹©ç”¨-notify-è¿˜æ˜¯-notifyall" class="router-link-active router-link-exact-active toc-link level5">5.2.6.4 å¦‚ä½•é€‰æ‹©ç”¨ notify è¿˜æ˜¯ notifyAllï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-5-notifyall-ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”-å¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠ" class="router-link-active router-link-exact-active toc-link level5">5.2.6.5 notifyAll ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”ï¼Œå¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-2-6-6-ç”¨-suspend-å’Œ-resume-æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—-ä¸ºä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level5">5.2.6.6 ç”¨ suspend() å’Œ resume() æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-3-sleep-æ–¹æ³•è¯¦è§£" class="router-link-active router-link-exact-active toc-link level3">5.3 sleep æ–¹æ³•è¯¦è§£</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-3-1-sleep-time-å’Œ-wait-time-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level4">5.3.1 sleep(time) å’Œ wait(time) çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-3-2-sleep-æ–¹æ³•å“åº”ä¸­æ–­" class="router-link-active router-link-exact-active toc-link level4">5.3.2 sleep æ–¹æ³•å“åº”ä¸­æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-3-3-æ›´ä¼˜é›…çš„-sleep-æ–¹å¼-timeunit-xxx-sleep-time" class="router-link-active router-link-exact-active toc-link level4">5.3.3 æ›´ä¼˜é›…çš„ sleep æ–¹å¼ï¼ˆTimeUnit.XXX.sleep(time)ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-3-4-sleep-ä¸-wait-notify-çš„å¼‚åŒ" class="router-link-active router-link-exact-active toc-link level4">5.3.4 sleep ä¸ wait/notify çš„å¼‚åŒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-4-join-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">5.4 join æ–¹æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-4-1-ä»æºç ä¸­åˆ†æ-join-æ–¹æ³•çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">5.4.1 ä»æºç ä¸­åˆ†æ join æ–¹æ³•çš„ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-4-2-join-æ–¹æ³•çš„æ™®é€šç”¨æ³•" class="router-link-active router-link-exact-active toc-link level4">5.4.2 join æ–¹æ³•çš„æ™®é€šç”¨æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-4-3-join-æ–¹æ³•é‡åˆ°ä¸­æ–­" class="router-link-active router-link-exact-active toc-link level4">5.4.3 join æ–¹æ³•é‡åˆ°ä¸­æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-4-4-ä½¿ç”¨-countdownlatch-æˆ–-cyclicbarrier-ç±»å®ç°-join-çš„åŠŸèƒ½" class="router-link-active router-link-exact-active toc-link level4">5.4.4 ä½¿ç”¨ CountDownLatch æˆ– CyclicBarrier ç±»å®ç° join çš„åŠŸèƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-4-5-åœ¨-join-æœŸé—´-çº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€" class="router-link-active router-link-exact-active toc-link level4">5.4.5 åœ¨ join æœŸé—´ï¼Œçº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€ï¼Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-5-yield-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">5.5 yield æ–¹æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-5-1-ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">5.5.1 ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-5-2-yield-å’Œ-sleep-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level4">5.5.2 yield å’Œ sleep çš„åŒºåˆ«</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-6-è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨-thread-currentthread-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">5.6 è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨ï¼šThread.currentThread() æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-7-start-å’Œ-run-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">5.7 start å’Œ run æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_5-8-stopã€suspendã€resume-æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">5.8 stopã€suspendã€resume æ–¹æ³•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-çº¿ç¨‹çš„å„ä¸ªå±æ€§" class="router-link-active router-link-exact-active toc-link level2">6. çº¿ç¨‹çš„å„ä¸ªå±æ€§</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-1-çº¿ç¨‹å„å±æ€§çºµè§ˆ" class="router-link-active router-link-exact-active toc-link level3">6.1 çº¿ç¨‹å„å±æ€§çºµè§ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-2-çº¿ç¨‹-id" class="router-link-active router-link-exact-active toc-link level3">6.2 çº¿ç¨‹ Id</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-3-çº¿ç¨‹å" class="router-link-active router-link-exact-active toc-link level3">6.3 çº¿ç¨‹å</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-4-å®ˆæŠ¤çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level3">6.4 å®ˆæŠ¤çº¿ç¨‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-4-1-ç”¨æˆ·çº¿ç¨‹-å®ˆæŠ¤çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level4">6.4.1 ç”¨æˆ·çº¿ç¨‹&amp;å®ˆæŠ¤çº¿ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-4-2-è®¾ç½®å®ˆæŠ¤çº¿ç¨‹-setedaemon-true" class="router-link-active router-link-exact-active toc-link level4">6.4.2 è®¾ç½®å®ˆæŠ¤çº¿ç¨‹ï¼ˆseteDaemon(true)ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-4-3-å¸¸è§é¢è¯•é¢˜" class="router-link-active router-link-exact-active toc-link level4">6.4.3 å¸¸è§é¢è¯•é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-4-3-1-å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹-ç”¨æˆ·çº¿ç¨‹-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level5">6.4.3.1 å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹ï¼ˆç”¨æˆ·çº¿ç¨‹ï¼‰çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-4-3-2-æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level5">6.4.3.2 æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-5-çº¿ç¨‹ä¼˜å…ˆçº§" class="router-link-active router-link-exact-active toc-link level3">6.5 çº¿ç¨‹ä¼˜å…ˆçº§</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-5-1-ä¼˜å…ˆçº§çš„èŒƒå›´" class="router-link-active router-link-exact-active toc-link level4">6.5.1 ä¼˜å…ˆçº§çš„èŒƒå›´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_6-5-2-ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§" class="router-link-active router-link-exact-active toc-link level4">6.5.2 ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸-uncaughtexception-çš„å¤„ç†" class="router-link-active router-link-exact-active toc-link level2">7. çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸ UncaughtException çš„å¤„ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-1-é€šè¿‡-uncaughtexceptionhandler-å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸" class="router-link-active router-link-exact-active toc-link level3">7.1 é€šè¿‡ UncaughtExceptionHandler å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-2-æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥-uncaughtexceptionhandler-çš„å·¥ä½œåŸç†" class="router-link-active router-link-exact-active toc-link level3">7.2 æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥ï¼ˆUncaughtExceptionHandler çš„å·¥ä½œåŸç†ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-3-uncaughtexceptionhandler-çš„ä½¿ç”¨ç¤ºä¾‹" class="router-link-active router-link-exact-active toc-link level3">7.3 UncaughtExceptionHandler çš„ä½¿ç”¨ç¤ºä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-4-å¸¸è§é¢è¯•é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">7.4 å¸¸è§é¢è¯•é—®é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-4-1-å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸-ä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†-ä¸å¤„ç†è¡Œä¸è¡Œ" class="router-link-active router-link-exact-active toc-link level4">7.4.1 å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸ï¼Ÿä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†ï¼Ÿä¸å¤„ç†è¡Œä¸è¡Œï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-4-2-run-æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸-å¦‚æœæŠ›å‡ºå¼‚å¸¸-çº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·" class="router-link-active router-link-exact-active toc-link level4">7.4.2 run æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Ÿå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œçº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_7-4-3-çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸" class="router-link-active router-link-exact-active toc-link level4">7.4.3 çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸ï¼Ÿ</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜-çº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢" class="router-link-active router-link-exact-active toc-link level2">8. å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼ˆçº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-1-çº¿ç¨‹å®‰å…¨" class="router-link-active router-link-exact-active toc-link level3">8.1 çº¿ç¨‹å®‰å…¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨" class="router-link-active router-link-exact-active toc-link level4">8.1.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜-æ€ä¹ˆé¿å…" class="router-link-active router-link-exact-active toc-link level4">8.1.2 ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ€ä¹ˆé¿å…ï¼Ÿ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-1-å¤šçº¿ç¨‹ä¸‹çš„-i-å¼‚å¸¸æƒ…å†µåˆ†æ" class="router-link-active router-link-exact-active toc-link level5">8.1.2.1 å¤šçº¿ç¨‹ä¸‹çš„ i++ å¼‚å¸¸æƒ…å†µåˆ†æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-2-æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ" class="router-link-active router-link-exact-active toc-link level5">8.1.2.2 æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-1-2-3-å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜" class="router-link-active router-link-exact-active toc-link level5">8.1.2.3 å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#å¯¹è±¡çš„å‘å¸ƒ" class="router-link-active router-link-exact-active toc-link level6">å¯¹è±¡çš„å‘å¸ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#å¯¹è±¡çš„é€¸å‡º-é€ƒé€¸-åŠç›¸å…³åœºæ™¯åˆ†æ" class="router-link-active router-link-exact-active toc-link level6">å¯¹è±¡çš„é€¸å‡ºï¼ˆé€ƒé€¸ï¼‰åŠç›¸å…³åœºæ™¯åˆ†æ</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/java/thread.html#_8-2-æ€§èƒ½é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">8.2 æ€§èƒ½é—®é¢˜</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="_1-å®ç°å¤šçº¿ç¨‹çš„-2-ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-å®ç°å¤šçº¿ç¨‹çš„-2-ç§æ–¹å¼" aria-hidden="true">#</a> 1. å®ç°å¤šçº¿ç¨‹çš„ <code>2</code> ç§æ–¹å¼</h2><p><code>Oracle</code> å®˜ç½‘çš„æ–‡æ¡£ä¸­ç»™å‡ºäº† <code>2</code> ç§å®ç°å¤šçº¿ç¨‹çš„æ–¹å¼ï¼š</p><ol><li>å®ç° <code>Runnable</code> æ¥å£ï¼›</li><li>ç»§æ‰¿ <code>Thread</code> ç±»ã€‚</li></ol><p>ä»¥ä¸Šä¸¤ç§æ–¹å¼éƒ½ä¼šè°ƒç”¨ <code>Thread.run()</code> æ–¹æ³•ï¼ŒåŒºåˆ«æ˜¯ï¼š</p><ol><li>å®ç° <code>Runnable</code> æ¥å£ï¼Œåªæ˜¯æ‰§è¡Œ <code>Thread.run()</code> æ–¹æ³•ä¸­çš„ <code>target.run()</code> æ–¹æ³•ã€‚ <blockquote><p><code>target</code> å°±æ˜¯ <code>Runnable</code> å¯¹è±¡</p></blockquote></li><li>ç»§æ‰¿ <code>Thread</code> ç±»ï¼Œå°±æ˜¯é‡å†™ <code>Thread.run()</code> æ–¹æ³•ï¼Œå°† <code>Thread.run()</code> æ–¹æ³•ä¸­çš„å†…å®¹éƒ½è¦†ç›–æ‰ã€‚</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/* Thread.java */</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æ¨èé‡‡ç”¨å®ç° <code>Runnable</code> æ¥å£çš„æ–¹å¼ï¼Œç†ç”±ï¼š</p><ol><li>å®ç° <code>Runnable</code> æ¥å£ï¼Œä½¿å¾—çº¿ç¨‹çš„åˆ›å»ºä»¥åŠè¿è¡Œæœºåˆ¶ï¼Œä¸çº¿ç¨‹ä»»åŠ¡ä»£ç è§£è€¦ã€‚æ›´ç¬¦åˆé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼›</li><li>å®ç° <code>Runnable</code> æ¥å£ï¼Œä¸éœ€è¦æ¯æ¬¡æ‰§è¡Œçº¿ç¨‹ä»»åŠ¡æ—¶ï¼Œéƒ½ <code>new</code> ä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚å¯ä»¥é€šè¿‡é‡ç”¨çº¿ç¨‹æ± ä¸­å·²æœ‰çš„çº¿ç¨‹æ¥æ‰§è¡Œçº¿ç¨‹ä»»åŠ¡ï¼Œæé«˜èµ„æºåˆ©ç”¨ç‡ï¼›</li><li>å®ç° <code>Runnable</code> æ¥å£çš„ç±»è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œè€Œç»§æ‰¿ <code>Thread</code> åˆ™æ— æ³•å†ç»§æ‰¿å…¶ä»–ç±»äº†ã€‚å› æ­¤ï¼Œå®ç° <code>Runnable</code> æ¥å£çš„æ–¹å¼ï¼Œæ‰©å±•æ€§æ›´å¥½ã€‚</li></ol><h3 id="_1-1-å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_1-1-å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ" aria-hidden="true">#</a> 1.1 å…¸å‹é”™è¯¯è§‚ç‚¹åˆ†æ</h3><h4 id="é”™è¯¯è§‚ç‚¹1-çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯è§‚ç‚¹1-çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" aria-hidden="true">#</a> é”™è¯¯è§‚ç‚¹1. çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼</h4><p><img src="/assets/01.aec20045.png" alt="" loading="lazy"></p><p>å¦‚ä¸Šå›¾ï¼Œçº¿ç¨‹æ± æ˜¯é€šè¿‡ <code>ThreadFactory</code> æ¥å£çš„ <code>newThread(Runnable)</code> æ–¹æ³•æ¥è·å–çº¿ç¨‹çš„ã€‚è€Œæ¯ä¸ª <code>ThreadFactory</code> æ¥å£çš„å®ç°ç±»é‡å†™ <code>newThread(Runnable)</code> æ–¹æ³•æ—¶ï¼Œéƒ½æ˜¯é€šè¿‡ä¼ å…¥ä¸€ä¸ª <code>Runnable</code> æ¥å£çš„å®ç°ç±»å¯¹è±¡æ¥åˆ›å»ºçº¿ç¨‹çš„ã€‚</p><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œçº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹çš„æœ¬è´¨è¿˜æ˜¯é€šè¿‡ <strong>å®ç° <code>Runnable</code> æ¥å£</strong> å®Œæˆçš„ã€‚</p></blockquote><h4 id="é”™è¯¯è§‚ç‚¹2-é€šè¿‡-callable-å’Œ-futuretask-åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯è§‚ç‚¹2-é€šè¿‡-callable-å’Œ-futuretask-åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" aria-hidden="true">#</a> é”™è¯¯è§‚ç‚¹2. é€šè¿‡ <code>Callable</code> å’Œ <code>FutureTask</code> åˆ›å»ºçº¿ç¨‹æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼</h4><p><img src="/assets/02.ea017cd5.png" alt="" loading="lazy"></p><p>æœ¬è´¨è¿˜æ˜¯ <strong>å®ç° <code>Runnable</code> æ¥å£</strong>ã€‚</p><p>å…¶ä¸­è¿˜æœ‰ä¸€ç§é”™è¯¯è§‚ç‚¹ï¼šæ— è¿”å›å€¼æ˜¯å®ç° <code>Runnable</code> æ¥å£ï¼Œæœ‰è¿”å›å€¼æ˜¯å®ç° <code>Callable</code>ï¼Œæ‰€ä»¥ <code>Callable</code> æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼ã€‚</p><blockquote><p><code>Callable</code> æœ¬è´¨è¿˜æ˜¯ <strong>å®ç° <code>Runnable</code> æ¥å£</strong>ã€‚</p></blockquote><h4 id="é”™è¯¯è§‚ç‚¹3-å®šæ—¶å™¨-åŒ¿åå†…éƒ¨ç±»-lambda-è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯è§‚ç‚¹3-å®šæ—¶å™¨-åŒ¿åå†…éƒ¨ç±»-lambda-è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼" aria-hidden="true">#</a> é”™è¯¯è§‚ç‚¹3. å®šæ—¶å™¨ï¼ŒåŒ¿åå†…éƒ¨ç±»ï¼Œ<code>Lambda</code> è¡¨è¾¾å¼æ˜¯ä¸€ç§æ–°å»ºçº¿ç¨‹çš„æ–¹å¼</h4><p>å®šæ—¶å™¨æœ¬è´¨ä¸Šæ˜¯å®ç° <code>Runnable</code> æ¥å£ã€‚</p><p>åŒ¿åå†…éƒ¨ç±»å’Œ <code>Lambda</code> è¡¨è¾¾å¼åªæ˜¯è¯­æ³•å½¢å¼ä¸Šçš„æ”¹å˜ï¼Œå®é™…ä¸Šä¹Ÿè¿˜æ˜¯å®ç° <code>Runnable</code> æ¥å£ã€‚</p><h2 id="_2-å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼" aria-hidden="true">#</a> 2. å¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼</h2><h3 id="_2-1-é”™è¯¯æ–¹å¼-ç›´æ¥è°ƒç”¨-run-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_2-1-é”™è¯¯æ–¹å¼-ç›´æ¥è°ƒç”¨-run-æ–¹æ³•" aria-hidden="true">#</a> 2.1 é”™è¯¯æ–¹å¼ï¼šç›´æ¥è°ƒç”¨ run() æ–¹æ³•</h3><p>ç›´æ¥è°ƒç”¨ <code>Thread.run()</code> æ–¹æ³•ï¼Œæˆ–è€…ç›´æ¥è°ƒç”¨ <code>Runnable.run()</code> æ–¹æ³•éƒ½ä¸ä¼šå¯åŠ¨æ–°çº¿ç¨‹ã€‚åªæ˜¯åœ¨è°ƒç”¨ <code>run</code> æ–¹æ³•çš„å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œ <code>run</code> æ–¹æ³•ã€‚</p><h3 id="_2-2-æ­£ç¡®æ–¹å¼-è°ƒç”¨-thread-start-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_2-2-æ­£ç¡®æ–¹å¼-è°ƒç”¨-thread-start-æ–¹æ³•" aria-hidden="true">#</a> 2.2 æ­£ç¡®æ–¹å¼ï¼šè°ƒç”¨ <code>Thread.start()</code> æ–¹æ³•</h3><p>è°ƒç”¨ <code>Thread.start()</code> æ–¹æ³•å¯åŠ¨æ–°çº¿ç¨‹ï¼Œå¹¶ä¸æ˜¯è¯´è°ƒç”¨ <code>start</code> æ–¹æ³•ä¹‹åï¼Œæ–°çº¿ç¨‹å°±ç«‹å³å¯åŠ¨äº†ã€‚</p><p><code>start</code> æ–¹æ³•åªæ˜¯ç”³è¯·è®© <code>JVM</code> å»å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œè€Œè¿™ä¸ªæ–°çº¿ç¨‹ä»€ä¹ˆæ—¶å€™è¢«å¯åŠ¨æ˜¯ä¸ç¡®å®šçš„ã€‚</p><blockquote><p>æœ‰å¯èƒ½åè°ƒç”¨ <code>start</code> æ–¹æ³•ç”³è¯·å¯åŠ¨çš„å¦ä¸€ä¸ªæ–°çº¿ç¨‹å…ˆå¯åŠ¨ä¹Ÿä¸ä¸€å®šã€‚</p></blockquote><p><strong>æ³¨æ„ï¼š</strong> <code>start</code> æ–¹æ³•çš„æ‰§è¡Œä»ç„¶è¿˜æ˜¯åœ¨è°ƒç”¨ <code>start</code> æ–¹æ³•çš„å½“å‰çº¿ç¨‹ä¸­ï¼Œå¹¶ä¸æ˜¯åœ¨ <code>start</code> æ–¹æ³•æ‰€ç”³è¯·çš„æ–°çº¿ç¨‹ä¸­ã€‚</p><p>ä»è°ƒç”¨ <code>start</code> æ–¹æ³•å‘ <code>JVM</code> ç”³è¯·å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œåˆ°è¿™ä¸ªæ–°çº¿ç¨‹çœŸæ­£è¿è¡Œèµ·æ¥ä¹‹é—´ï¼Œè¿˜éœ€è¦ä¸ºæ–°çº¿ç¨‹åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œä½¿å¾—æ–°çº¿ç¨‹æ‹¥æœ‰é™¤ä½¿ç”¨ <code>CPU</code> ä¹‹å¤–çš„å…¶ä»–èµ„æºã€‚</p><blockquote><p>å‡†å¤‡å·¥ä½œå®Œæˆåï¼Œæ–°çº¿ç¨‹å°±å¤„äºå°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…çº¿ç¨‹è°ƒåº¦å™¨åˆ†é… <code>CPU</code> èµ„æºæ¥å¯åŠ¨è¿è¡Œã€‚</p></blockquote><h3 id="_2-3-start-æ–¹æ³•æºç åˆ†æ-start-æ–¹æ³•çš„ä¸»è¦ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_2-3-start-æ–¹æ³•æºç åˆ†æ-start-æ–¹æ³•çš„ä¸»è¦ä½œç”¨" aria-hidden="true">#</a> 2.3 <code>start</code> æ–¹æ³•æºç åˆ†æï¼ˆ<code>start</code> æ–¹æ³•çš„ä¸»è¦ä½œç”¨ï¼‰</h3><p><img src="/assets/03.c26a5194.png" alt="" loading="lazy"></p><p><code>start</code> æ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯ï¼š</p><ol><li>æ£€æŸ¥çº¿ç¨‹çŠ¶æ€ <blockquote><p>é€šè¿‡ <code>threadStatus</code> çŠ¶æ€å˜é‡å¯çŸ¥ï¼Œ<code>start</code> æ–¹æ³•åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p></blockquote></li><li>åŠ å…¥çº¿ç¨‹ç»„</li><li>è°ƒç”¨æœ¬åœ°æ–¹æ³• <code>start0()</code> å‘ <code>JVM</code> ç”³è¯·å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ã€‚</li></ol><h2 id="_3-åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼-interrupt" tabindex="-1"><a class="header-anchor" href="#_3-åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼-interrupt" aria-hidden="true">#</a> 3. åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼ï¼š<code>interrupt</code></h2><h3 id="_3-1-çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#_3-1-çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ" aria-hidden="true">#</a> 3.1 çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µ</h3><ol><li><code>run</code> æ–¹æ³•ä¸­çš„ä»£ç å…¨éƒ¨æŒ‡å‘å®Œæ¯•ï¼›</li><li><code>run</code> æ–¹æ³•ä¸­ä»£ç æ‰§è¡Œæ—¶å‡ºç°å¼‚å¸¸ã€‚</li></ol><h3 id="_3-2-æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-2-æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹" aria-hidden="true">#</a> 3.2 æ­£ç¡®åœ°åœæ­¢çº¿ç¨‹</h3><p>åœæ­¢çº¿ç¨‹çš„æ­£ç¡®æ–¹å¼ä¸ºï¼šä½¿ç”¨ <code>interrupt</code> æ¥é€šçŸ¥ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶ã€‚</p><blockquote><p>è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„ <code>interrupt()</code> æ–¹æ³•ï¼Œåªæ˜¯å‘è¿™ä¸ªçº¿ç¨‹å‘å‡ºä¸€ä¸ªä¸­æ–­ä¿¡å·ï¼š</p><ol><li>å½“çº¿ç¨‹æ­£å¸¸è¿è¡Œæ—¶ï¼Œçº¿ç¨‹å¯¹è±¡çš„ <code>isInterrupted()</code> æ–¹æ³•è¿”å› <code>true</code>ï¼›</li><li>å½“çº¿ç¨‹é˜»å¡æ—¶ï¼Œä¼šé€šè¿‡é˜»å¡æ–¹æ³•ï¼ˆå¦‚ <code>sleep</code>ï¼Œ<code>wait</code>ï¼‰æŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ã€‚</li></ol><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨ <code>interrupt()</code> æ–¹æ³•ï¼Œå¹¶ä¸ä¼šå¼ºåˆ¶åœ°å°†çº¿ç¨‹åœæ­¢ï¼Œè€Œæ˜¯ä½¿çº¿ç¨‹æ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼ˆ<code>isInterrupted()</code> æ–¹æ³•è¿”å› <code>true</code>ï¼Œæˆ–å‘ç”Ÿ <code>InterruptedException</code> å¼‚å¸¸éƒ½å¯ä»¥ç†è§£ä¸ºæ”¶åˆ°ä¸­æ–­ä¿¡å·ï¼‰ã€‚</p><p>äºæ˜¯ï¼Œåœ¨ <code>run</code> æ–¹æ³•ä¸­ç¼–å†™çº¿ç¨‹ä»£ç æ—¶ï¼Œå¯ä»¥æ ¹æ®ä¸­æ–­ä¿¡å·æ¥åˆ¤æ–­è¦ä¸è¦ç»“æŸ <code>run</code> æ–¹æ³•ï¼Œåœæ­¢çº¿ç¨‹ã€‚</p></blockquote><h3 id="_3-3-ä½¿ç”¨-interrupt-åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_3-3-ä½¿ç”¨-interrupt-åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯" aria-hidden="true">#</a> 3.3 ä½¿ç”¨ <code>interrupt</code> åœæ­¢çº¿ç¨‹çš„ä¸‰ç§åœºæ™¯</h3><h4 id="_3-3-1-åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-3-1-åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹" aria-hidden="true">#</a> 3.3.1 åœæ­¢æ­£å¸¸è¿è¡Œçš„çº¿ç¨‹</h4><p><img src="/assets/04.baacba07.png" alt="" loading="lazy"></p><h4 id="_3-3-2-åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-3-2-åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹" aria-hidden="true">#</a> 3.3.2 åœæ­¢æ­£å¤„äºé˜»å¡çŠ¶æ€ä¸‹çš„çº¿ç¨‹</h4><p><img src="/assets/05.73b310fe.png" alt="" loading="lazy"></p><h4 id="_3-3-3-åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-3-3-åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹" aria-hidden="true">#</a> 3.3.3 åœæ­¢æ¯æ¬¡å¾ªç¯æ—¶éƒ½ä¼šçŸ­æš‚é˜»å¡çš„çº¿ç¨‹</h4><p><img src="/assets/06.43ffab64.png" alt="" loading="lazy"></p><h3 id="_3-4-æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µ-åŠè§£å†³æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-4-æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µ-åŠè§£å†³æ–¹å¼" aria-hidden="true">#</a> 3.4 æ— æ³•åœæ­¢çº¿ç¨‹çš„æƒ…å†µï¼ˆåŠè§£å†³æ–¹å¼ï¼‰</h3><p><img src="/assets/07.ec4b2528.png" alt="" loading="lazy"></p><h3 id="_3-5-åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#_3-5-åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ" aria-hidden="true">#</a> 3.5 åœæ­¢çº¿ç¨‹çš„æœ€ä½³å®è·µ</h3><h4 id="_3-5-1-ä¼˜å…ˆé€‰æ‹©-ä¼ é€’ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#_3-5-1-ä¼˜å…ˆé€‰æ‹©-ä¼ é€’ä¸­æ–­" aria-hidden="true">#</a> 3.5.1 ä¼˜å…ˆé€‰æ‹©ï¼šä¼ é€’ä¸­æ–­</h4><p>ä¼ é€’ä¸­æ–­å°±æ˜¯è¯´ <code>run</code> æ–¹æ³•ä¸­çš„è¢«è°ƒå‡½æ•°ä¸­å‘ç”Ÿé˜»å¡çš„æ—¶å€™ï¼Œä¸­æ–­äº†çº¿ç¨‹ï¼Œæ­¤æ—¶ï¼Œåœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­çš„é˜»å¡æ–¹æ³•ï¼ˆå¦‚ <code>sleep</code>ï¼Œ<code>wait</code>ï¼‰æŠ›å‡ºäº† <code>InterruptedException</code> å¼‚å¸¸æ—¶ï¼Œä¸èƒ½ç›´æ¥åœ¨è¢«è°ƒå‡½æ•°ä¸­å¯¹ <code>InterruptedException</code> å¼‚å¸¸è¿›è¡Œ <code>try/catch</code>ï¼Œè€Œæ˜¯åº”è¯¥å°†è¯¥å¼‚å¸¸å‘ä¸ŠæŠ›ç»™ <code>run</code> æ–¹æ³•å¤„ç†ã€‚</p><blockquote><p>å³ï¼šä¸è¦åœ¨<code>run</code> æ–¹æ³•ä¸­çš„è¢«è°ƒå‡½æ•°å†…å¤„ç†ä¸­æ–­ï¼Œè€Œæ˜¯å°†ä¸­æ–­ä¼ é€’ç»™ <code>run</code> æ–¹æ³•å¤„ç†ã€‚</p></blockquote><p><img src="/assets/08.a3843afe.png" alt="" loading="lazy"></p><h4 id="_3-5-2-ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶-æ¢å¤ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#_3-5-2-ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶-æ¢å¤ä¸­æ–­" aria-hidden="true">#</a> 3.5.2 ä¸æƒ³æˆ–æ— æ³•ä¼ é€’æ—¶ï¼šæ¢å¤ä¸­æ–­</h4><p>æ¢å¤ä¸­æ–­å°±æ˜¯è¯´<code>run</code> æ–¹æ³•ä¸­çš„è¢«è°ƒå‡½æ•°ä¸­å‘ç”Ÿé˜»å¡çš„æ—¶å€™ï¼Œä¸­æ–­äº†çº¿ç¨‹ï¼Œæ­¤æ—¶ï¼Œåœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­çš„é˜»å¡æ–¹æ³•ï¼ˆå¦‚ <code>sleep</code>ï¼Œ<code>wait</code>ï¼‰æŠ›å‡ºäº† <code>InterruptedException</code> å¼‚å¸¸æ—¶ï¼Œå¦‚æœè¢«è°ƒå‡½æ•°ä¸æƒ³å°†å¼‚å¸¸å‘ä¸ŠæŠ›ç»™ <code>run</code> æ–¹æ³•ï¼Œæˆ–è€…æ˜¯å…¶ä»–æ— æ³•å°†å¼‚å¸¸æŠ›å‡ºç»™ <code>run</code> æ–¹æ³•çš„æƒ…å†µï¼Œé‚£ä¹ˆè¢«è°ƒå‡½æ•°ä¸­å¯ä»¥å¯¹å¼‚å¸¸è¿›è¡Œ <code>try/catch</code>ï¼Œç„¶åå†è°ƒç”¨å½“å‰çº¿ç¨‹çš„ <code>interrupt()</code> æ–¹æ³•ï¼Œå†å‘å‡ºä¸€æ¬¡ä¸­æ–­ï¼Œä½¿å¾—ä¸­æ–­æ ‡è®°ä½ä¸º <code>1</code>ï¼Œäºæ˜¯ï¼Œåœ¨ <code>run</code> æ–¹æ³•ä¸­å°±å¯ä»¥åˆ¤æ–­ <code>isInterrupted()</code> æ˜¯å¦è¿”å› <code>true</code> æ¥ç»“æŸå¾ªç¯ï¼Œä»è€Œåœæ­¢çº¿ç¨‹ã€‚</p><blockquote><p>å³ï¼šå¦‚æœ <code>run</code> æ–¹æ³•ä¸­çš„è¢«è°ƒå‡½æ•°å†…æ— æ³•å°†ä¸­æ–­ä¼ é€’ç»™ <code>run</code> æ–¹æ³•ï¼Œé‚£ä¹ˆå°±åœ¨è¢«è°ƒå‡½æ•°ä¸­é‡æ–°å‘èµ·ä¸€ä¸ªä¸­æ–­ã€‚</p></blockquote><p><img src="/assets/09.bb448a4c.png" alt="" loading="lazy"></p><h4 id="_3-5-3-ä¸åº”å±è”½ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#_3-5-3-ä¸åº”å±è”½ä¸­æ–­" aria-hidden="true">#</a> 3.5.3 ä¸åº”å±è”½ä¸­æ–­</h4><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æœ‰ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œ<code>run</code> æ–¹æ³•ä¸­å¿…é¡»è¦èƒ½é€šè¿‡ <code>isInterrupted()</code> æ–¹æ³•æˆ–è€…æ¥æ”¶åˆ° <code>InterruptedException</code> å¼‚å¸¸æ¥å“åº”è¿™ä¸ªä¸­æ–­ï¼Œåšå‡ºç›¸å…³åŠ¨ä½œï¼ˆå¦‚ç»“æŸå¾ªç¯ï¼Œåœæ­¢çº¿ç¨‹ï¼‰ã€‚</p><h3 id="_3-6-å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_3-6-å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“" aria-hidden="true">#</a> 3.6 å“åº”ä¸­æ–­çš„æ–¹æ³•æ€»ç»“</h3><p>ä»¥ä¸‹è¿™äº›æ–¹æ³•éƒ½ä¼šåœ¨çº¿ç¨‹è°ƒç”¨ <code>interrupt()</code> æ–¹æ³•å‘å‡ºä¸­æ–­æ—¶ï¼ŒæŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ã€‚</p><p><img src="/assets/10.efeca832.png" alt="" loading="lazy"></p><h3 id="_3-7-åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-7-åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼" aria-hidden="true">#</a> 3.7 åœæ­¢çº¿ç¨‹çš„é”™è¯¯æ–¹å¼</h3><h4 id="_3-7-1-stop-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_3-7-1-stop-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" aria-hidden="true">#</a> 3.7.1 <code>stop</code> æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰</h4><p>è°ƒç”¨çº¿ç¨‹çš„ <code>stop()</code> æ–¹æ³•ä¼šå¼ºåˆ¶åœ°åœæ­¢çº¿ç¨‹ã€‚</p><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡çº¿ç¨‹æ˜¯å¦å¤„äºé˜»å¡çŠ¶æ€ï¼›ä¸ç®¡çº¿ç¨‹æ‰§è¡Œåˆ°å“ªæ¡æŒ‡ä»¤ï¼Œéƒ½ä¼šå¼ºåˆ¶åœ°ç»“æŸçº¿ç¨‹æŒ‡ä»¤çš„æ‰§è¡Œï¼Œåœæ­¢çº¿ç¨‹ã€‚</p></blockquote><p>è¿™æ ·åšæ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•é€šè¿‡ä»£ç æ¥æ„ŸçŸ¥çº¿ç¨‹çš„åœæ­¢åŠ¨ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ— æ³•ä¿è¯çº¿ç¨‹ä¸­è¢«å¤„ç†æ•°æ®çš„å®Œæ•´æ€§</strong>ã€‚</p><blockquote><p>å³å¯èƒ½æ•°æ®å¤„ç†åˆ°ä¸€åŠï¼Œçº¿ç¨‹å°±å› ä¸º <code>stop()</code> æ–¹æ³•çš„è°ƒç”¨è¢«å¼ºåˆ¶åœæ­¢äº†ï¼Œä»è€Œäº§ç”Ÿè„æ•°æ®ã€‚è€Œç”±äºè¿™ç§è„æ•°æ®æ‰€å¼•ç”¨çš„é—®é¢˜æ˜¯å¾ˆéš¾æ’æŸ¥çš„ï¼Œå¹¶ä¸” <strong>è°ƒç”¨ <code>stop</code> æ–¹æ³•å¼ºåˆ¶åœæ­¢çº¿ç¨‹æ—¶ï¼Œä¼šé‡Šæ”¾æ‰çº¿ç¨‹æŒæœ‰çš„é”</strong>ï¼Œäºæ˜¯ï¼Œå½“è¢«å¼ºåˆ¶åœæ­¢çš„çº¿ç¨‹æ­£åœ¨åŒæ­¥ä»£ç ä¸­å¤„ç†å…±äº«æ•°æ®æ—¶ï¼Œå°±ä¼šä½¿å¾—è¿˜æ²¡å¤„ç†å®Œçš„å…±äº«æ•°æ®å¯¹å…¶ä»–çº¿ç¨‹å¯è§äº†ï¼Œä»è€Œä½¿å¾—è¿™ä»½ â€œè„ä¹±â€ çš„å…±äº«æ•°æ®å¯¹å¤šä¸ªçº¿ç¨‹äº§ç”Ÿå½±å“ã€‚</p></blockquote><h4 id="_3-7-2-suspend-resume-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_3-7-2-suspend-resume-æ–¹æ³•åœæ­¢çº¿ç¨‹-å¼ƒç”¨" aria-hidden="true">#</a> 3.7.2 <code>suspend</code> + <code>resume</code> æ–¹æ³•åœæ­¢çº¿ç¨‹ï¼ˆå¼ƒç”¨ï¼‰</h4><p><code>suspend()</code> æ–¹æ³•å’Œ <code>resume()</code> æ–¹æ³•æ˜¯æ­é…ä½¿ç”¨çš„ï¼š</p><ol><li>è°ƒç”¨ <code>suspend()</code> æ–¹æ³•ä½¿å¾—çº¿ç¨‹è¢«æŒ‚èµ·ï¼ˆä½†çº¿ç¨‹å¹¶æ²¡æœ‰ç»ˆæ­¢ï¼‰ï¼›</li><li>è°ƒç”¨ <code>resume()</code> æ–¹æ³•ï¼Œå¯ä»¥å”¤é†’è¢« <code>suspend()</code> æ–¹æ³•æŒ‚èµ·çš„çº¿ç¨‹ã€‚</li></ol><p><strong>æ³¨æ„ï¼š</strong><strong>è¢«æŒ‚èµ·çš„çº¿ç¨‹æ˜¯ä¸ä¼šé‡Šæ”¾æ‰å®ƒæ‰€æŒæœ‰çš„é”çš„</strong>ï¼Œè¿™å°±å¾ˆå¯èƒ½ä¼šå¯¼è‡´æ­»é”çš„äº§ç”Ÿã€‚</p><blockquote><p>å½“åœ¨çº¿ç¨‹ <code>A</code> ä¸­è°ƒç”¨çº¿ç¨‹ <code>B</code> çš„ <code>suspend()</code> æ–¹æ³•å°†çº¿ç¨‹ <code>B</code> æŒ‚èµ·æ—¶ï¼Œçº¿ç¨‹ <code>B</code> æŒæœ‰é” <code>lock</code>ï¼Œäºæ˜¯çº¿ç¨‹ <code>B</code> åœ¨æŒ‚èµ·æ—¶ä¹Ÿä¼šä¸€ç›´æŒæœ‰é” <code>lock</code>ã€‚</p><p>ä¹‹åï¼Œå½“åœ¨çº¿ç¨‹ <code>A</code> æˆ–å…¶ä»–çº¿ç¨‹ä¸­è°ƒç”¨çº¿ç¨‹ <code>B</code> çš„ <code>resume()</code> æ–¹æ³•å”¤é†’çº¿ç¨‹ <code>B</code> ä¹‹å‰ï¼Œçº¿ç¨‹ <code>A</code> æˆ–å…¶ä»–çº¿ç¨‹éœ€è¦å…ˆè¯·æ±‚é” <code>lock</code> æ—¶ï¼Œç”±äºé” <code>lock</code> ä¸€ç›´è¢«çº¿ç¨‹ <code>B</code> æŒæœ‰ï¼Œè€Œçº¿ç¨‹ <code>B</code> è¢«æŒ‚èµ·äº†æ— æ³•å°†é”é‡Šæ”¾æ‰ï¼Œä»è€Œå¯¼è‡´äº†æ­»é”çš„äº§ç”Ÿã€‚</p></blockquote><h4 id="_3-7-3-ç”¨-volatile-è®¾ç½®-boolean-æ ‡è®°ä½" tabindex="-1"><a class="header-anchor" href="#_3-7-3-ç”¨-volatile-è®¾ç½®-boolean-æ ‡è®°ä½" aria-hidden="true">#</a> 3.7.3 ç”¨ <code>volatile</code> è®¾ç½® <code>boolean</code> æ ‡è®°ä½</h4><p><img src="/assets/11.945ec4de.png" alt="" loading="lazy"></p><h5 id="blockingqueue-é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#blockingqueue-é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹" aria-hidden="true">#</a> <code>BlockingQueue</code> é˜»å¡é˜Ÿåˆ—çš„ç‰¹ç‚¹</h5><ol><li>å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œè°ƒç”¨ <code>take()</code> æ–¹æ³•å–æ•°æ®æ—¶ä¼šé˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ä¸ºç©ºæ‰ç»“æŸé˜»å¡ï¼Œå–å‡ºæ•°æ®ï¼›</li><li>å½“é˜Ÿåˆ—å…ƒç´ è¾¾åˆ°å®¹é‡é™åˆ¶æ—¶ï¼Œè°ƒç”¨ <code>put(element)</code> æ–¹æ³•å­˜æ•°æ®æ—¶ä¼šé˜»å¡ï¼Œç›´åˆ°é˜Ÿåˆ—å…ƒç´ è¢«å–å‡ºåï¼Œå°äºå®¹é‡é™åˆ¶ï¼Œæ‰ç»“æŸé˜»å¡ï¼Œå­˜å…¥æ•°æ®ã€‚</li></ol><h3 id="_3-8-åˆ†æ-native-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-8-åˆ†æ-native-æ–¹æ³•" aria-hidden="true">#</a> 3.8 åˆ†æ <code>native</code> æ–¹æ³•</h3><p>åˆ†æ <code>native</code> æ–¹æ³•çš„æ­¥éª¤ï¼š</p><ol><li>è¿› <code>github</code> ï¼ˆä¹Ÿå¯ä»¥è¿› <code>openJDK</code> ç½‘ç«™ï¼‰</li><li>ç‚¹ â€œæœç´¢æ–‡ä»¶â€ï¼Œæœç´¢å¯¹åº”çš„ <code>c</code> ä»£ç ç±» <code>Thread.c</code></li><li>æ‰¾åˆ° <code>native</code> æ–¹æ³•å¯¹åº”çš„æ–¹æ³•å</li><li>å» <code>src/hotspot/share/prims/jvm.cpp</code> é‡Œçœ‹ <code>cpp</code> ä»£ç </li></ol><p><img src="/assets/12.684287e5.png" alt="" loading="lazy"></p><p><img src="/assets/13.f50749c6.png" alt="" loading="lazy"></p><p><img src="/assets/14.6bbd80d6.png" alt="" loading="lazy"></p><p><img src="/assets/15.5dfc018c.png" alt="" loading="lazy"></p><h3 id="_3-9-åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”-isinterrupted-å’Œ-interrupted" tabindex="-1"><a class="header-anchor" href="#_3-9-åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”-isinterrupted-å’Œ-interrupted" aria-hidden="true">#</a> 3.9 åˆ¤æ–­æ˜¯å¦å·²ä¸­æ–­çš„æ–¹æ³•å¯¹æ¯”ï¼ˆ<code>isInterrupted</code> å’Œ <code>interrupted()</code>ï¼‰</h3><p><img src="/assets/16.c9ec815b.png" alt="" loading="lazy"></p><h4 id="_3-9-1-thread-isinterrupted" tabindex="-1"><a class="header-anchor" href="#_3-9-1-thread-isinterrupted" aria-hidden="true">#</a> 3.9.1 <code>Thread.isInterrupted()</code></h4><p><code>isInterrupted()</code> æ˜¯ä¸€ä¸ªéé™æ€æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹å¯¹è±¡çš„ä¸­æ–­æ ‡è®°ä½ã€‚</p><blockquote><p><code>isInterrupted()</code> æ–¹æ³•è°ƒç”¨åï¼Œ<strong>ä¸ä¼šæ¸…é™¤æ‰è¯¥çº¿ç¨‹å¯¹è±¡çš„ä¸­æ–­æ ‡è®°ä½</strong>ã€‚</p></blockquote><h4 id="_3-9-2-thread-interrupted" tabindex="-1"><a class="header-anchor" href="#_3-9-2-thread-interrupted" aria-hidden="true">#</a> 3.9.2 <code>Thread.interrupted()</code></h4><p><code>interrupted()</code> æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­ä¸»è°ƒå‡½æ•°æ‰€åœ¨çº¿ç¨‹ï¼ˆå³å½“å‰çº¿ç¨‹ï¼‰çš„ä¸­æ–­æ ‡è®°ä½ï¼Œè€Œä¸æ˜¯è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹å¯¹è±¡çš„ä¸­æ–­æ ‡è®°ä½ã€‚</p><blockquote><p><code>interrupted()</code> æ–¹æ³•è°ƒç”¨åï¼Œ<strong>ä¼šæ¸…é™¤æ‰å½“å‰çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ä½</strong>ã€‚å³ï¼šè‹¥å½“å‰çº¿ç¨‹ä¸­ç¬¬ <code>1</code> æ¬¡è°ƒç”¨ <code>interrupted()</code> æ–¹æ³•è¿”å› <code>true</code>ï¼Œé‚£ä¹ˆç¬¬ <code>2</code> æ¬¡è°ƒç”¨æ—¶å°±è¿”å› <code>false</code> äº†ã€‚</p></blockquote><h3 id="_3-10-å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡" tabindex="-1"><a class="header-anchor" href="#_3-10-å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡" aria-hidden="true">#</a> 3.10 å¦‚ä½•å¤„ç†ä¸å¯ä¸­æ–­çš„é˜»å¡</h3><p>å‡ºç°ä¸å¯ä¸­æ–­çš„é˜»å¡çš„åœºæ™¯ï¼š</p><ol><li>åœ¨ <code>Socket</code> ä¸­è¿›è¡Œ <code>IO</code> æ“ä½œæ—¶æ˜¯æ— æ³•å“åº” <code>interrupt()</code> æ–¹æ³•å‘å‡ºçš„ä¸­æ–­ä¿¡å·çš„ï¼ˆå¦‚ <code>ServerSocket</code> çš„ <code>accept</code> æ–¹æ³•å¹¶æ²¡æœ‰æŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ï¼‰ã€‚</li><li>åœ¨è°ƒç”¨ <code>ReentrantLock</code> çš„ <code>lock()</code> æ–¹æ³•æ—¶ï¼Œå¦‚æœé”è¢«å…¶ä»–çº¿ç¨‹æŒæœ‰ï¼Œé‚£ä¹ˆ <code>lock()</code> æ–¹æ³•ä¼šé˜»å¡ï¼ˆ<code>lock()</code> æ–¹æ³•æ²¡æœ‰æŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ï¼Œæ‰€ä»¥çº¿ç¨‹åœ¨è°ƒç”¨ <code>lock</code> æ–¹æ³•å‡ºç°é˜»å¡æ—¶ï¼Œæ˜¯æ— æ³•å“åº”ä¸­æ–­ä¿¡å·çš„ï¼‰ã€‚</li></ol><blockquote><p>é™¤äº†ä»¥ä¸Š <code>2</code> ç‚¹ï¼Œè¿˜å¯èƒ½å‡ºç°å…¶ä»–æ— æ³•å“åº”ä¸­æ–­ä¿¡å·çš„é˜»å¡ã€‚</p></blockquote><p>å½“å‡ºç°æ— æ³•å“åº”ä¸­æ–­ä¿¡å·çš„é˜»å¡æ—¶ï¼Œåº”è¯¥å…·ä½“æƒ…å†µå…·ä½“åˆ†æï¼Œå¦‚ï¼š</p><ol><li>åœ¨è¿›è¡Œ <code>IO</code> æ“ä½œæ—¶ï¼Œè€ƒè™‘ä½¿ç”¨é‚£äº›å¯ä»¥å“åº”ä¸­æ–­çš„æ–¹æ³•ï¼ˆå³ä¼šæŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸çš„æ–¹æ³•ï¼‰ã€‚</li><li>åœ¨ä½¿ç”¨ <code>ReentrantLock</code> æ—¶ï¼Œç”¨ <code>lockInterruptibly()</code> æ–¹æ³•ä»£æ›¿ <code>lock()</code> æ–¹æ³•ï¼ˆ<code>lockInterruptibly()</code> æ–¹æ³•ä¼šæŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ï¼‰ã€‚</li></ol><h2 id="_4-çº¿ç¨‹çš„-6-ä¸ªçŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_4-çº¿ç¨‹çš„-6-ä¸ªçŠ¶æ€" aria-hidden="true">#</a> 4. çº¿ç¨‹çš„ <code>6</code> ä¸ªçŠ¶æ€</h2><p>åœ¨ <code>Thread.State</code> æšä¸¾ç±»ä¸­å®šä¹‰äº† <code>6</code> ç§çº¿ç¨‹çŠ¶æ€ï¼š</p><ol><li><code>New</code></li><li><code>Runnable</code></li><li><code>Blocked</code></li><li><code>Waiting</code></li><li><code>Timed Waiting</code></li><li><code>Terminated</code></li></ol><h3 id="_4-1-new" tabindex="-1"><a class="header-anchor" href="#_4-1-new" aria-hidden="true">#</a> 4.1 <code>New</code></h3><p><code>new</code> äº†ä¸€ä¸ª <code>Thread</code>ï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨ <code>start()</code> æ–¹æ³•ã€‚</p><h3 id="_4-2-runnable" tabindex="-1"><a class="header-anchor" href="#_4-2-runnable" aria-hidden="true">#</a> 4.2 <code>Runnable</code></h3><p>åœ¨è°ƒç”¨çº¿ç¨‹çš„ <code>start()</code> æ–¹æ³•åï¼Œçº¿ç¨‹å°±å¤„äº <code>Runnable</code> çŠ¶æ€äº†ã€‚</p><p>æ³¨æ„ï¼Œ<code>Runnable</code> çŠ¶æ€åŒ…æ‹¬å‡ ç§åœºæ™¯ï¼š</p><ol><li>åœ¨è°ƒç”¨ <code>start()</code> æ–¹æ³•åï¼Œçº¿ç¨‹è¿˜åœ¨åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œæ­¤æ—¶ï¼Œè°ƒåº¦å™¨è¿˜æ²¡æœ‰å°† <code>CPU</code> èµ„æºåˆ†é…ç»™çº¿ç¨‹ï¼Œè®©çº¿ç¨‹è¿è¡Œèµ·æ¥ï¼›</li><li>è°ƒåº¦å™¨å°† <code>CPU</code> èµ„æºåˆ†é…ç»™çº¿ç¨‹äº†ï¼Œçº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼›</li><li>è°ƒåº¦å™¨å°† <code>CPU</code> èµ„æºåˆ†é…ç»™å…¶ä»–çº¿ç¨‹äº†ï¼Œçº¿ç¨‹ä¸åœ¨è¿è¡Œä¸­ï¼Œè€Œæ˜¯åœ¨ç­‰å¾… <code>CPU</code> èµ„æºçš„åˆ†é…ã€‚</li></ol><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>Runnable</code> çŠ¶æ€åŒ…æ‹¬ <code>ready</code>ã€<code>running</code>ã€ä»¥åŠç­‰å¾… <code>CPU</code> èµ„æºåˆ†é…ï¼Œè¿™ä¸‰ç§æƒ…å†µã€‚</p></blockquote><h3 id="_4-3-blocked" tabindex="-1"><a class="header-anchor" href="#_4-3-blocked" aria-hidden="true">#</a> 4.3 <code>Blocked</code></h3><p>å½“çº¿ç¨‹æ‰§è¡Œåˆ° <code>synchronized</code> åŒæ­¥ä»£ç å—ï¼Œæˆ– <code>synchronized</code> ä¿®é¥°çš„åŒæ­¥æ–¹æ³•æ—¶ï¼Œæœªèƒ½è·å–é”ï¼Œé‚£ä¹ˆçº¿ç¨‹å°±ä¼šè¿›å…¥ <code>Blocked</code> çŠ¶æ€ï¼Œåªæœ‰å½“å…¶å®ƒçº¿ç¨‹é‡Šæ”¾æ‰é”ï¼Œä¸”è¯¥çº¿ç¨‹è·å–åˆ°é”åï¼Œæ‰ä¼šç”± <code>Blocked</code> çŠ¶æ€è½¬ä¸º <code>Runnable</code> çŠ¶æ€ï¼Œç»§ç»­æ‰§è¡ŒåŒæ­¥ä»£ç ã€‚</p><p>å¤„äº <code>Blocked</code> çŠ¶æ€çš„çº¿ç¨‹ï¼Œè¡¨ç¤ºæ­£ç­‰å¾…å…¶å®ƒçº¿ç¨‹é‡Šæ”¾æ‰é”ï¼Œä¸”è¯¥çº¿ç¨‹å°†é”è·å–åˆ°ã€‚</p><h3 id="_4-4-waiting" tabindex="-1"><a class="header-anchor" href="#_4-4-waiting" aria-hidden="true">#</a> 4.4 <code>Waiting</code></h3><p>å¤„äº <code>Waiting</code> çŠ¶æ€çš„çº¿ç¨‹ï¼Œè¡¨ç¤ºæ­£ç­‰å¾…å…¶å®ƒçº¿ç¨‹å°†è¯¥çº¿ç¨‹å”¤é†’ã€‚</p><h3 id="_4-5-timed-waiting" tabindex="-1"><a class="header-anchor" href="#_4-5-timed-waiting" aria-hidden="true">#</a> 4.5 <code>Timed Waiting</code></h3><p>å¤„äº <code>Timed Waiting</code> çŠ¶æ€çš„çº¿ç¨‹ï¼Œè¡¨ç¤ºæ­£ç­‰å¾…å…¶å®ƒçº¿ç¨‹å°†è¯¥çº¿ç¨‹å”¤é†’ï¼Œæˆ–è€…ç­‰å¾…æ—¶é—´åˆ°ã€‚</p><h3 id="_4-6-terminated" tabindex="-1"><a class="header-anchor" href="#_4-6-terminated" aria-hidden="true">#</a> 4.6 <code>Terminated</code></h3><p>å¯ä»¥ç†è§£ä¸ºå½“å‰çº¿ç¨‹çš„ <code>run</code> æ–¹æ³•æ‰§è¡Œå®Œæ¯•åï¼Œçº¿ç¨‹å°±å¤„äº <code>Terminated</code> çŠ¶æ€äº†ã€‚</p><h3 id="_4-7-çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾" tabindex="-1"><a class="header-anchor" href="#_4-7-çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾" aria-hidden="true">#</a> 4.7 çŠ¶æ€é—´çš„è½¬åŒ–ç¤ºæ„å›¾</h3><p><img src="/assets/17.c540dce1.png" alt="" loading="lazy"></p><blockquote><p>ä»çº¿ç¨‹çš„çŠ¶æ€è½¬åŒ–å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæœ‰äº›çŠ¶æ€ä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è½¬åŒ–çš„ï¼Œæœ‰äº›çŠ¶æ€ä¹‹é—´æ˜¯ä¸å¯ä»¥ç›¸äº’è½¬åŒ–çš„ï¼ˆå³ä¸å¯é€†çš„ï¼‰ã€‚</p><p>å¦‚ï¼šä¸€ä¸ª <code>Terminated</code> ç»ˆæ­¢çŠ¶æ€ä¸‹çš„çº¿ç¨‹æ˜¯æ— æ³•å†è¿è¡Œèµ·æ¥çš„ã€‚</p></blockquote><h3 id="_4-8-è·å–çº¿ç¨‹çŠ¶æ€-thread-getstate" tabindex="-1"><a class="header-anchor" href="#_4-8-è·å–çº¿ç¨‹çŠ¶æ€-thread-getstate" aria-hidden="true">#</a> 4.8 è·å–çº¿ç¨‹çŠ¶æ€ï¼ˆ<code>Thread.getState()</code>ï¼‰</h3><p><img src="/assets/18.c0c54beb.png" alt="" loading="lazy"></p><p><img src="/assets/19.4dbfb17d.png" alt="" loading="lazy"></p><h3 id="_4-9-ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_4-9-ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€" aria-hidden="true">#</a> 4.9 ä»€ä¹ˆæ˜¯é˜»å¡çŠ¶æ€ï¼Ÿ</h3><p>ä¸€èˆ¬ä¹ æƒ¯è€Œè¨€ï¼ŒæŠŠ <code>Blocked</code>ï¼ˆè¢«é˜»å¡ï¼‰ã€<code>Waiting</code>ï¼ˆç­‰å¾…ï¼‰ã€<code>Timed Waiting</code>ï¼ˆè®¡æ—¶ç­‰å¾…ï¼‰éƒ½ç§°ä¸ºé˜»å¡çŠ¶æ€ã€‚</p><blockquote><p>æ³¨æ„ï¼šä¸ä»…ä»…æ˜¯ <code>Blocked</code>ã€‚</p></blockquote><h2 id="_5-thread-å’Œ-object-ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-thread-å’Œ-object-ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•" aria-hidden="true">#</a> 5. <code>Thread</code> å’Œ <code>Object</code> ç±»ä¸­ä¸çº¿ç¨‹ç›¸å…³çš„é‡è¦æ–¹æ³•</h2><h3 id="_5-1-æ–¹æ³•æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#_5-1-æ–¹æ³•æ¦‚è§ˆ" aria-hidden="true">#</a> 5.1 æ–¹æ³•æ¦‚è§ˆ</h3><p><img src="/assets/20.d0881a65.png" alt="" loading="lazy"></p><h3 id="_5-2-waitã€notifyã€notifyall-æ–¹æ³•è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_5-2-waitã€notifyã€notifyall-æ–¹æ³•è¯¦è§£" aria-hidden="true">#</a> 5.2 <code>wait</code>ã€<code>notify</code>ã€<code>notifyAll</code> æ–¹æ³•è¯¦è§£</h3><h4 id="_5-2-1-ä½œç”¨-ç”¨æ³•-é˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#_5-2-1-ä½œç”¨-ç”¨æ³•-é˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­" aria-hidden="true">#</a> 5.2.1 ä½œç”¨&amp;ç”¨æ³•ï¼ˆé˜»å¡é˜¶æ®µã€å”¤é†’é˜¶æ®µã€é‡åˆ°ä¸­æ–­ï¼‰</h4><p><strong>ä¸€ã€<code>wait</code> æ–¹æ³•</strong></p><p>è°ƒç”¨ <code>Object</code> å¯¹è±¡çš„ <code>wait</code> æ–¹æ³•ï¼Œä¼šä½¿çº¿ç¨‹è¿›å…¥é˜»å¡é˜¶æ®µã€‚</p><blockquote><p>æ³¨æ„ï¼šåœ¨è°ƒç”¨ <code>Object</code> å¯¹è±¡çš„ <code>wait</code> æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹å¿…é¡»æŒæœ‰è¯¥ <code>Object</code> å¯¹è±¡çš„é”ï¼Œå³ï¼š</p><ol><li><code>obj.wait</code> æ–¹æ³•åªèƒ½åœ¨ <code>synchronized(obj) {...}</code> åŒæ­¥ä»£ç å—ä¸­è°ƒç”¨ï¼›</li><li><code>this.wait</code> æ–¹æ³•å¯ä»¥åœ¨ <code>synchronized</code> ä¿®é¥°çš„éé™æ€æˆå‘˜æ–¹æ³•ä¸­è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>synchronized(this) {...}</code> åŒæ­¥ä»£ç å—ä¸­è°ƒç”¨ï¼›</li><li><code>T.class.wait</code> æ–¹æ³•å¯ä»¥åœ¨ <code>T</code> ç±»ä¸­ <code>synchronized</code> ä¿®é¥°çš„é™æ€æˆå‘˜æ–¹æ³•ä¸­è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ <code>synchronized(T.class) {...}</code> åŒæ­¥ä»£ç å—ä¸­è°ƒç”¨ã€‚</li></ol></blockquote><p><strong>äºŒã€<code>notify</code> å’Œ <code>notifyAll</code> æ–¹æ³•</strong></p><p>è°ƒç”¨ <code>Object</code> å¯¹è±¡çš„ <code>notify</code> æˆ– <code>notifyAll</code> æ–¹æ³•ï¼Œä¼šä½¿çº¿ç¨‹è¿›å…¥å”¤é†’é˜¶æ®µã€‚</p><blockquote><p>æ³¨æ„ï¼šåŒè°ƒç”¨ <code>wait</code> æ–¹æ³•æ—¶ä¸€æ ·ï¼Œåœ¨è°ƒç”¨ <code>Object</code> å¯¹è±¡çš„ <code>notify</code> æˆ– <code>notifyAll</code> æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹å¿…é¡»æŒæœ‰è¯¥ <code>Object</code> å¯¹è±¡çš„é”ã€‚</p></blockquote><p><strong>ä¸‰ã€å¤šä¸ªçº¿ç¨‹ä½¿ç”¨åŒä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŒæ­¥é”çš„åœºæ™¯åˆ†æ</strong></p><p>è€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼š</p><div class="language-text ext-text"><pre class="language-text"><code>å½“çº¿ç¨‹ A æŒæœ‰é” obj æ—¶ï¼Œè°ƒç”¨äº† obj.wait æ–¹æ³•ï¼Œäºæ˜¯é‡Šæ”¾é” objï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ˆç­‰ç€èƒ½å¤Ÿå†æ¬¡æŒæœ‰é” objï¼Œç»§ç»­è¿è¡Œï¼‰ï¼›
å½“çº¿ç¨‹ B æŒæœ‰é” obj æ—¶ï¼Œåˆè°ƒç”¨äº† obj.wait æ–¹æ³•ï¼Œäºæ˜¯çº¿ç¨‹ B ä¹Ÿé‡Šæ”¾é” objï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ˆç­‰ç€èƒ½å¤Ÿå†æ¬¡æŒæœ‰é” objï¼Œç»§ç»­è¿è¡Œï¼‰ï¼›
......
å½“çº¿ç¨‹ Z æŒæœ‰é” obj æ—¶ï¼Œå‰é¢å·²ç»æœ‰å¾ˆå¤šçº¿ç¨‹é€šè¿‡è°ƒç”¨ obj.wait æ–¹æ³•è¿›å…¥äº†ç­‰å¾…çŠ¶æ€ã€‚

æ­¤æ—¶ï¼Œåœ¨çº¿ç¨‹ Z æŒæœ‰é” obj çš„æ¡ä»¶ä¸‹ï¼š
    1. è‹¥è°ƒç”¨ obj.notify æ–¹æ³•ï¼Œåˆ™ä¼šå”¤é†’å› è°ƒç”¨è¿‡ obj.wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€ä¸­çš„æŸä¸€ä¸ªçº¿ç¨‹ X ï¼ˆå…·ä½“å”¤é†’å“ªä¸ªçº¿ç¨‹æ˜¯ä¸ç¡®å®šçš„ï¼‰ï¼Œ
    éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªè¢«å”¤é†’çš„çº¿ç¨‹ X æ­¤æ—¶è¿˜å¹¶æ²¡æœ‰æŒæœ‰é” objï¼Œ
    ä¹Ÿå°±æ˜¯è¯´ï¼Œè°ƒç”¨ obj.wait æ–¹æ³•ä»…ä»…åªæ˜¯å”¤é†’çº¿ç¨‹ï¼Œé” obj ä»ç„¶è¢«çº¿ç¨‹ Z æŒæœ‰ç€ã€‚
    åªæœ‰å½“çº¿ç¨‹ Z åœ¨è°ƒç”¨äº† obj.notify æ–¹æ³•åï¼Œåˆè°ƒç”¨ obj.wait æ–¹æ³•ï¼Œæˆ–è€…å°†åŒæ­¥ä»£ç å—æ‰§è¡Œå®Œæ¯•åæ‰ä¼šé‡Šæ”¾æ‰é” objã€‚
    è€Œåœ¨çº¿ç¨‹ Z é‡Šæ”¾æ‰é” obj åï¼Œè¢«å”¤é†’çš„çº¿ç¨‹ X ä¹Ÿå¹¶ä¸ä¸€å®šèƒ½è·å–åˆ°é” objï¼Œ
    è¿™å–å†³äºæ“ä½œç³»ç»Ÿçš„çº¿ç¨‹è°ƒåº¦å™¨æ˜¯å°†é” obj åˆ†å‘ç»™çº¿ç¨‹ Xï¼Œè¿˜æ˜¯åˆ†å‘ç»™åŒæ ·éœ€è¦é” obj çš„å¤„äº Runnable çŠ¶æ€çš„å…¶ä»–çº¿ç¨‹ã€‚
    2. è‹¥è°ƒç”¨ obj.notifyAll æ–¹æ³•ï¼Œåˆ™ä¼šå”¤é†’å› è°ƒç”¨è¿‡ obj.wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€ä¸­çš„æ‰€æœ‰çº¿ç¨‹ã€‚
    åŒè°ƒç”¨ obj.notifyAll æ–¹æ³•ä¸€æ ·ï¼Œè¿™äº›è¢«å”¤é†’çš„æ‰€æœ‰çº¿ç¨‹éƒ½è¿˜æ²¡æœ‰æŒæœ‰é” objã€‚
</code></pre></div><p><strong>å››ã€é‡åˆ°ä¸­æ–­</strong></p><p>å½“çº¿ç¨‹ <code>thread</code> è°ƒç”¨äº† <code>Object</code> å¯¹è±¡çš„ <code>wait</code> æ–¹æ³•ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€ä¸­æ—¶ï¼Œå¦‚æœåœ¨å…¶ä»–çº¿ç¨‹ <code>other_thread</code> ä¸­è°ƒç”¨äº† <code>thread.interrupt()</code> æ–¹æ³•ï¼Œå‘çº¿ç¨‹ <code>thread</code> å‘å‡ºäº†ä¸­æ–­ä¿¡å·ï¼Œé‚£ä¹ˆå¤„äºç­‰å¾…çŠ¶æ€ä¸­çš„çº¿ç¨‹ <code>thread</code> å°±ä¼šè¢«å”¤é†’ï¼Œå¹¶é€šè¿‡ <code>wait</code> æ–¹æ³•æŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ï¼ˆåŒæ—¶æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½ï¼‰ã€‚</p><blockquote><p><strong>æ€è€ƒï¼š</strong> å½“çº¿ç¨‹ <code>thread</code> å› é‡åˆ°ä¸­æ–­è¢«å”¤é†’åï¼Œåœ¨æŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸æ—¶ï¼Œæ˜¯å¦æŒæœ‰äº† <code>Object</code> å¯¹è±¡çš„é”ï¼Ÿ</p><p>å¦‚æœæŒæœ‰äº†ï¼Œé‚£ä¹ˆåœ¨ä¸­æ–­å‘ç”Ÿæ—¶ï¼ŒæŒæœ‰è¯¥é”çš„å…¶ä»–çº¿ç¨‹æ˜¯å¦å°±è¢«è¿«åœ°å°†é”é‡Šæ”¾æ‰äº†ï¼Ÿå¦‚æœé‡Šæ”¾æ‰äº†ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå…¶ä»–çº¿ç¨‹ä¸­æœªå¤„ç†å®Œçš„å…±äº«æ•°æ®ä¸å°±å½±å“åˆ°åˆ«çš„çº¿ç¨‹äº†å—ï¼Ÿ</p></blockquote><h4 id="_5-2-2-wait-ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„-4-ç§æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#_5-2-2-wait-ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„-4-ç§æƒ…å†µ" aria-hidden="true">#</a> 5.2.2 <code>wait</code> ä¸­çš„çº¿ç¨‹è¢«å”¤é†’çš„ <code>4</code> ç§æƒ…å†µ</h4><p>ç›´åˆ°ä»¥ä¸‹ <code>4</code> ç§æƒ…å†µä¹‹ä¸€å‘ç”Ÿæ—¶ï¼Œ<code>wait</code> ä¸­çš„çº¿ç¨‹æ‰ä¼šè¢«å”¤é†’ï¼š</p><ol><li>å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº†è¿™ä¸ªå¯¹è±¡çš„ <code>notify()</code> æ–¹æ³•ï¼Œä¸”åˆšå¥½è¢«å”¤é†’çš„æ˜¯æœ¬çº¿ç¨‹ï¼›</li><li>å¦ä¸€ä¸ª çº¿ç¨‹è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>notifyAll()</code> æ–¹æ³•ï¼›</li><li>è¿‡äº† <code>wait(timeout)</code> è§„å®šçš„è¶…æ—¶æ—¶é—´ï¼ˆå¦‚æœä¼ å…¥ <code>0</code> å°±æ˜¯æ°¸ä¹…ç­‰å¾…ï¼‰ï¼›</li><li>çº¿ç¨‹è‡ªèº«è°ƒç”¨äº† <code>interrupt()</code> æ–¹æ³•ã€‚</li></ol><p><img src="/assets/21.d7455960.png" alt="" loading="lazy"></p><p><img src="/assets/22.a041a0a8.png" alt="" loading="lazy"></p><h4 id="_5-2-3-ç‰¹ç‚¹-æ€§è´¨" tabindex="-1"><a class="header-anchor" href="#_5-2-3-ç‰¹ç‚¹-æ€§è´¨" aria-hidden="true">#</a> 5.2.3 ç‰¹ç‚¹&amp;æ€§è´¨</h4><ol><li><p>è°ƒç”¨å…ˆå¿…é¡»å…ˆæ‹¥æœ‰ <code>monitor</code></p><blockquote><p>è°ƒç”¨ <code>obj.wait</code>ã€<code>obj.notify</code>ã€<code>obj.notifyAll</code> æ–¹æ³•æ—¶ï¼Œçº¿ç¨‹å¿…é¡»æŒæœ‰é” <code>obj</code>ã€‚</p></blockquote></li><li><p>åªèƒ½å”¤é†’å…¶ä¸­ä¸€ä¸ª</p><blockquote><p><code>obj.notify</code> åªèƒ½å”¤é†’å¤šä¸ªå› è°ƒç”¨ <code>obj.wait</code> æ–¹æ³•è€Œå¤„äº <code>Waiting</code> çŠ¶æ€çš„çº¿ç¨‹ä¸­çš„æŸä¸€ä¸ªï¼ˆå…·ä½“å“ªä¸€ä¸ªä¸ç¡®å®šï¼‰ã€‚</p></blockquote></li><li><p>å±äº <code>Object</code> ç±»</p><blockquote><p><code>wait</code>ã€<code>notify</code>ã€<code>notifyAll</code> è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ <code>Object</code> ç±»æä¾›çš„å®ä¾‹æ–¹æ³•ã€‚</p></blockquote></li><li><p>ç±»ä¼¼åŠŸèƒ½çš„ <code>Condition</code></p><blockquote><p>ä¸ <code>ReentrantLock</code> æ­é…ä½¿ç”¨ <code>Condition</code> ç±»ï¼Œæä¾›äº† <code>await/signal/signalAll</code> å®ç°ä¸ <code>wait/notify/notifyAll</code> ç±»ä¼¼çš„åŠŸèƒ½ã€‚</p></blockquote></li><li><p>åŒæ—¶æŒæœ‰å¤šä¸ªé”çš„æƒ…å†µ</p><blockquote><p>ä¸€ä¸ªçº¿ç¨‹åŒæ—¶æŒæœ‰å¤šä¸ªé”æ—¶ï¼Œå¦‚æœå¯¹é‡Šæ”¾é”çš„æ—¶æœºæŠŠæ¡ä¸æ°å½“ï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿæ­»é”ã€‚</p></blockquote></li></ol><h4 id="_5-2-4-æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_5-2-4-æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼" aria-hidden="true">#</a> 5.2.4 æ‰‹å†™ç”Ÿäº§è€…æ¶ˆè´¹è€…è®¾è®¡æ¨¡å¼</h4><p>ä»€ä¹ˆæ˜¯ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å¼ï¼Ÿ</p><div class="language-text ext-text"><pre class="language-text"><code>ç”Ÿäº§è€…å°±æ˜¯å‘å…±äº«å†…å­˜ä¸­å†™å…¥æ•°æ®
æ¶ˆè´¹è€…å°±æ˜¯ä»å…±äº«å†…å­˜ä¸­è¯»å–æ•°æ®

ä½¿ç”¨ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å¼ï¼Œå°†ç”Ÿäº§è¿‡ç¨‹å’Œæ¶ˆè´¹è¿‡ç¨‹è¿›è¡Œäº†è§£è€¦ï¼Œ
èƒ½å¤Ÿæ›´å¥½åœ°å¯¹ç”Ÿäº§æ“ä½œå’Œæ¶ˆè´¹æ“ä½œè¿›è¡ŒååŒæ§åˆ¶ã€‚
</code></pre></div><p><img src="/assets/23.2d0b896b.png" alt="" loading="lazy"><img src="/assets/24.79837859.png" alt="" loading="lazy"></p><p><img src="/assets/25.ffc4ea9b.png" alt="" loading="lazy"></p><h4 id="_5-2-5-ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°-0-100-çš„å¥‡å¶æ•°" tabindex="-1"><a class="header-anchor" href="#_5-2-5-ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°-0-100-çš„å¥‡å¶æ•°" aria-hidden="true">#</a> 5.2.5 ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å° <code>0~100</code> çš„å¥‡å¶æ•°</h4><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><div class="language-text ext-text"><pre class="language-text"><code>å¶çº¿ç¨‹ï¼š0
å¥‡çº¿ç¨‹ï¼š1
å¶çº¿ç¨‹ï¼š2
......
</code></pre></div><p><strong>1. ç”¨ <code>synchronized</code> å…³é”®å­—å®ç°</strong></p><p><img src="/assets/26.29f19634.png" alt="" loading="lazy"></p><p><strong>2. ç”¨ <code>wait</code> å’Œ <code>notify</code> æ–¹æ³•å®ç°</strong></p><p><img src="/assets/27.91becdb6.png" alt="" loading="lazy"></p><h4 id="_5-2-6-å¸¸è§é¢è¯•é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_5-2-6-å¸¸è§é¢è¯•é—®é¢˜" aria-hidden="true">#</a> 5.2.6 å¸¸è§é¢è¯•é—®é¢˜</h4><h5 id="_5-2-6-1-ä¸ºä»€ä¹ˆ-wait-éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨-è€Œ-sleep-ä¸éœ€è¦" tabindex="-1"><a class="header-anchor" href="#_5-2-6-1-ä¸ºä»€ä¹ˆ-wait-éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨-è€Œ-sleep-ä¸éœ€è¦" aria-hidden="true">#</a> 5.2.6.1 ä¸ºä»€ä¹ˆ <code>wait</code> éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨ï¼Œè€Œ <code>sleep</code> ä¸éœ€è¦ï¼Ÿ</h5><div class="language-text ext-text"><pre class="language-text"><code>wait å’Œ notify/notifyAll æ˜¯é…åˆä½¿ç”¨çš„ï¼Œ
å½“æŸä¸ªçº¿ç¨‹ä¸­è°ƒç”¨äº† wait åï¼Œé€šå¸¸æ˜¯éœ€è¦å…¶ä»–çº¿ç¨‹è°ƒç”¨ notify/notifyAll æ¥å”¤é†’çš„,
ä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦ä¿è¯åœ¨ wait è°ƒç”¨ä¹‹åï¼Œå…¶ä»–çº¿ç¨‹ä¸­çš„ notify/notifyAll æ‰ä¼šè°ƒç”¨ï¼Œ
å¦‚æœä¸åœ¨åŒæ­¥ä»£ç å—å†…ä½¿ç”¨ï¼Œé‚£ä¹ˆæ˜¯æ— æ³•ä¿è¯åœ¨ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹ä¸­æ‰§è¡Œçš„ wait å’Œ notify/notifyAll å®ƒä»¬ä¹‹é—´çš„å…ˆåæ‰§è¡Œé¡ºåºï¼Œ
ä¹Ÿå°±æ— æ³•ä¿è¯è°ƒç”¨ wait çš„é‚£ä¸ªçº¿ç¨‹èƒ½å¤Ÿè¢«å”¤é†’ã€‚

è€Œçº¿ç¨‹ä¸­è°ƒç”¨ sleep æ–¹æ³•ï¼Œæ˜¯ä½¿çº¿ç¨‹è¿›å…¥ Timed Waiting çŠ¶æ€ï¼Œ
å¤„äº Timed Waiting çŠ¶æ€çš„çº¿ç¨‹ä¼šåœ¨æŒ‡å®šæ—¶é—´ä¹‹åè‡ªåŠ¨è¢«å”¤é†’ï¼Œä¸éœ€è¦å…¶ä»–çº¿ç¨‹æ¥å”¤é†’å®ƒã€‚
å› æ­¤ä¸æ¶‰åŠå¤šçº¿ç¨‹åŒæ­¥ï¼Œä¹Ÿå°±ä¸éœ€è¦åœ¨åŒæ­¥ä»£ç å—ä¸­è°ƒç”¨äº†ã€‚
</code></pre></div><h5 id="_5-2-6-2-ä¸ºä»€ä¹ˆ-wait-notify-notifyall-å®šä¹‰åœ¨-object-ä¸­-è€Œ-sleep-å®šä¹‰åœ¨-thread-ä¸­" tabindex="-1"><a class="header-anchor" href="#_5-2-6-2-ä¸ºä»€ä¹ˆ-wait-notify-notifyall-å®šä¹‰åœ¨-object-ä¸­-è€Œ-sleep-å®šä¹‰åœ¨-thread-ä¸­" aria-hidden="true">#</a> 5.2.6.2 ä¸ºä»€ä¹ˆ <code>wait/notify/notifyAll</code> å®šä¹‰åœ¨ <code>Object</code> ä¸­ï¼Œè€Œ <code>sleep</code> å®šä¹‰åœ¨ <code>Thread</code> ä¸­ï¼Ÿ</h5><div class="language-text ext-text"><pre class="language-text"><code>wait/notify/notifyAll è¿™ä¸‰ä¸ªæ–¹æ³•å¿…é¡»åœ¨æŒæœ‰é”çš„çº¿ç¨‹ä¸­ï¼Œç”±å……å½“è¯¥é”çš„å¯¹è±¡æ¥è°ƒç”¨ï¼Œ
è€ƒè™‘å½“çº¿ç¨‹åŒæ—¶æŒæœ‰å¤šä¸ªé”çš„æƒ…å†µï¼Œé‚£ä¹ˆå°±å¯èƒ½éœ€è¦é€šè¿‡å¤šä¸ªå……å½“é”çš„ä¸åŒç±»å‹çš„å¯¹è±¡æ¥è°ƒç”¨ wait/notify/notifyAllï¼Œ
ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºäº†ä¿è¯èƒ½å¤Ÿä½¿ç”¨å„ç§ç±»å‹çš„å¯¹è±¡æ¥å……å½“é”ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä¿è¯å„ç§ç±»å‹çš„å¯¹è±¡éƒ½èƒ½è°ƒç”¨ wait/notify/notifyAllï¼Œ
è€Œ Object ç±»ä½œä¸ºé¡¶çº§çˆ¶ç±»å°±èƒ½ä¿è¯è¿™ä¸€ç‚¹ï¼Œå› æ­¤å°±å°† wait/notify/notifyAll å®šä¹‰åœ¨ Object ç±»ä¸­ã€‚

è€Œä¸ç®¡æ˜¯å“ªä¸ªå¯¹è±¡è°ƒç”¨ sleep æ–¹æ³•ï¼Œéƒ½åªæ˜¯è®©çº¿ç¨‹è¿›å…¥ Timed Waiting çŠ¶æ€ï¼Œæ—¶é—´ä¸€åˆ°çº¿ç¨‹è‡ªåŠ¨å”¤é†’ã€‚
å³ä»»æ„å¯¹è±¡è°ƒç”¨ sleep æ–¹æ³•çš„æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤ï¼Œä¹Ÿå°±æ²¡å¿…è¦è®©æ¯ä¸ªå¯¹è±¡éƒ½èƒ½è°ƒç”¨åˆ° sleep æ–¹æ³•äº†ã€‚
æ‰€ä»¥å°†ä¸çº¿ç¨‹ç›¸å…³çš„ sleep æ–¹æ³•å®šä¹‰åœ¨çº¿ç¨‹ç±» Thread ä¸­æ˜¯å¾ˆåˆç†çš„ã€‚
</code></pre></div><h5 id="_5-2-6-3-è°ƒç”¨-thread-wait-ä¼šæ€ä¹ˆæ ·" tabindex="-1"><a class="header-anchor" href="#_5-2-6-3-è°ƒç”¨-thread-wait-ä¼šæ€ä¹ˆæ ·" aria-hidden="true">#</a> 5.2.6.3 è°ƒç”¨ <code>Thread.wait</code> ä¼šæ€ä¹ˆæ ·ï¼Ÿ</h5><div class="language-text ext-text"><pre class="language-text"><code>thread å¯¹è±¡ç¡®å®å¯ä»¥ä½œä¸ºé”æ¥ä½¿ç”¨ï¼Œå› æ­¤å¯ä»¥è°ƒç”¨ thread.wait æ–¹æ³•ã€‚
ä½†æ˜¯ï¼Œåœ¨ JVM çš„æºç å®ç°ä¸­ï¼Œåœ¨æ‰§è¡Œå®Œçº¿ç¨‹ä»£ç åï¼ˆå³æ‰§è¡Œå®Œ Thread.run æ–¹æ³•åï¼‰ï¼Œä¼šè°ƒç”¨çº¿ç¨‹çš„ notifyã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½¿ç”¨ thread å¯¹è±¡ä½œä¸ºé”ï¼Œé‚£ä¹ˆåœ¨è¯¥ thread å¯¹è±¡è¡¨ç¤ºçš„çº¿ç¨‹æ‰§è¡Œå®Œåï¼Œ
ä¼šè‡ªåŠ¨åœ°å”¤é†’é‚£äº›å› è°ƒç”¨è¯¥ thread å¯¹è±¡çš„ wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ã€‚
å› æ­¤ï¼Œä¸å»ºè®®ä½¿ç”¨ thread å¯¹è±¡ä½œä¸ºé”ä½¿ç”¨ã€‚
</code></pre></div><h5 id="_5-2-6-4-å¦‚ä½•é€‰æ‹©ç”¨-notify-è¿˜æ˜¯-notifyall" tabindex="-1"><a class="header-anchor" href="#_5-2-6-4-å¦‚ä½•é€‰æ‹©ç”¨-notify-è¿˜æ˜¯-notifyall" aria-hidden="true">#</a> 5.2.6.4 å¦‚ä½•é€‰æ‹©ç”¨ <code>notify</code> è¿˜æ˜¯ <code>notifyAll</code>ï¼Ÿ</h5><div class="language-text ext-text"><pre class="language-text"><code>å½“å› è°ƒç”¨é” obj çš„ wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ªï¼Œ
æˆ–è€…åªéœ€è¦å”¤é†’å¤šä¸ªå› è°ƒç”¨é” obj çš„ wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ä¸­çš„æŸä¸€ä¸ªæ—¶ï¼Œ
é€‰æ‹©è°ƒç”¨ obj.notify æ–¹æ³•æ¥å”¤é†’ã€‚

å½“å› è°ƒç”¨é” obj çš„ wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ä¸æ­¢ä¸€ä¸ªæ—¶ï¼Œ
è‹¥éœ€è¦å°†è¿™äº›çº¿ç¨‹å…¨éƒ¨å”¤é†’ï¼Œåˆ™é€‰æ‹©è°ƒç”¨ obj.notifyAll æ–¹æ³•ã€‚
</code></pre></div><h5 id="_5-2-6-5-notifyall-ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”-å¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠ" tabindex="-1"><a class="header-anchor" href="#_5-2-6-5-notifyall-ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”-å¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠ" aria-hidden="true">#</a> 5.2.6.5 <code>notifyAll</code> ä¹‹åæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šå†æ¬¡æŠ¢å¤ºé”ï¼Œå¦‚æœæŸçº¿ç¨‹æŠ¢å¤ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ</h5><div class="language-text ext-text"><pre class="language-text"><code>è°ƒç”¨é” obj çš„ notifyAll æ–¹æ³•åï¼Œæ‰€æœ‰å› è°ƒç”¨è¯¥é” obj çš„ wait æ–¹æ³•è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹éƒ½ä¼šè¢«å”¤é†’ï¼Œè¿›å…¥ Runnable çŠ¶æ€ï¼Œ
è¿™äº›å¤„äº Runnable çŠ¶æ€çš„çº¿ç¨‹ï¼Œåœ¨æ‰§è¡Œ obj.notifyAll æ–¹æ³•çš„é‚£ä¸ªçº¿ç¨‹å°†é” obj é‡Šæ”¾æ‰ä¹‹åï¼Œä¼šç›¸äº’ç«äº‰é” objï¼Œ
ç»“æœåªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹è·å–åˆ°é” objã€‚
è€Œé‚£äº›æ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹ï¼ŒåŒæ ·è¿˜æ˜¯å¤„äº Runnable çŠ¶æ€ï¼Œç­‰å¾…ç€è·å–é”çš„é‚£ä¸ªçº¿ç¨‹å°†é” obj é‡Šæ”¾æ‰åï¼Œå†æ¬¡ç«äº‰ã€‚
</code></pre></div><h5 id="_5-2-6-6-ç”¨-suspend-å’Œ-resume-æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—-ä¸ºä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_5-2-6-6-ç”¨-suspend-å’Œ-resume-æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—-ä¸ºä»€ä¹ˆ" aria-hidden="true">#</a> 5.2.6.6 ç”¨ <code>suspend()</code> å’Œ <code>resume()</code> æ¥é˜»å¡çº¿ç¨‹å¯ä»¥å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h5><div class="language-text ext-text"><pre class="language-text"><code>suspend å’Œ resume æ˜¯æ­é…ä½¿ç”¨çš„ï¼Œé€šè¿‡ suspend å°†çº¿ç¨‹æŒ‚èµ·ï¼Œé€šè¿‡ resume å°†å› è°ƒç”¨ suspend è€Œè¢«æŒ‚èµ·çš„çº¿ç¨‹å”¤é†’ã€‚
å› æ­¤ï¼Œsuspend å’Œ resume å¯ä»¥ç”¨æ¥é˜»å¡çº¿ç¨‹ã€‚
ä½†æ˜¯ï¼Œå› è°ƒç”¨ suspend è€ŒæŒ‚èµ·çš„çº¿ç¨‹è™½ç„¶å¤„äºé˜»å¡çŠ¶æ€äº†ï¼Œä½†æ˜¯è¢«æŒ‚èµ·çš„çº¿ç¨‹å¹¶ä¸ä¼šå°†å…¶æŒæœ‰çš„é”ç»™é‡Šæ”¾æ‰ã€‚
ä»è€Œï¼Œå½“åœ¨å…¶ä»–çº¿ç¨‹ä¸­è°ƒç”¨è¢«æŒ‚èµ·çº¿ç¨‹çš„ resume æ–¹æ³•æ¥å”¤é†’è¢«æŒ‚èµ·çº¿ç¨‹ä¹‹å‰ï¼Œ
å¦‚æœå…¶ä»–çº¿ç¨‹éœ€è¦å…ˆè·å–åˆ°è¢«æŒ‚èµ·çº¿ç¨‹æ‰€æŒæœ‰çš„é”ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´æ­»é”çš„äº§ç”Ÿã€‚
ç”±äºè¿™ä¸ªåŸå› ï¼Œä½¿ç”¨ suspend/resume æ¥é˜»å¡çº¿ç¨‹æ˜¯ä¸å®‰å…¨çš„ï¼Œå·²ç»è¢«å¼ƒç”¨äº†ã€‚
</code></pre></div><h3 id="_5-3-sleep-æ–¹æ³•è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_5-3-sleep-æ–¹æ³•è¯¦è§£" aria-hidden="true">#</a> 5.3 <code>sleep</code> æ–¹æ³•è¯¦è§£</h3><p>è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„ <code>sleep</code> æ–¹æ³•ï¼Œå°±æ˜¯è®©çº¿ç¨‹åœ¨ç»è¿‡é¢„æœŸçš„ä¸€æ®µæ—¶é—´ä¹‹åå†æ‰§è¡Œï¼Œè€Œåœ¨é¢„æœŸçš„è¿™æ®µæ—¶é—´å†…ï¼Œè®©çº¿ç¨‹å¤„äº <code>Timed Waiting</code> çŠ¶æ€ã€‚</p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè°ƒç”¨ <code>sleep</code> æ–¹æ³•è™½ç„¶ä¼šé‡Šæ”¾æ‰çº¿ç¨‹å ç”¨çš„ <code>CPU</code> èµ„æºï¼Œä½†æ˜¯<strong>ä¸ä¼šé‡Šæ”¾æ‰çº¿ç¨‹æŒæœ‰çš„é”</strong>ï¼ˆåŒ…æ‹¬ <code>synchronized</code> åŒæ­¥é”å’Œå®ç°äº† <code>Lock</code> æ¥å£çš„å…¶ä»–é”ï¼Œå¦‚ <code>ReentrantLock</code> å¯é‡å…¥é”ï¼‰ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨çº¿ç¨‹æŒæœ‰é”çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨è¯¥çº¿ç¨‹çš„ <code>sleep</code> æ–¹æ³•ï¼Œé‚£ä¹ˆçº¿ç¨‹æ˜¯å¸¦ç€é”è¿›å…¥ <code>Timed Waiting</code> çŠ¶æ€çš„ï¼ˆè¿™æ ·å¾ˆä¸å®‰å…¨ï¼Œå®¹æ˜“äº§ç”Ÿæ­»é”ï¼‰ã€‚</p></blockquote><h4 id="_5-3-1-sleep-time-å’Œ-wait-time-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_5-3-1-sleep-time-å’Œ-wait-time-çš„åŒºåˆ«" aria-hidden="true">#</a> 5.3.1 <code>sleep(time)</code> å’Œ <code>wait(time)</code> çš„åŒºåˆ«</h4><p>ä¸ <code>sleep(time)</code> ä¸åŒçš„æ˜¯ï¼Œè°ƒç”¨é”å¯¹è±¡ <code>obj</code> çš„ <code>wait(time)</code> æ–¹æ³•ï¼Œä¼šå…ˆè®©çº¿ç¨‹é‡Šæ”¾æ‰é”å¯¹è±¡ <code>obj</code>ï¼Œå†è¿›å…¥ <code>Timed Waiting</code> çŠ¶æ€ã€‚</p><h4 id="_5-3-2-sleep-æ–¹æ³•å“åº”ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#_5-3-2-sleep-æ–¹æ³•å“åº”ä¸­æ–­" aria-hidden="true">#</a> 5.3.2 <code>sleep</code> æ–¹æ³•å“åº”ä¸­æ–­</h4><p>çº¿ç¨‹åœ¨è°ƒç”¨ <code>sleep</code> æ–¹æ³•è¿›å…¥ <code>Timed Waiting</code> çŠ¶æ€æ—¶ï¼Œå¦‚æœè¢«ä¸­æ–­äº†ï¼Œé‚£ä¹ˆ <code>sleep</code> æ–¹æ³•ä¼šæŠ›å‡º <code>InterruptedException</code> å¼‚å¸¸ï¼ŒåŒæ—¶æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½ã€‚</p><h4 id="_5-3-3-æ›´ä¼˜é›…çš„-sleep-æ–¹å¼-timeunit-xxx-sleep-time" tabindex="-1"><a class="header-anchor" href="#_5-3-3-æ›´ä¼˜é›…çš„-sleep-æ–¹å¼-timeunit-xxx-sleep-time" aria-hidden="true">#</a> 5.3.3 æ›´ä¼˜é›…çš„ <code>sleep</code> æ–¹å¼ï¼ˆ<code>TimeUnit.XXX.sleep(time)</code>ï¼‰</h4><p><img src="/assets/28.b3713134.png" alt="" loading="lazy"></p><h4 id="_5-3-4-sleep-ä¸-wait-notify-çš„å¼‚åŒ" tabindex="-1"><a class="header-anchor" href="#_5-3-4-sleep-ä¸-wait-notify-çš„å¼‚åŒ" aria-hidden="true">#</a> 5.3.4 <code>sleep</code> ä¸ <code>wait/notify</code> çš„å¼‚åŒ</h4><p>ç›¸åŒç‚¹ï¼š</p><ol><li>é˜»å¡</li><li>å“åº”ä¸­æ–­</li></ol><p>ä¸åŒç‚¹ï¼š</p><ol><li><code>wait/notify</code> è¦åœ¨åŒæ­¥ä»£ç ä¸­è°ƒç”¨ï¼Œ<code>sleep</code> æ²¡æœ‰æ­¤é™åˆ¶ï¼›</li><li><code>wait</code> å’Œ <code>sleep</code> éƒ½ä¼šé‡Šæ”¾çº¿ç¨‹å ç”¨çš„ <code>CPU</code> èµ„æºã€‚ä½†æ˜¯ï¼Œ<code>wait</code> è¿˜ä¼šé‡Šæ”¾é”ï¼Œè€Œ <code>sleep</code> åˆ™ä¸ä¼šé‡Šæ”¾é”ï¼›</li><li>è°ƒç”¨ <code>sleep</code> å¿…é¡»æŒ‡å®šä¼‘çœ æ—¶é—´ï¼Œè€Œè°ƒç”¨ <code>wait</code> å¯ä»¥ä¸æŒ‡å®šæ—¶é—´ï¼ˆä¹Ÿå¯ä»¥æŒ‡å®šæ—¶é—´ï¼‰ï¼›</li><li><code>wait/notify</code> å±äº <code>Object</code> ç±»ï¼Œ<code>sleep</code> å±äº <code>Thread</code> ç±»ã€‚</li></ol><h3 id="_5-4-join-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-4-join-æ–¹æ³•" aria-hidden="true">#</a> 5.4 <code>join</code> æ–¹æ³•</h3><h4 id="_5-4-1-ä»æºç ä¸­åˆ†æ-join-æ–¹æ³•çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_5-4-1-ä»æºç ä¸­åˆ†æ-join-æ–¹æ³•çš„ä½œç”¨" aria-hidden="true">#</a> 5.4.1 ä»æºç ä¸­åˆ†æ <code>join</code> æ–¹æ³•çš„ä½œç”¨</h4><p><img src="/assets/29.5213bf95.png" alt="" loading="lazy"></p><h4 id="_5-4-2-join-æ–¹æ³•çš„æ™®é€šç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#_5-4-2-join-æ–¹æ³•çš„æ™®é€šç”¨æ³•" aria-hidden="true">#</a> 5.4.2 <code>join</code> æ–¹æ³•çš„æ™®é€šç”¨æ³•</h4><p><img src="/assets/30.13c1528f.png" alt="" loading="lazy"></p><h4 id="_5-4-3-join-æ–¹æ³•é‡åˆ°ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#_5-4-3-join-æ–¹æ³•é‡åˆ°ä¸­æ–­" aria-hidden="true">#</a> 5.4.3 <code>join</code> æ–¹æ³•é‡åˆ°ä¸­æ–­</h4><p><img src="/assets/31.35957c7e.png" alt="" loading="lazy"></p><h4 id="_5-4-4-ä½¿ç”¨-countdownlatch-æˆ–-cyclicbarrier-ç±»å®ç°-join-çš„åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_5-4-4-ä½¿ç”¨-countdownlatch-æˆ–-cyclicbarrier-ç±»å®ç°-join-çš„åŠŸèƒ½" aria-hidden="true">#</a> 5.4.4 ä½¿ç”¨ <code>CountDownLatch</code> æˆ– <code>CyclicBarrier</code> ç±»å®ç° <code>join</code> çš„åŠŸèƒ½</h4><p><code>CountDownLatch</code> æˆ– <code>CyclicBarrier</code> è¿™ä¸¤ä¸ªç±»éƒ½å¯ä»¥å®ç°ä¸ <code>join</code> ç±»ä¼¼çš„åŠŸèƒ½ã€‚</p><blockquote><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥è€ƒè™‘ä½¿ç”¨åƒ <code>CountDownLatch</code> æˆ– <code>CyclicBarrier</code> è¿™æ ·çš„å°è£…å¥½äº†çš„åŠŸèƒ½å®ç°ï¼Œé¿å…ä½¿ç”¨ <code>join</code> è¿™ç§è¾ƒä¸ºåº•å±‚çš„å®ç°ã€‚</p></blockquote><h4 id="_5-4-5-åœ¨-join-æœŸé—´-çº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_5-4-5-åœ¨-join-æœŸé—´-çº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€" aria-hidden="true">#</a> 5.4.5 åœ¨ <code>join</code> æœŸé—´ï¼Œçº¿ç¨‹å¤„äºå“ªç§çº¿ç¨‹çŠ¶æ€ï¼Ÿ</h4><p>ä»æºç ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨ <code>join</code> æœŸé—´ï¼š</p><ol><li>æ‰§è¡Œ <code>join</code> æ–¹æ³•çš„çº¿ç¨‹ <code>threadRunner</code> å¯èƒ½å¤„äº <code>Waiting</code> çŠ¶æ€ï¼Œä¹Ÿå¯èƒ½å¤„äº <code>Timed Waiting</code> çŠ¶æ€ã€‚</li><li>è°ƒç”¨ <code>join</code> æ–¹æ³•çš„çº¿ç¨‹ <code>threadCaller</code> å¤„äº <code>Runnable</code> çŠ¶æ€ã€‚</li></ol><h3 id="_5-5-yield-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-5-yield-æ–¹æ³•" aria-hidden="true">#</a> 5.5 <code>yield</code> æ–¹æ³•</h3><h4 id="_5-5-1-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_5-5-1-ä½œç”¨" aria-hidden="true">#</a> 5.5.1 ä½œç”¨</h4><p>å½“çº¿ç¨‹å ç”¨äº† <code>CPU</code> èµ„æºæ—¶ï¼Œè°ƒç”¨è¯¥çº¿ç¨‹çš„ <code>yield</code> æ–¹æ³•ï¼Œä¼šè®©è¯¥çº¿ç¨‹é‡Šæ”¾æ‰å…¶æ‰€å ç”¨çš„ <code>CPU</code> èµ„æºã€‚</p><blockquote><p>éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼šè¯¥çº¿ç¨‹ä»…ä»…åªæ˜¯é‡Šæ”¾æ‰ <code>CPU</code> èµ„æºï¼Œå¹¶ä¸ä¼šé‡Šæ”¾æ‰æŒæœ‰çš„é”ï¼Œä¹Ÿä¸ä¼šè¿›å…¥åˆ°é˜»å¡çŠ¶æ€ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥çº¿ç¨‹åœ¨è°ƒç”¨ <code>yield</code> æ–¹æ³•åï¼Œä»ç„¶å¤„äº <code>Runnable</code> çŠ¶æ€ï¼Œåªæ˜¯æ²¡æœ‰å ç”¨ <code>CPU</code> èµ„æºäº†ã€‚</p></blockquote><blockquote><p>æ³¨æ„ï¼šç”±äºè¯¥çº¿ç¨‹ä»ç„¶å¤„äº <code>Runnable</code> çŠ¶æ€ï¼Œæ‰€ä»¥å½“è°ƒåº¦å™¨ï¼ˆ<code>scheduler</code>ï¼‰å†æ¬¡åˆ†é… <code>CPU</code> èµ„æºæ—¶ï¼Œè¿˜å¯èƒ½ç»§ç»­åˆ†é…ç»™è¯¥çº¿ç¨‹ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½ä¿è¯åœ¨è°ƒç”¨äº†çº¿ç¨‹çš„ <code>yield</code> æ–¹æ³•åï¼Œå…¶ä»–çº¿ç¨‹çš„ <code>run</code> æ–¹æ³•å°±èƒ½æ‰§è¡Œèµ·æ¥ã€‚</p></blockquote><h4 id="_5-5-2-yield-å’Œ-sleep-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_5-5-2-yield-å’Œ-sleep-çš„åŒºåˆ«" aria-hidden="true">#</a> 5.5.2 <code>yield</code> å’Œ <code>sleep</code> çš„åŒºåˆ«</h4><ol><li>è°ƒç”¨çº¿ç¨‹çš„ <code>yield</code> æ–¹æ³•åï¼Œçº¿ç¨‹ä»ç„¶å¤„äº <code>Runnable</code> çŠ¶æ€ï¼Œæ‰€ä»¥çº¿ç¨‹ä¼šéšæ—¶å¯èƒ½å†æ¬¡è¢«è°ƒåº¦ã€‚</li><li>è°ƒç”¨çº¿ç¨‹çš„ <code>sleep</code> æ–¹æ³•åï¼Œçº¿ç¨‹å¤„äº <code>Timed Waiting</code> çŠ¶æ€ï¼Œæ‰€ä»¥åœ¨çº¿ç¨‹å¤„äº <code>Timed Waiting</code> çŠ¶æ€çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šå†è¢«è°ƒåº¦äº†ã€‚</li></ol><h3 id="_5-6-è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨-thread-currentthread-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-6-è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨-thread-currentthread-æ–¹æ³•" aria-hidden="true">#</a> 5.6 è·å–å½“å‰æ‰§è¡Œçº¿ç¨‹çš„å¼•ç”¨ï¼š<code>Thread.currentThread()</code> æ–¹æ³•</h3><h3 id="_5-7-start-å’Œ-run-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-7-start-å’Œ-run-æ–¹æ³•" aria-hidden="true">#</a> 5.7 <code>start</code> å’Œ <code>run</code> æ–¹æ³•</h3><p><a href="#_2-%E5%90%AF%E5%8A%A8%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E5%BC%8F">start/run</a></p><h3 id="_5-8-stopã€suspendã€resume-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_5-8-stopã€suspendã€resume-æ–¹æ³•" aria-hidden="true">#</a> 5.8 <code>stop</code>ã€<code>suspend</code>ã€<code>resume</code> æ–¹æ³•</h3><p><a href="#_3-7-1-stop-%E6%96%B9%E6%B3%95%E5%81%9C%E6%AD%A2%E7%BA%BF%E7%A8%8B-%E5%BC%83%E7%94%A8">stop</a></p><p><a href="#_3-7-2-suspend-resume-%E6%96%B9%E6%B3%95%E5%81%9C%E6%AD%A2%E7%BA%BF%E7%A8%8B-%E5%BC%83%E7%94%A8">suspend/resume</a></p><h2 id="_6-çº¿ç¨‹çš„å„ä¸ªå±æ€§" tabindex="-1"><a class="header-anchor" href="#_6-çº¿ç¨‹çš„å„ä¸ªå±æ€§" aria-hidden="true">#</a> 6. çº¿ç¨‹çš„å„ä¸ªå±æ€§</h2><h3 id="_6-1-çº¿ç¨‹å„å±æ€§çºµè§ˆ" tabindex="-1"><a class="header-anchor" href="#_6-1-çº¿ç¨‹å„å±æ€§çºµè§ˆ" aria-hidden="true">#</a> 6.1 çº¿ç¨‹å„å±æ€§çºµè§ˆ</h3><p><img src="/assets/32.31e3b425.png" alt="" loading="lazy"></p><h3 id="_6-2-çº¿ç¨‹-id" tabindex="-1"><a class="header-anchor" href="#_6-2-çº¿ç¨‹-id" aria-hidden="true">#</a> 6.2 çº¿ç¨‹ <code>Id</code></h3><p><img src="/assets/33.f98ec760.png" alt="" loading="lazy"></p><p>çº¿ç¨‹ <code>id</code> æ˜¯å”¯ä¸€çš„ï¼Œåœ¨çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¸ä¼šæ”¹å˜ã€‚</p><blockquote><p>æ³¨æ„ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹ç»ˆæ­¢åï¼Œåé¢æ–°åˆ›å»ºçš„çº¿ç¨‹æ˜¯å¯ä»¥å¤ç”¨å·²ç»ˆæ­¢çº¿ç¨‹çš„çº¿ç¨‹ <code>id</code> çš„ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æœªç»ˆæ­¢çš„æ‰€æœ‰çº¿ç¨‹ä¸­ï¼Œçº¿ç¨‹ <code>id</code> æ˜¯å”¯ä¸€çš„ã€‚åœ¨æ‰€æœ‰åˆ›å»ºå‡ºæ¥çš„çº¿ç¨‹ä¸­ï¼ˆåŒ…æ‹¬ç»ˆæ­¢çš„ï¼‰ï¼Œçº¿ç¨‹ <code>id</code> å¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ã€‚</p></blockquote><p>çº¿ç¨‹ <code>id</code> æ˜¯ä» <code>1</code> å¼€å§‹é€’å¢çš„ã€‚</p><p>åœ¨æˆ‘ä»¬è‡ªå·±åˆ›å»ºçº¿ç¨‹ä¹‹å‰ï¼Œ<code>JVM</code> å·²ç»åˆ›å»ºäº†å¤šä¸ªçº¿ç¨‹ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è‡ªå·±æ‰€åˆ›å»ºçº¿ç¨‹çš„çº¿ç¨‹ <code>id &gt; 1</code>ã€‚</p><p><img src="/assets/34.160c28ba.png" alt="" loading="lazy"></p><h3 id="_6-3-çº¿ç¨‹å" tabindex="-1"><a class="header-anchor" href="#_6-3-çº¿ç¨‹å" aria-hidden="true">#</a> 6.3 çº¿ç¨‹å</h3><p>å¦‚æœæˆ‘ä»¬åœ¨åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œæ²¡æœ‰é€šè¿‡æ„é€ å‡½æ•°æŒ‡å®šçº¿ç¨‹åï¼Œé‚£ä¹ˆ <code>Thread</code> ç±»å†…éƒ¨ä¼šæŒ‡å®šä¸€ä¸ªé»˜è®¤çš„çº¿ç¨‹å <code>Thread-&lt;num&gt;</code>ã€‚</p><p><img src="/assets/35.33a24fbc.png" alt="" loading="lazy"></p><h3 id="_6-4-å®ˆæŠ¤çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_6-4-å®ˆæŠ¤çº¿ç¨‹" aria-hidden="true">#</a> 6.4 å®ˆæŠ¤çº¿ç¨‹</h3><h4 id="_6-4-1-ç”¨æˆ·çº¿ç¨‹-å®ˆæŠ¤çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_6-4-1-ç”¨æˆ·çº¿ç¨‹-å®ˆæŠ¤çº¿ç¨‹" aria-hidden="true">#</a> 6.4.1 ç”¨æˆ·çº¿ç¨‹&amp;å®ˆæŠ¤çº¿ç¨‹</h4><p>çº¿ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼šç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹ã€‚</p><p>å®ˆæŠ¤çº¿ç¨‹çš„ä½œç”¨å°±æ˜¯ç»™ç”¨æˆ·çº¿ç¨‹æä¾›æœåŠ¡çš„ã€‚</p><p>å½“ä¸€ä¸ªè¿›ç¨‹ä¸­æ²¡æœ‰ç”¨æˆ·çº¿ç¨‹æ—¶ï¼Œå³ä½¿è¿˜å­˜åœ¨å®ˆæŠ¤çº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿›ç¨‹ä¹Ÿä¼šç»“æŸè¿è¡Œã€‚</p><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ˆæŠ¤çº¿ç¨‹çš„è¿è¡Œä¸ä¼šå½±å“ <code>JVM</code> è™šæ‹Ÿæœºè¿›ç¨‹çš„å…³é—­ã€‚å½“è¿›ç¨‹å…³é—­æ—¶ï¼Œå…¶ä¸­è¿è¡Œçš„å®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šç»ˆæ­¢ã€‚</p></blockquote><p>åœ¨ä¸æ‰‹åŠ¨ä¿®æ”¹çš„æƒ…å†µä¸‹ï¼š</p><ol><li>åœ¨ç”¨æˆ·çº¿ç¨‹ä¸­åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤å°±æ˜¯ç”¨æˆ·çº¿ç¨‹ï¼›</li><li>åœ¨å®ˆæŠ¤çº¿ç¨‹ä¸­åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤å°±æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚</li></ol><p>é€šå¸¸åœ°ï¼Œæ‰€æœ‰çš„å®ˆæŠ¤çº¿ç¨‹éƒ½æ˜¯ç”± <code>JVM</code> è‡ªè¡Œå¯åŠ¨çš„ã€‚åœ¨è¿è¡Œä¸€ä¸ª <code>Java</code> ç¨‹åºæ—¶ï¼Œ<code>JVM</code> åªä¼šå¯åŠ¨ä¸€ä¸ªç”¨æˆ·çº¿ç¨‹ï¼ˆå³æ‰§è¡Œ <code>main</code> å‡½æ•°çš„é‚£ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯çº¿ç¨‹ <code>main</code>ï¼‰ï¼Œè€Œå…¶ä»–è¢«å¯åŠ¨çš„éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚</p><p>åªè¦ç”¨æˆ·çº¿ç¨‹å¯åŠ¨åæœªç»ˆæ­¢ï¼Œé‚£ä¹ˆ <code>JVM</code> è™šæ‹Ÿæœºè¿›ç¨‹å°±ä¸ä¼šç»“æŸã€‚å½“ç”¨æˆ·çº¿ç¨‹ç»ˆæ­¢åï¼Œè‹¥è¿›ç¨‹ä¸­åªå­˜åœ¨å®ˆæŠ¤çº¿ç¨‹äº†ï¼Œé‚£ä¹ˆ <code>JVM</code> è™šæ‹Ÿæœºä¼šæ— è§†å®ˆæŠ¤çº¿ç¨‹ï¼Œç…§æ ·ç»“æŸè¿›ç¨‹ã€‚</p><h4 id="_6-4-2-è®¾ç½®å®ˆæŠ¤çº¿ç¨‹-setedaemon-true" tabindex="-1"><a class="header-anchor" href="#_6-4-2-è®¾ç½®å®ˆæŠ¤çº¿ç¨‹-setedaemon-true" aria-hidden="true">#</a> 6.4.2 è®¾ç½®å®ˆæŠ¤çº¿ç¨‹ï¼ˆ<code>seteDaemon(true)</code>ï¼‰</h4><p>è°ƒç”¨ <code>Thread.setDaemon(true)</code> å¯ä»¥å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚</p><blockquote><p>æ³¨æ„ï¼š<strong>å¿…é¡»åœ¨è°ƒç”¨ <code>start()</code> æ–¹æ³•å‰</strong>ï¼Œè°ƒç”¨ <code>setDaemon(true) å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</code>ã€‚</p></blockquote><p><img src="/assets/36.b0d2ce84.png" alt="" loading="lazy"></p><h4 id="_6-4-3-å¸¸è§é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#_6-4-3-å¸¸è§é¢è¯•é¢˜" aria-hidden="true">#</a> 6.4.3 å¸¸è§é¢è¯•é¢˜</h4><h5 id="_6-4-3-1-å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹-ç”¨æˆ·çº¿ç¨‹-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_6-4-3-1-å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹-ç”¨æˆ·çº¿ç¨‹-çš„åŒºåˆ«" aria-hidden="true">#</a> 6.4.3.1 å®ˆæŠ¤çº¿ç¨‹å’Œæ™®é€šçº¿ç¨‹ï¼ˆç”¨æˆ·çº¿ç¨‹ï¼‰çš„åŒºåˆ«</h5><p>å®ˆæŠ¤çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹ï¼ˆå³æ™®é€šçº¿ç¨‹ï¼‰æ•´ä½“ä¸Šæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œæœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºï¼š</p><ol><li>å½“ <code>JVM</code> è™šæ‹Ÿæœºè¿›ç¨‹ä¸­åªå­˜åœ¨å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼Œ<code>JVM</code> è™šæ‹Ÿæœºè¿›ç¨‹ä¼šç»“æŸé€€å‡ºï¼›</li><li>å½“ <code>JVM</code> è™šæ‹Ÿæœºè¿›ç¨‹ä¸­è¿˜å­˜åœ¨ç”¨æˆ·çº¿ç¨‹æ—¶ï¼Œ<code>JVM</code> è™šæ‹Ÿæœºè¿›ç¨‹ä¸ä¼šç»“æŸé€€å‡ºã€‚</li></ol><p>å¦å¤–å®ƒä»¬çš„ä½œç”¨ä¹Ÿä¸åŒï¼š</p><ol><li>ç”¨æˆ·çº¿ç¨‹æ˜¯æ‰§è¡Œæˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç çš„ï¼›</li><li>å®ˆæŠ¤çº¿ç¨‹æ˜¯ä¸ºç”¨æˆ·çº¿ç¨‹æä¾›æœåŠ¡çš„ã€‚</li></ol><h5 id="_6-4-3-2-æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#_6-4-3-2-æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹" aria-hidden="true">#</a> 6.4.3.2 æˆ‘ä»¬æ˜¯å¦éœ€è¦å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Ÿ</h5><p>ä¸å»ºè®®å°†çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚</p><p>å¦‚æœè®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œé‚£ä¹ˆå½“å…¶ä»–çš„ç”¨æˆ·çº¿ç¨‹å…¨éƒ¨ç»ˆæ­¢åï¼Œ<code>JVM</code> è™šæ‹Ÿæœºä¼šé€€å‡ºã€‚æ­¤æ—¶ï¼Œè¢«è®¾ç½®æˆå®ˆæŠ¤çº¿ç¨‹ä¸­çš„ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®æ— æ³•å…¨éƒ¨å¤„ç†å®Œæ¯•ï¼Œä»è€Œå®¹æ˜“å¯¼è‡´å¼‚å¸¸çš„å‘ç”Ÿã€‚</p><h3 id="_6-5-çº¿ç¨‹ä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#_6-5-çº¿ç¨‹ä¼˜å…ˆçº§" aria-hidden="true">#</a> 6.5 çº¿ç¨‹ä¼˜å…ˆçº§</h3><h4 id="_6-5-1-ä¼˜å…ˆçº§çš„èŒƒå›´" tabindex="-1"><a class="header-anchor" href="#_6-5-1-ä¼˜å…ˆçº§çš„èŒƒå›´" aria-hidden="true">#</a> 6.5.1 ä¼˜å…ˆçº§çš„èŒƒå›´</h4><p><code>Java</code> ä¸ºçº¿ç¨‹å®šä¹‰äº† <code>[1, 10]</code> èŒƒå›´å†…çš„ä¼˜å…ˆçº§ï¼Œé»˜è®¤æ˜¯ <code>5</code>ã€‚</p><p><img src="/assets/37.8a393661.png" alt="" loading="lazy"></p><p><img src="/assets/38.16b3e389.png" alt="" loading="lazy"></p><h4 id="_6-5-2-ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#_6-5-2-ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§" aria-hidden="true">#</a> 6.5.2 ç¨‹åºè®¾è®¡ä¸å»ºè®®ä¾èµ–äºä¼˜å…ˆçº§</h4><p>ç¨‹åºè®¾è®¡ä¸åº”ä¾èµ–äºä¼˜å…ˆçº§ï¼Œå› ä¸ºï¼š</p><ol><li>è™½ç„¶ <code>Java</code> ä¸ºçº¿ç¨‹å®šä¹‰äº† <code>[1, 10]</code> èŒƒå›´å†…çš„ä¼˜å…ˆçº§ï¼Œä½†æ˜¯ä¸åŒæ“ä½œç³»ç»Ÿå®šä¹‰çš„ä¼˜å…ˆçº§èŒƒå›´æ˜¯ä¸åŒçš„ã€‚äºæ˜¯ï¼Œ<code>JVM</code> å°±ä¼šè®© <code>Java</code> å±‚çš„çº¿ç¨‹ä¼˜å…ˆçº§ä¸å…·ä½“æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹ä¼˜å…ˆçº§å»ºç«‹æ˜ å°„å…³ç³»ï¼Œè€Œè¿™ç§æ˜ å°„å…³ç³»å¯¹ä¸åŒçš„æ“ä½œç³»ç»Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨ <code>Java</code> å±‚æŒ‡å®šçš„çº¿ç¨‹ä¼˜å…ˆçº§ï¼Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸­ä¼šå­˜åœ¨è¾ƒå¤§çš„åŒºåˆ«ã€‚</li><li>æœ‰çš„æ“ä½œç³»ç»Ÿä¼šæé«˜å¯¹ <code>CPU</code> èµ„æºå ç”¨æ—¶é—´è¾ƒé•¿çš„çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</li></ol><h2 id="_7-çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸-uncaughtexception-çš„å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_7-çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸-uncaughtexception-çš„å¤„ç†" aria-hidden="true">#</a> 7. çº¿ç¨‹çš„æœªæ•è·å¼‚å¸¸ <code>UncaughtException</code> çš„å¤„ç†</h2><h3 id="_7-1-é€šè¿‡-uncaughtexceptionhandler-å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸" tabindex="-1"><a class="header-anchor" href="#_7-1-é€šè¿‡-uncaughtexceptionhandler-å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸" aria-hidden="true">#</a> 7.1 é€šè¿‡ <code>UncaughtExceptionHandler</code> å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸</h3><p>å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸çš„ä¸¤ç§æ–¹æ¡ˆï¼š</p><ol><li>æ‰‹åŠ¨åœ¨æ¯ä¸ª <code>run</code> æ–¹æ³•é‡Œè¿›è¡Œ <code>try-catch</code>ï¼ˆä¸æ¨èï¼‰ï¼›</li><li>åˆ©ç”¨ <code>UncaughtExceptionHandler</code>ï¼ˆæ¨èï¼‰ã€‚</li></ol><p>ä¸ºä»€ä¹ˆéœ€è¦ <code>UncaughtExceptionHandler</code>ï¼Ÿ</p><ol><li><p>ä¸»çº¿ç¨‹å¯ä»¥è½»æ¾å‘ç°å¼‚å¸¸ï¼Œå­çº¿ç¨‹å´ä¸è¡Œï¼›</p><blockquote><p>ä¸»çº¿ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœæœªæ•è·ï¼Œé‚£ä¹ˆè¿›ç¨‹ä¼šç»“æŸé€€å‡ºã€‚</p><p>ä½†æ˜¯ï¼Œå­çº¿ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœæœªæ•è·ï¼Œé‚£ä¹ˆè¿›ç¨‹æ˜¯ä¸ä¼šé€€å‡ºçš„ã€‚</p><p>æ­¤æ—¶ï¼Œè™½ç„¶ä»æ—¥å¿—ä¸­èƒ½å¤Ÿæ‰¾åˆ°å­çº¿ç¨‹çš„å¼‚å¸¸ä¿¡æ¯ï¼Œä½†æ˜¯å½“æ—¥å¿—è¾ƒå¤šæ—¶ï¼Œä¹Ÿéš¾ä»¥å‘ç°ã€‚</p></blockquote></li><li><p>å­çº¿ç¨‹å¼‚å¸¸æ— æ³•ç”¨ä¼ ç»Ÿæ–¹æ³•æ•è·ï¼›</p><blockquote><p><code>try-catch</code> åªèƒ½æ•è·å½“å‰çº¿ç¨‹ä¸­å‘ç”Ÿåœ¨ <code>try-catch</code> ä»£ç å—å†…çš„å¼‚å¸¸ã€‚å¦‚æœ <code>try-catch</code> ä»£ç å—åœ¨çº¿ç¨‹ <code>A</code> ä¸­æ‰§è¡Œï¼Œ<code>try-catch</code> ä»£ç å—å†…å¯åŠ¨äº†ä¸€ä¸ªå­çº¿ç¨‹ï¼Œé‚£ä¹ˆå­çº¿ç¨‹çš„ <code>run</code> æ–¹æ³•ä¸­æŠ›å‡ºçš„å¼‚å¸¸æ˜¯æ— æ³•è¢«çº¿ç¨‹ <code>A</code> ä¸­çš„ <code>try-catch</code> æ•è·åˆ°çš„ã€‚</p></blockquote><p><img src="/assets/39.a084c807.png" alt="" loading="lazy"></p></li><li><p>å¯¹äºæ— æ³•ç›´æ¥æ•è·çš„å¼‚å¸¸ï¼Œå¯ä»¥ä½¿ç”¨ <code>UncaughtExceptionHandler</code> æ¥ç»Ÿä¸€å¤„ç†ï¼Œæé«˜å¥å£®æ€§ã€‚</p></li></ol><h3 id="_7-2-æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥-uncaughtexceptionhandler-çš„å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#_7-2-æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥-uncaughtexceptionhandler-çš„å·¥ä½œåŸç†" aria-hidden="true">#</a> 7.2 æœªæ•è·å¼‚å¸¸çš„åˆ†å‘å¤„ç†ç­–ç•¥ï¼ˆ<code>UncaughtExceptionHandler</code> çš„å·¥ä½œåŸç†ï¼‰</h3><p><img src="/assets/40.17f601f5.png" alt="" loading="lazy"></p><div class="md-enhance-mermaid loading" data-code="sequenceDiagram%0A%20%20%20%20participant%20T%20as%20Thread%0A%20%20%20%20Note%20over%20TG%20%3A%20ThreadGroup%20%E5%AE%9E%E7%8E%B0%E4%BA%86%20UncaughtExceptionHandler%20%E6%8E%A5%E5%8F%A3%0A%20%20%20%20participant%20TG%20as%20ThreadGroup%0A%20%20%20%20participant%20UEH%20as%20UncaughtExceptionHandler%0A%0A%20%20%20%20T%20-%3E%3E%20T%20%3A%20dispatchUncaughtException(exception)%0A%20%20%20%20activate%20T%0A%20%20%20%20%20%20%20%20alt%20uncaughtExceptionHandler%20%3D%3D%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20T%20-%3E%3E%20TG%20%3A%20group.uncaughtException(thread%2C%20%20exception)%0A%20%20%20%20%20%20%20%20%20%20%20%20activate%20TG%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20TG%20-%3E%3E%20T%20%3A%20getDefaultUncaughtExceptionHandler()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20T%20--%3E%3E%20TG%20%3A%20return%20defaultUeh%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20TG%20-%3E%3E%20UEH%20%3A%20defaultUeh.uncaughtException(thread%2C%20exception)%0A%20%20%20%20%20%20%20%20%20%20%20%20deactivate%20TG%0A%20%20%20%20%20%20%20%20else%20uncaughtExceptionHandler%20!%3D%20null%0A%20%20%20%20%20%20%20%20%20%20%20%20Note%20over%20T%2CUEH%20%3A%20Thread%20%E9%80%9A%E8%BF%87%20setUncaughtExceptionHandler%20%E6%8C%87%E5%AE%9A%E4%BA%86%E7%89%B9%E5%AE%9A%E7%9A%84%20UncaughtExceptionHandler%0A%20%20%20%20%20%20%20%20%20%20%20%20T%20-%3E%3E%20UEH%20%3A%20uncaughtException(thread%2C%20exception)%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20deactivate%20T%0A"><svg xmlns="http://www.w3.org/2000/svg" class="icon loading-icon" viewbox="0 0 1024 1024" arialabelledby="loading"><title id="loading" lang="en">loading icon</title><g fill="currentColor"><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="0s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="0s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.333s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.333s"></animate></circle><circle cx="50" cy="50" r="0" fill="none" stroke="currentColor" strokewidth="2"><animate attributename="r" repeatcount="indefinite" dur="1s" values="0;40" keytimes="0;1" keysplines="0 0.2 0.8 1" calcmode="spline" begin="-0.667s"></animate><animate attributename="opacity" repeatcount="indefinite" dur="1s" values="1;0" keytimes="0;1" keysplines="0.2 0 0.8 1" calcmode="spline" begin="-0.667s"></animate></circle></g></svg></div><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p><ol><li><p>å½“çº¿ç¨‹ä¸­å‡ºç°æœªæ•è·çš„å¼‚å¸¸æ—¶ï¼Œ<code>JVM</code> ä¼šè°ƒç”¨ <code>dispatchUncaughtException</code> æ–¹æ³•è·å–ä¸€ä¸ª <code>UncaughtExceptionHandler</code> å®ä¾‹ï¼Œè°ƒç”¨è¯¥å®ä¾‹çš„ <code>uncaughtException</code> æ–¹æ³•æ¥å¤„ç†æœªæ•è·çš„å¼‚å¸¸ã€‚</p></li><li><p>å¦‚æœå‡ºç°æœªæ•è·å¼‚å¸¸çš„çº¿ç¨‹å®ä¾‹ä¸­ï¼Œæ²¡æœ‰é€šè¿‡ <code>setUncaughtExceptionHandler</code> æ–¹æ³•è®¾ç½®ä¸€ä¸ªè¯¥çº¿ç¨‹å®ä¾‹ç‰¹æœ‰çš„ <code>UncaughtExceptionHandler</code>ï¼Œé‚£ä¹ˆå°±å°†è¯¥çº¿ç¨‹æ‰€åœ¨çš„çº¿ç¨‹ç»„ <code>group</code> ä½œä¸º <code>UncaughtExceptionHandler</code>ã€‚</p><blockquote><p><code>ThreadGroup</code> å®ç°äº† <code>UncaughtExceptionHandler</code>ï¼Œé‡å†™äº† <code>uncaughtException</code> æ–¹æ³•ã€‚</p></blockquote></li><li><p>åœ¨ <code>ThreadGroup</code> é‡å†™çš„ <code>uncaughtException</code> æ–¹æ³•ä¸­ï¼Œåˆå°è¯•å»è°ƒç”¨ä¸€ä¸ªé»˜è®¤çš„ <code>UncaughtExceptionHandler</code> æ¥å¤„ç†å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®é»˜è®¤çš„ <code>UncaughtExceptionHandler</code>ï¼Œé‚£ä¹ˆå°±ä»…ä»…æŠŠå¼‚å¸¸ä¿¡æ¯æ‰“å°å‡ºæ¥ã€‚</p></li></ol><blockquote><p>æ³¨æ„ï¼š</p><p><code>Thread.setUncaughtExceptionHandler(ueh)</code> æ˜¯ä¸€ä¸ªéé™æ€æˆå‘˜æ–¹æ³•ï¼Œç”¨æ¥è®¾ç½®ä¸€ä¸ªçº¿ç¨‹å®ä¾‹ç‰¹æœ‰çš„ <code>UncaughtExceptionHandler</code>ã€‚</p><p><code>Thread.setDefaultUncaughtExceptionHandler(defUeh)</code> æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜æ–¹æ³•ï¼Œç”¨æ¥è®¾ç½®ä¸€ä¸ªæ‰€æœ‰çº¿ç¨‹å®ä¾‹å…±æœ‰çš„é»˜è®¤ <code>UncaughtExceptionHandler</code>ã€‚</p></blockquote><h3 id="_7-3-uncaughtexceptionhandler-çš„ä½¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_7-3-uncaughtexceptionhandler-çš„ä½¿ç”¨ç¤ºä¾‹" aria-hidden="true">#</a> 7.3 <code>UncaughtExceptionHandler</code> çš„ä½¿ç”¨ç¤ºä¾‹</h3><p><img src="/assets/41.9c342733.png" alt="" loading="lazy"></p><h3 id="_7-4-å¸¸è§é¢è¯•é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_7-4-å¸¸è§é¢è¯•é—®é¢˜" aria-hidden="true">#</a> 7.4 å¸¸è§é¢è¯•é—®é¢˜</h3><h4 id="_7-4-1-å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸-ä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†-ä¸å¤„ç†è¡Œä¸è¡Œ" tabindex="-1"><a class="header-anchor" href="#_7-4-1-å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸-ä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†-ä¸å¤„ç†è¡Œä¸è¡Œ" aria-hidden="true">#</a> 7.4.1 å¦‚ä½•å…¨å±€å¤„ç†å¼‚å¸¸ï¼Ÿä¸ºä»€ä¹ˆè¦å…¨å±€å¤„ç†ï¼Ÿä¸å¤„ç†è¡Œä¸è¡Œï¼Ÿ</h4><p>è°ƒç”¨é™æ€æ–¹æ³• <code>Thread.setDefaultUncaughtExceptionHandler(defUeh)</code> å¯ä»¥ä¸ºæ‰€æœ‰çº¿ç¨‹å®ä¾‹è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„ <code>UncaughtExceptionHandler</code>ã€‚é€šè¿‡é‡å†™è¿™ä¸ªé»˜è®¤çš„ <code>UncaughtExceptionHandler</code> çš„ <code>uncaughtException</code> æ–¹æ³•æ¥å®ç°å¯¹æ‰€æœ‰çº¿ç¨‹ä¸­æœªæ•è·å¼‚å¸¸çš„å¤„ç†ï¼Œä»è€Œå¯ä»¥ç»Ÿä¸€åœ°å°†æœªæ•è·åˆ°çš„å¼‚å¸¸ä¿å­˜è¿›æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚å¦‚æœä¸å¤„ç†è¿™äº›æœªæ•è·çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆå½“å‡ºç°é—®é¢˜æ—¶ï¼Œæ˜¯å¾ˆéš¾æ’æŸ¥çš„ã€‚</p><h4 id="_7-4-2-run-æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸-å¦‚æœæŠ›å‡ºå¼‚å¸¸-çº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·" tabindex="-1"><a class="header-anchor" href="#_7-4-2-run-æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸-å¦‚æœæŠ›å‡ºå¼‚å¸¸-çº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·" aria-hidden="true">#</a> 7.4.2 <code>run</code> æ–¹æ³•æ˜¯å¦å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Ÿå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œçº¿ç¨‹çš„çŠ¶æ€ä¼šæ€æ ·ï¼Ÿ</h4><p>ç”±äº <code>run</code> æ–¹æ³•åœ¨å®šä¹‰æ—¶å¹¶æ²¡æœ‰åœ¨æ–¹æ³•ç­¾åä¸Šå£°æ˜ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ‰€ä»¥åœ¨é‡å†™ <code>run</code> æ–¹æ³•æ—¶ï¼Œä¸èƒ½åœ¨ <code>run</code> æ–¹æ³•ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œåªèƒ½é€šè¿‡ <code>try-catch</code> æ•è·å¼‚å¸¸ã€‚</p><p>å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°±ä¸ä¼šè¢«æ•è·åˆ°ï¼Œä»è€Œä½¿å¾—çº¿ç¨‹å› ä¸ºè¿™ä¸ªæœªæ•è·çš„å¼‚å¸¸è€Œè¿›å…¥ç»ˆæ­¢çŠ¶æ€ã€‚</p><h4 id="_7-4-3-çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸" tabindex="-1"><a class="header-anchor" href="#_7-4-3-çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸" aria-hidden="true">#</a> 7.4.3 çº¿ç¨‹ä¸­å¦‚ä½•å¤„ç†æŸä¸ªæœªå¤„ç†å¼‚å¸¸ï¼Ÿ</h4><p>é€šè¿‡è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„ <code>UncaughtExceptionHandler</code> æ¥å¤„ç†æœªæ•è·çš„å¼‚å¸¸ã€‚</p><h2 id="_8-å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜-çº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢" tabindex="-1"><a class="header-anchor" href="#_8-å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜-çº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢" aria-hidden="true">#</a> 8. å¤šçº¿ç¨‹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼ˆçº¿ç¨‹å¼•å…¥çš„å¼€é”€ã€ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼‰</h2><h3 id="_8-1-çº¿ç¨‹å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#_8-1-çº¿ç¨‹å®‰å…¨" aria-hidden="true">#</a> 8.1 çº¿ç¨‹å®‰å…¨</h3><h4 id="_8-1-2-ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#_8-1-2-ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨" aria-hidden="true">#</a> 8.1.2 ä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨ï¼Ÿ</h4><p>ã€Š<code>Java Concurrency In Practice</code>ã€‹ çš„ä½œè€… <code>Brian Goetz</code> å¯¹çº¿ç¨‹å®‰å…¨æœ‰ä¸€ä¸ªæ¯”è¾ƒæ°å½“çš„å®šä¹‰ï¼š</p><div class="language-text ext-text"><pre class="language-text"><code>å½“å¤šä¸ªçº¿ç¨‹è®¿é—®ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œ
å¦‚æœä¸ç”¨è€ƒè™‘è¿™äº›çº¿ç¨‹åœ¨è¿è¡Œæ—¶ç¯å¢ƒä¸‹çš„è°ƒåº¦å’Œäº¤æ›¿æ‰§è¡Œï¼Œä¹Ÿä¸éœ€è¦è¿›è¡Œé¢å¤–çš„åŒæ­¥ï¼Œ
æˆ–è€…åœ¨è°ƒç”¨æ–¹è¿›è¡Œä»»ä½•å…¶ä»–çš„åè°ƒæ“ä½œï¼Œè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„è¡Œä¸ºéƒ½å¯ä»¥è·å¾—æ­£ç¡®çš„ç»“æœï¼Œ
é‚£ä¹ˆè¿™ä¸ªå¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚
</code></pre></div><blockquote><p>çº¿ç¨‹å®‰å…¨è€ƒè™‘çš„æ˜¯å¯¹ä¸€ä¸ª<strong>å¯¹è±¡</strong>çš„è®¿é—®æ˜¯ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p></blockquote><p>çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µï¼š</p><ol><li><code>get</code> åŒæ—¶ <code>set</code>ï¼› <blockquote><p>å¦‚æœå¤šçº¿ç¨‹ä¸­å­˜åœ¨å¯èƒ½åŒæ—¶å¯¹å®¹å™¨è¿›è¡Œ <code>get</code> å’Œ <code>set</code> çš„æ“ä½œï¼Œé‚£ä¹ˆå­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µã€‚</p></blockquote></li><li>é¢å¤–åŒæ­¥ <blockquote><p>å¦‚æœå¤šçº¿ç¨‹ä¸­ä½¿ç”¨äº† <code>synchronized</code> åŒæ­¥é”ï¼Œé‚£ä¹ˆè¯´æ˜ä¹Ÿå­˜åœ¨çº¿ç¨‹ä¸å®‰å…¨çš„æƒ…å†µï¼ˆå¦åˆ™æ²¡å¿…è¦åŠ é”ï¼‰ã€‚</p></blockquote></li></ol><p>ä¸è¦ä¸ºäº†çº¿ç¨‹å®‰å…¨è€Œè¿‡åº¦è®¾è®¡ã€‚</p><blockquote><p>çº¿ç¨‹å®‰å…¨å°±æ˜¯ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®å…±äº«æ•°æ®ã€‚å¦‚æœå¯¹ä¸ä¼šå­˜åœ¨å¤šçº¿ç¨‹åŒæ—¶è®¿é—®æ•°æ®çš„æ“ä½œä¹ŸåŠ é”ï¼Œé‚£ä¹ˆæœ¬æ¥å¯ä»¥å¤šçº¿ç¨‹è¿è¡Œçš„ç¨‹åºå°±å˜æˆåªèƒ½å•çº¿ç¨‹è¿è¡Œï¼Œé™ä½äº†è¿è¡Œé€Ÿåº¦ã€‚</p><p>å¹¶ä¸”ï¼Œçº¿ç¨‹å®‰å…¨çš„è®¾è®¡ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚ <code>CocurrentHashMap</code> ä¸ºäº†ä¿è¯çº¿ç¨‹å®‰å…¨åšäº†å¾ˆå¤šç²¾ç»†çš„è®¾è®¡ï¼Œè¿™ç§è®¾è®¡ä¸æ˜¯ä¸€ä¸‹å­å°±èƒ½æƒ³å‡ºæ¥çš„ï¼Œéœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´æˆæœ¬å’ŒäººåŠ›å»å®ç°ã€‚</p><p>æ‰€ä»¥ï¼Œåº”è¯¥æƒè¡¡æ¸…æ¥šå“ªäº›æ“ä½œéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨çš„é—®é¢˜ã€‚å¯¹äºä¸å­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ“ä½œä¸è¦è¿‡åº¦è®¾è®¡ã€‚</p></blockquote><h4 id="_8-1-2-ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜-æ€ä¹ˆé¿å…" tabindex="-1"><a class="header-anchor" href="#_8-1-2-ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜-æ€ä¹ˆé¿å…" aria-hidden="true">#</a> 8.1.2 ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ€ä¹ˆé¿å…ï¼Ÿ</h4><p>å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ä¸»è¦åˆ†ä¸¤ç§æƒ…å†µï¼š</p><ol><li>å¤šçº¿ç¨‹å¯¹å…±äº«æ•°æ®åŒæ—¶è¿›è¡Œå†™æ“ä½œï¼› <blockquote><p>æ­¤æ—¶ï¼Œå°±å¯èƒ½å‡ºç°å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹çš„å†™æ“ä½œè¦ä¹ˆè¢«ä¸¢å¼ƒï¼Œè¦ä¹ˆå†™å…¥çš„æ•°æ®å¼‚å¸¸ã€‚</p></blockquote></li><li>å¤šçº¿ç¨‹å¯¹å…±äº«æ•°æ®åŒæ—¶è¿›è¡Œè¯»å’Œå†™æ“ä½œã€‚ <blockquote><p>å³ï¼šå¦‚æœä¸€ä¸ªçº¿ç¨‹çš„è¯»æ“ä½œè¦åœ¨å¦ä¸€ä¸ªçº¿ç¨‹çš„å†™æ“ä½œä¹‹åè¿›è¡Œï¼Œé‚£ä¹ˆç”±äºæ— æ³•ä¿è¯çº¿ç¨‹ä¹‹é—´çš„æ‰§è¡Œé¡ºåºï¼Œå¯èƒ½ä½¿å¾—è¯»æ“ä½œçš„çº¿ç¨‹å…ˆæ‰§è¡Œï¼Œå†™æ“ä½œçš„çº¿ç¨‹åæ‰§è¡Œï¼Œä»è€Œå¯¼è‡´è¯»å–çš„æ•°æ®å¼‚å¸¸ã€‚</p></blockquote></li></ol><h5 id="_8-1-2-1-å¤šçº¿ç¨‹ä¸‹çš„-i-å¼‚å¸¸æƒ…å†µåˆ†æ" tabindex="-1"><a class="header-anchor" href="#_8-1-2-1-å¤šçº¿ç¨‹ä¸‹çš„-i-å¼‚å¸¸æƒ…å†µåˆ†æ" aria-hidden="true">#</a> 8.1.2.1 å¤šçº¿ç¨‹ä¸‹çš„ <code>i++</code> å¼‚å¸¸æƒ…å†µåˆ†æ</h5><p><img src="/assets/42.dc6b7362.png" alt="" loading="lazy"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p><div class="language-text ext-text"><pre class="language-text"><code>çº¿ç¨‹ 1 åœ¨å¼€å§‹æ‰§è¡Œ i+1ï¼Œå´è¿˜æ²¡å°†è¿ç®—ç»“æœèµ‹ç»™å˜é‡ i æ—¶ï¼Œåˆ‡æ¢åˆ°çº¿ç¨‹ 2ï¼Œ
çº¿ç¨‹ 2 åœ¨å¼€å§‹æ‰§è¡Œ i+1ï¼Œå´è¿˜æ²¡å°†è¿ç®—ç»“æœèµ‹ç»™å˜é‡ i æ—¶ï¼Œåˆåˆ‡æ¢åˆ°çº¿ç¨‹ 1ï¼Œ
çº¿ç¨‹ 1 ç»§ç»­è¿ç®— i+1ï¼Œå¾—åˆ°ç»“æœ 2 èµ‹ç»™å˜é‡ iï¼Œç„¶ååˆ‡æ¢åˆ°çº¿ç¨‹ 2ï¼Œ
çº¿ç¨‹ 2 ç»§ç»­è¿ç®— i+1ï¼Œå¾—åˆ°ç»“æœ 2 èµ‹ç»™å˜é‡ iã€‚
äºæ˜¯ï¼Œå‡ºç°å˜é‡ i æ‰§è¡Œäº†ä¸¤æ¬¡ +1ï¼Œå´æ²¡èƒ½å¾—åˆ°ç»“æœ 3 çš„æƒ…å†µã€‚
</code></pre></div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼Œæ— æ³•ä¿è¯çº¿ç¨‹ä¹‹é—´çš„ä¿®æ”¹èƒ½å¤Ÿæ­£å¸¸åœ° â€œå åŠ â€ã€‚æœ‰å¯èƒ½å‡ºç°æŸä¸ªçº¿ç¨‹çš„ä¿®æ”¹è¢«å…¶ä»–çº¿ç¨‹çš„ä¿®æ”¹æ‰€ â€œè¦†ç›–â€ çš„æƒ…å†µã€‚</p><p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œå¯ä»¥é€šè¿‡ <code>AtomicInteger</code> è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p><img src="/assets/43.fcc41fe2.png" alt="" loading="lazy"></p><h5 id="_8-1-2-2-æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ" tabindex="-1"><a class="header-anchor" href="#_8-1-2-2-æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ" aria-hidden="true">#</a> 8.1.2.2 æ¼”ç¤ºæ­»é”çš„äº§ç”Ÿ</h5><p><img src="/assets/44.aa3e73d3.png" alt="" loading="lazy"></p><h5 id="_8-1-2-3-å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_8-1-2-3-å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜" aria-hidden="true">#</a> 8.1.2.3 å¯¹è±¡å‘å¸ƒå’Œåˆå§‹åŒ–æ—¶çš„å®‰å…¨é—®é¢˜</h5><h6 id="å¯¹è±¡çš„å‘å¸ƒ" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡çš„å‘å¸ƒ" aria-hidden="true">#</a> å¯¹è±¡çš„å‘å¸ƒ</h6><p>å¯¹è±¡çš„å‘å¸ƒå°±æ˜¯é€šè¿‡è°ƒç”¨æ–¹æ³• ï¼Œå°†å¯¹è±¡ <code>return</code> å‡ºå»ç»™å¤–ç•Œä½¿ç”¨ã€‚</p><h6 id="å¯¹è±¡çš„é€¸å‡º-é€ƒé€¸-åŠç›¸å…³åœºæ™¯åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡çš„é€¸å‡º-é€ƒé€¸-åŠç›¸å…³åœºæ™¯åˆ†æ" aria-hidden="true">#</a> å¯¹è±¡çš„é€¸å‡ºï¼ˆé€ƒé€¸ï¼‰åŠç›¸å…³åœºæ™¯åˆ†æ</h6><p>é€¸å‡ºå°±æ˜¯å‘å¸ƒå‡ºå»çš„å¯¹è±¡å¹¶ä¸æ˜¯ä¸€ä¸ªåº”è¯¥è¢«å¤–ç•Œè®¿é—®çš„å¯¹è±¡ï¼Œæˆ–è€…å‘å¸ƒå‡ºå»çš„å¯¹è±¡è¿˜æœªåˆå§‹åŒ–å®Œæˆï¼Œå¦‚ï¼š</p><ol><li><p>æ–¹æ³•è¿”å›ä¸€ä¸ª <code>private</code> å¯¹è±¡ï¼ˆ<code>private</code> çš„æœ¬æ„æ˜¯ä¸è®©å¤–éƒ¨è®¿é—®ï¼‰ï¼›</p><p><img src="/assets/45.e8e97bff.png" alt="" loading="lazy"></p></li><li><p>è¿˜æœªå®Œæˆåˆå§‹åŒ–ï¼ˆæ„é€ å‡½æ•°æ²¡å®Œå…¨æ‰§è¡Œå®Œæ¯•ï¼‰å°±æŠŠå¯¹è±¡æä¾›ç»™å¤–ç•Œï¼Œå¦‚ï¼š</p><ol><li><p>åœ¨æ„é€ å‡½æ•°ä¸­æœªåˆå§‹åŒ–å®Œæ¯•å°± <code>this</code> èµ‹å€¼ï¼›</p><p><img src="/assets/46.76c8a35d.png" alt="" loading="lazy"></p></li><li><p>éšå¼é€¸å‡ºï¼ˆå¦‚æ³¨å†Œç›‘å¬äº‹ä»¶ï¼‰ï¼›</p><p><img src="/assets/47.fae80caf.png" alt="" loading="lazy"><img src="/assets/48.3b3cadb6.png" alt="" loading="lazy"></p></li><li><p>æ„é€ å‡½æ•°ä¸­è¿è¡Œçº¿ç¨‹ã€‚</p><p><img src="/assets/49.3f70177e.png" alt="" loading="lazy"></p></li></ol></li></ol><h3 id="_8-2-æ€§èƒ½é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_8-2-æ€§èƒ½é—®é¢˜" aria-hidden="true">#</a> 8.2 æ€§èƒ½é—®é¢˜</h3><p><img src="/assets/50.28c0d3cb.png" alt="" loading="lazy"></p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zengkaiqiang562/JavaGuide/edit/main/docs/zkq/java/thread.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/7/7 23:59:00</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zengk</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zkq/java/genericity.html" class="nav-link prev" arialabel="æ³›å‹ç¼–ç¨‹ï¼ˆTODOï¼‰"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->æ³›å‹ç¼–ç¨‹ï¼ˆTODOï¼‰</div></a><a href="/zkq/java/threadpool.html" class="nav-link next" arialabel="çº¿ç¨‹æ± "><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">çº¿ç¨‹æ± <!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright Â© 2023 Zenk562</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.625aa393.js" defer></script>
  </body>
</html>
