<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zengkaiqiang562.github.io/zkq/kotlin/5-advanced-function.html"><meta property="og:site_name" content="Android Guide"><meta property="og:title" content="å‡½æ•°è¿›é˜¶"><meta property="og:type" content="article"><meta property="og:image" content="https://zengkaiqiang562.github.io/"><meta property="og:updated_time" content="2022-07-06T10:07:29.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="å‡½æ•°è¿›é˜¶"><meta property="article:tag" content="kotlin"><meta property="article:modified_time" content="2022-07-06T10:07:29.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2922463_99aa80ii7cf.css"><title>å‡½æ•°è¿›é˜¶ | Android Guide</title><meta name="description" content="Android å­¦ä¹  && é¢è¯•æŒ‡å—">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.c9a516cc.css">
    <link rel="modulepreload" href="/assets/app.2a01fc36.js"><link rel="modulepreload" href="/assets/5-advanced-function.html.13de0bfc.js"><link rel="modulepreload" href="/assets/5-advanced-function.html.b276fbeb.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.png" alt="Android Guide"><!----><span class="site-name hide-in-pad">Android Guide</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" arialabel="é¢è¯•æŒ‡å—"><i class="icon iconfont icon-java"></i>é¢è¯•æŒ‡å—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zhuanlan/" class="nav-link" arialabel="ä¼˜è´¨ä¸“æ "><i class="icon iconfont icon-recommend"></i>ä¼˜è´¨ä¸“æ <!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" arialabel="é¡¹ç›®ç²¾é€‰"><i class="icon iconfont icon-github"></i>é¡¹ç›®ç²¾é€‰<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://snailclimb.gitee.io/javaguide/#/" rel="noopener noreferrer" target="_blank" arialabel="æ—§ç‰ˆé“¾æ¥" class="nav-link"><i class="icon iconfont icon-java"></i>æ—§ç‰ˆé“¾æ¥<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://javaguide.cn/feed.json" rel="noopener noreferrer" target="_blank" arialabel="RSSè®¢é˜…" class="nav-link"><i class="icon iconfont icon-rss"></i>RSSè®¢é˜…<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about-the-author/" class="nav-link" arialabel="å…³äºä½œè€…"><i class="icon iconfont icon-zuozhe"></i>å…³äºä½œè€…<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zengkaiqiang562/JavaGuide" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/zkq/kotlin/1-env-setup.html" class="nav-link sidebar-link sidebar-page" arialabel="å¼€å‘ç¯å¢ƒæ­å»º"><!---->å¼€å‘ç¯å¢ƒæ­å»º<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/2-built-in-type.html" class="nav-link sidebar-link sidebar-page" arialabel="å†…ç½®ç±»å‹"><!---->å†…ç½®ç±»å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/3-class.html" class="nav-link sidebar-link sidebar-page" arialabel="ç±»å‹åˆæ­¥"><!---->ç±»å‹åˆæ­¥<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/4-expression.html" class="nav-link sidebar-link sidebar-page" arialabel="è¡¨è¾¾å¼"><!---->è¡¨è¾¾å¼<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="å‡½æ•°è¿›é˜¶"><!---->å‡½æ•°è¿›é˜¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_1-é«˜é˜¶å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. é«˜é˜¶å‡½æ•°"><!---->1. é«˜é˜¶å‡½æ•°<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_1-1-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.1 ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°"><!---->1.1 ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_1-2-é«˜é˜¶å‡½æ•°ä¸¾ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2 é«˜é˜¶å‡½æ•°ä¸¾ä¾‹"><!---->1.2 é«˜é˜¶å‡½æ•°ä¸¾ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-å†…è”å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. å†…è”å‡½æ•°"><!---->2. å†…è”å‡½æ•°<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-1-é€šè¿‡å…³é”®å­—-inline-å£°æ˜å†…è”å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.1 é€šè¿‡å…³é”®å­— inline å£°æ˜å†…è”å‡½æ•°"><!---->2.1 é€šè¿‡å…³é”®å­— inline å£°æ˜å†…è”å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-2-å†…è”å‡½æ•°ä¸¾ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2 å†…è”å‡½æ•°ä¸¾ä¾‹"><!---->2.2 å†…è”å‡½æ•°ä¸¾ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-3-é«˜é˜¶å‡½æ•°å†…è”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.3 é«˜é˜¶å‡½æ•°å†…è”"><!---->2.3 é«˜é˜¶å‡½æ•°å†…è”<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-lambda-è¡¨è¾¾å¼ä¸­çš„-return-è¯­å¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3. Lambda è¡¨è¾¾å¼ä¸­çš„ return è¯­å¥"><!---->3. Lambda è¡¨è¾¾å¼ä¸­çš„ return è¯­å¥<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-1-ä¸€èˆ¬æƒ…å†µä¸‹-lambda-è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨-return-è¯­å¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.1 ä¸€èˆ¬æƒ…å†µä¸‹ Lambda è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨ return è¯­å¥"><!---->3.1 ä¸€èˆ¬æƒ…å†µä¸‹ Lambda è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨ return è¯­å¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-2-é«˜é˜¶å‡½æ•°ä¸­-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-funname-è¯­å¥çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.2 é«˜é˜¶å‡½æ•°ä¸­ Lambda è¡¨è¾¾å¼ä½œå®å‚æ—¶ return@funName è¯­å¥çš„ä½œç”¨"><!---->3.2 é«˜é˜¶å‡½æ•°ä¸­ Lambda è¡¨è¾¾å¼ä½œå®å‚æ—¶ return@funName è¯­å¥çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-3-é«˜é˜¶å‡½æ•°å†…è”æ—¶-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-è¯­å¥çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3.3 é«˜é˜¶å‡½æ•°å†…è”æ—¶ Lambda è¡¨è¾¾å¼ä½œå®å‚æ—¶ return è¯­å¥çš„ä½œç”¨"><!---->3.3 é«˜é˜¶å‡½æ•°å†…è”æ—¶ Lambda è¡¨è¾¾å¼ä½œå®å‚æ—¶ return è¯­å¥çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_4-å…³é”®å­—-noinline" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4. å…³é”®å­— noinline"><!---->4. å…³é”®å­— noinline<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_5-å…³é”®å­—-crossinline" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5. å…³é”®å­— crossinline"><!---->5. å…³é”®å­— crossinline<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_6-å†…è”å±æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6. å†…è”å±æ€§"><!---->6. å†…è”å±æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_7-å†…è”å‡½æ•°çš„é™åˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7. å†…è”å‡½æ•°çš„é™åˆ¶"><!---->7. å†…è”å‡½æ•°çš„é™åˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•-let-run-also-apply-use" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8. å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•ï¼šlet/run/also/apply/use"><!---->8. å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•ï¼šlet/run/also/apply/use<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-1-let" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1 let"><!---->8.1 let<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-1-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰"><!---->8.1.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-1-2-ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1.2 ä½œç”¨"><!---->8.1.2 ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-run" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2 run"><!---->8.2 run<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰"><!---->8.2.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-2-ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2.2 ä½œç”¨"><!---->8.2.2 ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-3-let-run-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2.3 let &amp; run çš„åŒºåˆ«"><!---->8.2.3 let &amp; run çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-4-let-run-çš„ç¤ºä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2.4 let &amp; run çš„ç¤ºä¾‹"><!---->8.2.4 let &amp; run çš„ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-3-also" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.3 also"><!---->8.3 also<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-3-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.3.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰"><!---->8.3.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-3-2-ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.3.2 ä½œç”¨"><!---->8.3.2 ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-apply" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.4 apply"><!---->8.4 apply<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.4.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰"><!---->8.4.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-2-ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.4.2 ä½œç”¨"><!---->8.4.2 ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-3-also-apply-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.4.3 also &amp; apply çš„åŒºåˆ«"><!---->8.4.3 also &amp; apply çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-4-also-apply-çš„ç¤ºä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.4.4 also &amp; apply çš„ç¤ºä¾‹"><!---->8.4.4 also &amp; apply çš„ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-use" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.5 use"><!---->8.5 use<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-1-å‡½æ•°å®šä¹‰-closeable-kt" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.5.1 å‡½æ•°å®šä¹‰ï¼ˆCloseable.ktï¼‰"><!---->8.5.1 å‡½æ•°å®šä¹‰ï¼ˆCloseable.ktï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-2-ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.5.2 ä½œç”¨"><!---->8.5.2 ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-3-ç¤ºä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.5.3 ç¤ºä¾‹"><!---->8.5.3 ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9. å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•"><!---->9. å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-1-æ¦‚è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.1 æ¦‚è¿°"><!---->9.1 æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-é›†åˆçš„éå†-æ‰©å±•æ–¹æ³•-foreach" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.2 é›†åˆçš„éå† &amp; æ‰©å±•æ–¹æ³• forEach"><!---->9.2 é›†åˆçš„éå† &amp; æ‰©å±•æ–¹æ³• forEach<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-1-æŒ‰ç´¢å¼•éå†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.2.1 æŒ‰ç´¢å¼•éå†"><!---->9.2.1 æŒ‰ç´¢å¼•éå†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-2-æŒ‰å…ƒç´ éå†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.2.2 æŒ‰å…ƒç´ éå†"><!---->9.2.2 æŒ‰å…ƒç´ éå†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-3-ä½¿ç”¨æ‰©å±•æ–¹æ³•-foreach-éå†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.2.3 ä½¿ç”¨æ‰©å±•æ–¹æ³• forEach éå†"><!---->9.2.3 ä½¿ç”¨æ‰©å±•æ–¹æ³• forEach éå†<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-3-é›†åˆè¿‡æ»¤-æ‰©å±•æ–¹æ³•-filter" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.3 é›†åˆè¿‡æ»¤ &amp; æ‰©å±•æ–¹æ³• filter"><!---->9.3 é›†åˆè¿‡æ»¤ &amp; æ‰©å±•æ–¹æ³• filter<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-4-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-map" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.4 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• map"><!---->9.4 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• map<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-5-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-flatmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.5 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• flatMap"><!---->9.5 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• flatMap<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-iterable-é›†åˆ-sequence-åºåˆ—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.6 Iterable é›†åˆ &amp; Sequence åºåˆ—"><!---->9.6 Iterable é›†åˆ &amp; Sequence åºåˆ—<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-1-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.6.1 Iterable é›†åˆçš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„ç‰¹ç‚¹"><!---->9.6.1 Iterable é›†åˆçš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„ç‰¹ç‚¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-2-iterable-é›†åˆè½¬-sequence-åºåˆ—-assequence" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.6.2 Iterable é›†åˆè½¬ Sequence åºåˆ—ï¼šasSequence"><!---->9.6.2 Iterable é›†åˆè½¬ Sequence åºåˆ—ï¼šasSequence<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-3-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„å®šä¹‰" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.6.3 Sequence åºåˆ—çš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„å®šä¹‰"><!---->9.6.3 Sequence åºåˆ—çš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„å®šä¹‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-4-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹-æ‡’åºåˆ—æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.6.4 Sequence åºåˆ—çš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„ç‰¹ç‚¹ï¼ˆæ‡’åºåˆ—æœºåˆ¶ï¼‰"><!---->9.6.4 Sequence åºåˆ—çš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„ç‰¹ç‚¹ï¼ˆæ‡’åºåˆ—æœºåˆ¶ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-5-ç¤ºä¾‹-assequence-æ‡’åºåˆ—æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.6.5 ç¤ºä¾‹ï¼šasSequence &amp; æ‡’åºåˆ—æœºåˆ¶"><!---->9.6.5 ç¤ºä¾‹ï¼šasSequence &amp; æ‡’åºåˆ—æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-7-é›†åˆå…ƒç´ æ±‚å’Œ-æ‰©å±•æ–¹æ³•-sum" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.7 é›†åˆå…ƒç´ æ±‚å’Œ &amp; æ‰©å±•æ–¹æ³• sum"><!---->9.7 é›†åˆå…ƒç´ æ±‚å’Œ &amp; æ‰©å±•æ–¹æ³• sum<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-8-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-reduce" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.8 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• reduce"><!---->9.8 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• reduce<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-9-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-fold" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="9.9 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• fold"><!---->9.9 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• fold<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-kotlin-ä¸­çš„åŒ¿åå†…éƒ¨ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10. Kotlin ä¸­çš„åŒ¿åå†…éƒ¨ç±»"><!---->10. Kotlin ä¸­çš„åŒ¿åå†…éƒ¨ç±»<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-1-kotlin-ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.1 Kotlin ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•"><!---->10.1 Kotlin ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-2-java-å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„-lambda-è¡¨è¾¾å¼ç®€åŒ–å†™æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.2 Java å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„ Lambda è¡¨è¾¾å¼ç®€åŒ–å†™æ³•"><!---->10.2 Java å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„ Lambda è¡¨è¾¾å¼ç®€åŒ–å†™æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-3-ç¤ºä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10.3 ç¤ºä¾‹"><!---->10.3 ç¤ºä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-sam-è½¬æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11. SAM è½¬æ¢"><!---->11. SAM è½¬æ¢<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-1-ä»€ä¹ˆæ˜¯-sam-è½¬æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.1 ä»€ä¹ˆæ˜¯ SAM è½¬æ¢"><!---->11.1 ä»€ä¹ˆæ˜¯ SAM è½¬æ¢<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-2-kotlin-ä¸­çš„-sam-è½¬æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.2 Kotlin ä¸­çš„ SAM è½¬æ¢"><!---->11.2 Kotlin ä¸­çš„ SAM è½¬æ¢<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-3-å®ç°-kotlin-ä¸­çš„-sam-è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.3 å®ç° Kotlin ä¸­çš„ SAM è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶"><!---->11.3 å®ç° Kotlin ä¸­çš„ SAM è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-4-ç¤ºä¾‹-1-kotlin-ä¸­çš„-sam-è½¬æ¢çš„åŸºæœ¬ç”¨æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.4 ç¤ºä¾‹ 1ï¼šKotlin ä¸­çš„ SAM è½¬æ¢çš„åŸºæœ¬ç”¨æ³•"><!---->11.4 ç¤ºä¾‹ 1ï¼šKotlin ä¸­çš„ SAM è½¬æ¢çš„åŸºæœ¬ç”¨æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-5-ç¤ºä¾‹-2-æ¯æ¬¡-sam-è½¬æ¢-lambda-è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.5 ç¤ºä¾‹ 2ï¼šæ¯æ¬¡ SAM è½¬æ¢ Lambda è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡"><!---->11.5 ç¤ºä¾‹ 2ï¼šæ¯æ¬¡ SAM è½¬æ¢ Lambda è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-6-ç¤ºä¾‹-3-é¿å…-sam-è½¬æ¢æ—¶-lambda-è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.6 ç¤ºä¾‹ 3ï¼šé¿å… SAM è½¬æ¢æ—¶ Lambda è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡"><!---->11.6 ç¤ºä¾‹ 3ï¼šé¿å… SAM è½¬æ¢æ—¶ Lambda è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-æ¡ˆä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12. æ¡ˆä¾‹"><!---->12. æ¡ˆä¾‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-æ¡ˆä¾‹-1-ç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1 æ¡ˆä¾‹ 1ï¼šç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°"><!---->12.1 æ¡ˆä¾‹ 1ï¼šç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-ç›¸å…³çŸ¥è¯†ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1.1 ç›¸å…³çŸ¥è¯†ç‚¹"><!---->12.1.1 ç›¸å…³çŸ¥è¯†ç‚¹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-1-file-çš„æ‰©å±•æ–¹æ³•-readtext" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1.1.1 File çš„æ‰©å±•æ–¹æ³• readText"><!---->12.1.1.1 File çš„æ‰©å±•æ–¹æ³• readText<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-2-æ•°ç»„çš„æ‰©å±•æ–¹æ³•-filternot" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1.1.2 æ•°ç»„çš„æ‰©å±•æ–¹æ³• filterNot"><!---->12.1.1.2 æ•°ç»„çš„æ‰©å±•æ–¹æ³• filterNot<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-3-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-groupby" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1.1.3 Iterable é›†åˆçš„æ‰©å±•æ–¹æ³• groupBy"><!---->12.1.1.3 Iterable é›†åˆçš„æ‰©å±•æ–¹æ³• groupBy<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-4-map-æ˜ å°„çš„æ‰©å±•æ–¹æ³•-map" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1.1.4 Map æ˜ å°„çš„æ‰©å±•æ–¹æ³• map"><!---->12.1.1.4 Map æ˜ å°„çš„æ‰©å±•æ–¹æ³• map<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-2-ä»£ç å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1.2 ä»£ç å®ç°"><!---->12.1.2 ä»£ç å®ç°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-æ¡ˆä¾‹-2-kotlin-å®ç°-html" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2 æ¡ˆä¾‹ 2ï¼šKotlin å®ç° Html"><!---->12.2 æ¡ˆä¾‹ 2ï¼šKotlin å®ç° Html<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-ç›¸å…³çŸ¥è¯†ç‚¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2.1 ç›¸å…³çŸ¥è¯†ç‚¹"><!---->12.2.1 ç›¸å…³çŸ¥è¯†ç‚¹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-1-this-outclass-çš„ä½œç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2.1.1 this@OutClass çš„ä½œç”¨"><!---->12.2.1.1 this@OutClass çš„ä½œç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-2-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2.1.2 &quot;..&quot;{...} &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°"><!---->12.2.1.2 &quot;..&quot;{...} &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-3-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2.1.3 &quot;..&quot;(...) &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°"><!---->12.2.1.3 &quot;..&quot;(...) &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-4-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2.1.4 +&quot;...&quot; &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°"><!---->12.2.1.4 +&quot;...&quot; &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-2-ä»£ç å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2.2 ä»£ç å®ç°"><!---->12.2.2 ä»£ç å®ç°<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/6-advanced-class.html" class="nav-link sidebar-link sidebar-page" arialabel="ç±»å‹è¿›é˜¶"><!---->ç±»å‹è¿›é˜¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/7-genericity.html" class="nav-link sidebar-link sidebar-page" arialabel="Kotlinæ³›å‹"><!---->Kotlinæ³›å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/8-reflection.html" class="nav-link sidebar-link sidebar-page" arialabel="Kotlinåå°„"><!---->Kotlinåå°„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/9-annotation.html" class="nav-link sidebar-link sidebar-page" arialabel="Kotlinæ³¨è§£"><!---->Kotlinæ³¨è§£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/kotlin/10-coroutine.html" class="nav-link sidebar-link sidebar-page" arialabel="Kotlinåç¨‹ï¼ˆTODOï¼‰"><!---->Kotlinåç¨‹ï¼ˆTODOï¼‰<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->å‡½æ•°è¿›é˜¶</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://zengkaiqiang562.github.io/" target="_blank" rel="noopener noreferrer">Zenk562</a></span><span property="author" content="Zenk562"></span></span><span class="category-info" arialabel="åˆ†ç±»ğŸŒˆ" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">kotlin</li><meta property="articleSection" content="kotlin"></ul></span><span arialabel="æ ‡ç­¾ğŸ·" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">kotlin</li></ul><meta property="keywords" content="kotlin"></span><span class="date-info" arialabel="å†™ä½œæ—¥æœŸğŸ“…" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022å¹´7æœˆ6æ—¥</span><meta property="datePublished" content="2022-07-06T10:07:29.000Z"></span><!----><span class="words-info" arialabel="å­—æ•°ğŸ” " isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>çº¦ 6566 å­—</span><meta property="wordCount" content="6566"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_1-é«˜é˜¶å‡½æ•°" class="router-link-active router-link-exact-active toc-link level2">1. é«˜é˜¶å‡½æ•°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_1-1-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">1.1 ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_1-2-é«˜é˜¶å‡½æ•°ä¸¾ä¾‹" class="router-link-active router-link-exact-active toc-link level3">1.2 é«˜é˜¶å‡½æ•°ä¸¾ä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-å†…è”å‡½æ•°" class="router-link-active router-link-exact-active toc-link level2">2. å†…è”å‡½æ•°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-1-é€šè¿‡å…³é”®å­—-inline-å£°æ˜å†…è”å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">2.1 é€šè¿‡å…³é”®å­— inline å£°æ˜å†…è”å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-2-å†…è”å‡½æ•°ä¸¾ä¾‹" class="router-link-active router-link-exact-active toc-link level3">2.2 å†…è”å‡½æ•°ä¸¾ä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_2-3-é«˜é˜¶å‡½æ•°å†…è”" class="router-link-active router-link-exact-active toc-link level3">2.3 é«˜é˜¶å‡½æ•°å†…è”</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-lambda-è¡¨è¾¾å¼ä¸­çš„-return-è¯­å¥" class="router-link-active router-link-exact-active toc-link level2">3. Lambda è¡¨è¾¾å¼ä¸­çš„ return è¯­å¥</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-1-ä¸€èˆ¬æƒ…å†µä¸‹-lambda-è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨-return-è¯­å¥" class="router-link-active router-link-exact-active toc-link level3">3.1 ä¸€èˆ¬æƒ…å†µä¸‹ Lambda è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨ return è¯­å¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-2-é«˜é˜¶å‡½æ•°ä¸­-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-funname-è¯­å¥çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">3.2 é«˜é˜¶å‡½æ•°ä¸­ Lambda è¡¨è¾¾å¼ä½œå®å‚æ—¶ return@funName è¯­å¥çš„ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_3-3-é«˜é˜¶å‡½æ•°å†…è”æ—¶-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-è¯­å¥çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level3">3.3 é«˜é˜¶å‡½æ•°å†…è”æ—¶ Lambda è¡¨è¾¾å¼ä½œå®å‚æ—¶ return è¯­å¥çš„ä½œç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_4-å…³é”®å­—-noinline" class="router-link-active router-link-exact-active toc-link level2">4. å…³é”®å­— noinline</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_5-å…³é”®å­—-crossinline" class="router-link-active router-link-exact-active toc-link level2">5. å…³é”®å­— crossinline</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_6-å†…è”å±æ€§" class="router-link-active router-link-exact-active toc-link level2">6. å†…è”å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_7-å†…è”å‡½æ•°çš„é™åˆ¶" class="router-link-active router-link-exact-active toc-link level2">7. å†…è”å‡½æ•°çš„é™åˆ¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•-let-run-also-apply-use" class="router-link-active router-link-exact-active toc-link level2">8. å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•ï¼šlet/run/also/apply/use</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-1-let" class="router-link-active router-link-exact-active toc-link level3">8.1 let</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-1-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active toc-link level4">8.1.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-1-2-ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">8.1.2 ä½œç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-run" class="router-link-active router-link-exact-active toc-link level3">8.2 run</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active toc-link level4">8.2.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-2-ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">8.2.2 ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-3-let-run-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level4">8.2.3 let &amp; run çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-2-4-let-run-çš„ç¤ºä¾‹" class="router-link-active router-link-exact-active toc-link level4">8.2.4 let &amp; run çš„ç¤ºä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-3-also" class="router-link-active router-link-exact-active toc-link level3">8.3 also</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-3-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active toc-link level4">8.3.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-3-2-ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">8.3.2 ä½œç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-apply" class="router-link-active router-link-exact-active toc-link level3">8.4 apply</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-1-å‡½æ•°å®šä¹‰-standard-kt" class="router-link-active router-link-exact-active toc-link level4">8.4.1 å‡½æ•°å®šä¹‰ï¼ˆStandard.ktï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-2-ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">8.4.2 ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-3-also-apply-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level4">8.4.3 also &amp; apply çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-4-4-also-apply-çš„ç¤ºä¾‹" class="router-link-active router-link-exact-active toc-link level4">8.4.4 also &amp; apply çš„ç¤ºä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-use" class="router-link-active router-link-exact-active toc-link level3">8.5 use</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-1-å‡½æ•°å®šä¹‰-closeable-kt" class="router-link-active router-link-exact-active toc-link level4">8.5.1 å‡½æ•°å®šä¹‰ï¼ˆCloseable.ktï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-2-ä½œç”¨" class="router-link-active router-link-exact-active toc-link level4">8.5.2 ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_8-5-3-ç¤ºä¾‹" class="router-link-active router-link-exact-active toc-link level4">8.5.3 ç¤ºä¾‹</a></li><!----><!--]--></ul><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level2">9. å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-1-æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">9.1 æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-é›†åˆçš„éå†-æ‰©å±•æ–¹æ³•-foreach" class="router-link-active router-link-exact-active toc-link level3">9.2 é›†åˆçš„éå† &amp; æ‰©å±•æ–¹æ³• forEach</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-1-æŒ‰ç´¢å¼•éå†" class="router-link-active router-link-exact-active toc-link level4">9.2.1 æŒ‰ç´¢å¼•éå†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-2-æŒ‰å…ƒç´ éå†" class="router-link-active router-link-exact-active toc-link level4">9.2.2 æŒ‰å…ƒç´ éå†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-2-3-ä½¿ç”¨æ‰©å±•æ–¹æ³•-foreach-éå†" class="router-link-active router-link-exact-active toc-link level4">9.2.3 ä½¿ç”¨æ‰©å±•æ–¹æ³• forEach éå†</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-3-é›†åˆè¿‡æ»¤-æ‰©å±•æ–¹æ³•-filter" class="router-link-active router-link-exact-active toc-link level3">9.3 é›†åˆè¿‡æ»¤ &amp; æ‰©å±•æ–¹æ³• filter</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-4-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-map" class="router-link-active router-link-exact-active toc-link level3">9.4 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• map</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-5-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-flatmap" class="router-link-active router-link-exact-active toc-link level3">9.5 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• flatMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-iterable-é›†åˆ-sequence-åºåˆ—" class="router-link-active router-link-exact-active toc-link level3">9.6 Iterable é›†åˆ &amp; Sequence åºåˆ—</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-1-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹" class="router-link-active router-link-exact-active toc-link level4">9.6.1 Iterable é›†åˆçš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„ç‰¹ç‚¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-2-iterable-é›†åˆè½¬-sequence-åºåˆ—-assequence" class="router-link-active router-link-exact-active toc-link level4">9.6.2 Iterable é›†åˆè½¬ Sequence åºåˆ—ï¼šasSequence</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-3-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„å®šä¹‰" class="router-link-active router-link-exact-active toc-link level4">9.6.3 Sequence åºåˆ—çš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„å®šä¹‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-4-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹-æ‡’åºåˆ—æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level4">9.6.4 Sequence åºåˆ—çš„æ‰©å±•æ–¹æ³• filterã€mapã€flatMap çš„ç‰¹ç‚¹ï¼ˆæ‡’åºåˆ—æœºåˆ¶ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-6-5-ç¤ºä¾‹-assequence-æ‡’åºåˆ—æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level4">9.6.5 ç¤ºä¾‹ï¼šasSequence &amp; æ‡’åºåˆ—æœºåˆ¶</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-7-é›†åˆå…ƒç´ æ±‚å’Œ-æ‰©å±•æ–¹æ³•-sum" class="router-link-active router-link-exact-active toc-link level3">9.7 é›†åˆå…ƒç´ æ±‚å’Œ &amp; æ‰©å±•æ–¹æ³• sum</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-8-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-reduce" class="router-link-active router-link-exact-active toc-link level3">9.8 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• reduce</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_9-9-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-fold" class="router-link-active router-link-exact-active toc-link level3">9.9 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• fold</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-kotlin-ä¸­çš„åŒ¿åå†…éƒ¨ç±»" class="router-link-active router-link-exact-active toc-link level2">10. Kotlin ä¸­çš„åŒ¿åå†…éƒ¨ç±»</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-1-kotlin-ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•" class="router-link-active router-link-exact-active toc-link level3">10.1 Kotlin ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-2-java-å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„-lambda-è¡¨è¾¾å¼ç®€åŒ–å†™æ³•" class="router-link-active router-link-exact-active toc-link level3">10.2 Java å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„ Lambda è¡¨è¾¾å¼ç®€åŒ–å†™æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_10-3-ç¤ºä¾‹" class="router-link-active router-link-exact-active toc-link level3">10.3 ç¤ºä¾‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-sam-è½¬æ¢" class="router-link-active router-link-exact-active toc-link level2">11. SAM è½¬æ¢</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-1-ä»€ä¹ˆæ˜¯-sam-è½¬æ¢" class="router-link-active router-link-exact-active toc-link level3">11.1 ä»€ä¹ˆæ˜¯ SAM è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-2-kotlin-ä¸­çš„-sam-è½¬æ¢" class="router-link-active router-link-exact-active toc-link level3">11.2 Kotlin ä¸­çš„ SAM è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-3-å®ç°-kotlin-ä¸­çš„-sam-è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶" class="router-link-active router-link-exact-active toc-link level3">11.3 å®ç° Kotlin ä¸­çš„ SAM è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-4-ç¤ºä¾‹-1-kotlin-ä¸­çš„-sam-è½¬æ¢çš„åŸºæœ¬ç”¨æ³•" class="router-link-active router-link-exact-active toc-link level3">11.4 ç¤ºä¾‹ 1ï¼šKotlin ä¸­çš„ SAM è½¬æ¢çš„åŸºæœ¬ç”¨æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-5-ç¤ºä¾‹-2-æ¯æ¬¡-sam-è½¬æ¢-lambda-è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">11.5 ç¤ºä¾‹ 2ï¼šæ¯æ¬¡ SAM è½¬æ¢ Lambda è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_11-6-ç¤ºä¾‹-3-é¿å…-sam-è½¬æ¢æ—¶-lambda-è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">11.6 ç¤ºä¾‹ 3ï¼šé¿å… SAM è½¬æ¢æ—¶ Lambda è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-æ¡ˆä¾‹" class="router-link-active router-link-exact-active toc-link level2">12. æ¡ˆä¾‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-æ¡ˆä¾‹-1-ç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°" class="router-link-active router-link-exact-active toc-link level3">12.1 æ¡ˆä¾‹ 1ï¼šç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-ç›¸å…³çŸ¥è¯†ç‚¹" class="router-link-active router-link-exact-active toc-link level4">12.1.1 ç›¸å…³çŸ¥è¯†ç‚¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-1-file-çš„æ‰©å±•æ–¹æ³•-readtext" class="router-link-active router-link-exact-active toc-link level5">12.1.1.1 File çš„æ‰©å±•æ–¹æ³• readText</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-2-æ•°ç»„çš„æ‰©å±•æ–¹æ³•-filternot" class="router-link-active router-link-exact-active toc-link level5">12.1.1.2 æ•°ç»„çš„æ‰©å±•æ–¹æ³• filterNot</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-3-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-groupby" class="router-link-active router-link-exact-active toc-link level5">12.1.1.3 Iterable é›†åˆçš„æ‰©å±•æ–¹æ³• groupBy</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-1-4-map-æ˜ å°„çš„æ‰©å±•æ–¹æ³•-map" class="router-link-active router-link-exact-active toc-link level5">12.1.1.4 Map æ˜ å°„çš„æ‰©å±•æ–¹æ³• map</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-1-2-ä»£ç å®ç°" class="router-link-active router-link-exact-active toc-link level4">12.1.2 ä»£ç å®ç°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-æ¡ˆä¾‹-2-kotlin-å®ç°-html" class="router-link-active router-link-exact-active toc-link level3">12.2 æ¡ˆä¾‹ 2ï¼šKotlin å®ç° Html</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-ç›¸å…³çŸ¥è¯†ç‚¹" class="router-link-active router-link-exact-active toc-link level4">12.2.1 ç›¸å…³çŸ¥è¯†ç‚¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-1-this-outclass-çš„ä½œç”¨" class="router-link-active router-link-exact-active toc-link level5">12.2.1.1 this@OutClass çš„ä½œç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-2-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" class="router-link-active router-link-exact-active toc-link level5">12.2.1.2 &quot;..&quot;{...} &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-3-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" class="router-link-active router-link-exact-active toc-link level5">12.2.1.3 &quot;..&quot;(...) &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-1-4-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" class="router-link-active router-link-exact-active toc-link level5">12.2.1.4 +&quot;...&quot; &amp; String çš„è¿ç®—ç¬¦ &quot;()&quot; çš„é‡è½½å‡½æ•°</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/kotlin/5-advanced-function.html#_12-2-2-ä»£ç å®ç°" class="router-link-active router-link-exact-active toc-link level4">12.2.2 ä»£ç å®ç°</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="_1-é«˜é˜¶å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_1-é«˜é˜¶å‡½æ•°" aria-hidden="true">#</a> 1. é«˜é˜¶å‡½æ•°</h2><h3 id="_1-1-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°" aria-hidden="true">#</a> 1.1 ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°</h3><p>ä»¥ä¸‹ <code>2</code> ç‚¹è‡³å°‘æ»¡è¶³å…¶ä¸€çš„å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°ï¼š</p><ol><li><p>å½¢å‚åˆ—è¡¨ä¸­åŒ…å«å‡½æ•°ç±»å‹çš„å‚æ•°</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">//å‚æ•° paramN å¯ä»¥æ˜¯ï¼šå‡½æ•°å¼•ç”¨ã€å‡½æ•°ç±»å‹å˜é‡ã€æˆ– Lambda è¡¨è¾¾å¼ã€‚</span>
<span class="token keyword">fun</span> <span class="token function">funName</span><span class="token punctuation">(</span>param1<span class="token operator">:</span> Type1<span class="token punctuation">,</span> param2<span class="token operator">:</span> Type2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">,</span> paramN<span class="token operator">:</span> <span class="token punctuation">(</span>p1<span class="token operator">:</span> T1<span class="token punctuation">,</span> p2<span class="token operator">:</span> T2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> RT<span class="token punctuation">)</span><span class="token operator">:</span> ReturnType <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>è¿”å›å€¼ç±»å‹æ˜¯å‡½æ•°ç±»å‹</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">funName</span><span class="token punctuation">(</span>param1<span class="token operator">:</span> Type1<span class="token punctuation">,</span> param2<span class="token operator">:</span> Type2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span>p1<span class="token operator">:</span> T1<span class="token punctuation">,</span> p2<span class="token operator">:</span> T2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> RT <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token comment">//å¯ä»¥è¿”å›ï¼šå‡½æ•°å¼•ç”¨ã€å‡½æ•°ç±»å‹å˜é‡ã€æˆ– Lambda è¡¨è¾¾å¼ã€‚</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol><h3 id="_1-2-é«˜é˜¶å‡½æ•°ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#_1-2-é«˜é˜¶å‡½æ•°ä¸¾ä¾‹" aria-hidden="true">#</a> 1.2 é«˜é˜¶å‡½æ•°ä¸¾ä¾‹</h3><p><img src="/assets/01.666e80ca.png" alt="" loading="lazy"></p><h2 id="_2-å†…è”å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_2-å†…è”å‡½æ•°" aria-hidden="true">#</a> 2. å†…è”å‡½æ•°</h2><h3 id="_2-1-é€šè¿‡å…³é”®å­—-inline-å£°æ˜å†…è”å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_2-1-é€šè¿‡å…³é”®å­—-inline-å£°æ˜å†…è”å‡½æ•°" aria-hidden="true">#</a> 2.1 é€šè¿‡å…³é”®å­— <code>inline</code> å£°æ˜å†…è”å‡½æ•°</h3><p><code>Kotlin</code> ä¸­çš„å†…è”å‡½æ•°ç±»ä¼¼äº <code>C++</code> ä¸­çš„å†…è”å‡½æ•°ï¼Œéƒ½æ˜¯åœ¨å‡½æ•°åŸå‹å‰é¢åŠ  <code>inline</code> å…³é”®å­—å£°æ˜ä¸€ä¸ªå†…è”å‡½æ•°ã€‚</p><h3 id="_2-2-å†…è”å‡½æ•°ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-2-å†…è”å‡½æ•°ä¸¾ä¾‹" aria-hidden="true">#</a> 2.2 å†…è”å‡½æ•°ä¸¾ä¾‹</h3><p>å†…è”å‡½æ•°çš„å®šä¹‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">cost</span><span class="token punctuation">(</span>block<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> start <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMills</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">block</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">currentTimeMills</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å†…è”å‡½æ•°çš„è°ƒç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>cost <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Hello&quot;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç¼–è¯‘åçš„å†…è”å‡½æ•°è°ƒç”¨å¤„çš„ä»£ç ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> start <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">currentTimeMills</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Hello&quot;</span></span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">currentTimeMills</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-3-é«˜é˜¶å‡½æ•°å†…è”" tabindex="-1"><a class="header-anchor" href="#_2-3-é«˜é˜¶å‡½æ•°å†…è”" aria-hidden="true">#</a> 2.3 é«˜é˜¶å‡½æ•°å†…è”</h3><p>å†…è”å‡½æ•°å¸¸ä¸é«˜é˜¶å‡½æ•°æ­é…ä½¿ç”¨ï¼Œå³ï¼šé«˜é˜¶å‡½æ•°å†…è”ã€‚</p><p>é«˜é˜¶å‡½æ•°å†…è”åŒ…å«ä¸¤ä¸ªæ–¹é¢çš„å†…å®¹ï¼š</p><ol><li><p>é«˜é˜¶å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå‡½æ•°ç±»å‹çš„å®å‚å†…è”åˆ°é«˜é˜¶å‡½æ•°å†…éƒ¨çš„è°ƒç”¨å¤„ï¼›</p></li><li><p>é«˜é˜¶å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé«˜é˜¶å‡½æ•°æœ¬èº«å†…è”åˆ°ä¸»è°ƒå‡½æ•°çš„è°ƒç”¨å¤„ã€‚</p></li></ol><h2 id="_3-lambda-è¡¨è¾¾å¼ä¸­çš„-return-è¯­å¥" tabindex="-1"><a class="header-anchor" href="#_3-lambda-è¡¨è¾¾å¼ä¸­çš„-return-è¯­å¥" aria-hidden="true">#</a> 3. <code>Lambda</code> è¡¨è¾¾å¼ä¸­çš„ <code>return</code> è¯­å¥</h2><h3 id="_3-1-ä¸€èˆ¬æƒ…å†µä¸‹-lambda-è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨-return-è¯­å¥" tabindex="-1"><a class="header-anchor" href="#_3-1-ä¸€èˆ¬æƒ…å†µä¸‹-lambda-è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨-return-è¯­å¥" aria-hidden="true">#</a> 3.1 ä¸€èˆ¬æƒ…å†µä¸‹ <code>Lambda</code> è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨ <code>return</code> è¯­å¥</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<code>Lambda</code> è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨ <code>return</code> è¯­å¥ã€‚</p><p><code>Lambda</code> è¡¨è¾¾å¼çš„å‡½æ•°ä½“çš„è¿”å›å€¼ç”±æœ€åä¸€æ¡æ‰§è¡Œè¯­å¥çš„ç»“æœå€¼ç¡®å®šã€‚</p><p><img src="/assets/02.7ce405db.png" alt="" loading="lazy"></p><h3 id="_3-2-é«˜é˜¶å‡½æ•°ä¸­-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-funname-è¯­å¥çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_3-2-é«˜é˜¶å‡½æ•°ä¸­-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-funname-è¯­å¥çš„ä½œç”¨" aria-hidden="true">#</a> 3.2 é«˜é˜¶å‡½æ•°ä¸­ <code>Lambda</code> è¡¨è¾¾å¼ä½œå®å‚æ—¶ <code>return@funName</code> è¯­å¥çš„ä½œç”¨</h3><p>å½“ <code>Lambda</code> è¡¨è¾¾å¼ä½œä¸ºé«˜é˜¶å‡½æ•° <code>funName</code> çš„å‡½æ•°ç±»å‹å‚æ•° <code>pfun</code> çš„å®å‚æ—¶ï¼Œå¯ä»¥åœ¨ <code>Lambda</code> è¡¨è¾¾å¼ä¸­æ‰§è¡Œ <code>return@funName</code>ã€‚</p><p>è¡¨ç¤ºç»“æŸæ‰§è¡Œ <code>Lambda</code> è¡¨è¾¾å¼ä¸­<code> return@funName</code> ä¹‹åçš„è¯­å¥ï¼Œç»§ç»­æ‰§è¡Œå‡½æ•° <code>funName</code> ä¸­è°ƒç”¨å‚æ•°å‡½æ•° <code>pfun</code> ä¹‹åçš„è¯­å¥ã€‚</p><p><img src="/assets/03.3102f4ac.png" alt="" loading="lazy"></p><h3 id="_3-3-é«˜é˜¶å‡½æ•°å†…è”æ—¶-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-è¯­å¥çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_3-3-é«˜é˜¶å‡½æ•°å†…è”æ—¶-lambda-è¡¨è¾¾å¼ä½œå®å‚æ—¶-return-è¯­å¥çš„ä½œç”¨" aria-hidden="true">#</a> 3.3 é«˜é˜¶å‡½æ•°å†…è”æ—¶ <code>Lambda</code> è¡¨è¾¾å¼ä½œå®å‚æ—¶ <code>return</code> è¯­å¥çš„ä½œç”¨</h3><p>å½“ <code>Lambda</code> è¡¨è¾¾å¼ä½œä¸ºå†…è”çš„é«˜é˜¶å‡½æ•° <code>funName</code> çš„å‡½æ•°ç±»å‹å‚æ•° <code>pfun</code> çš„å®å‚æ—¶ï¼Œå¯ä»¥åœ¨ <code>Lambda</code> è¡¨è¾¾å¼ä¸­ä½¿ç”¨ <code>return</code> è¯­å¥ã€‚</p><p>æ­¤æ—¶ï¼Œå› ä¸ºå†…è”çš„é«˜é˜¶å‡½æ•° <code>funName</code> ä½œä¸ºè¢«è°ƒå‡½æ•°æ—¶ï¼Œç¼–è¯‘åä¼šæŠŠ <code>Lambda</code> è¡¨è¾¾å¼çš„ä»£ç å’Œé«˜é˜¶å‡½æ•° <code>funName</code> çš„å‡½æ•°ä½“ä»£ç ç›´æ¥æ”¾åˆ°ä¸»è°ƒå‡½æ•°ä¸­ï¼Œæ‰€ä»¥ <code>Lambda</code> è¡¨è¾¾å¼ä¸­çš„ <code>return</code> è¯­å¥ç›¸å½“äºç›´æ¥å†™åœ¨ä¸»è°ƒå‡½æ•°ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶æ‰§è¡Œ <code>Lambda</code> è¡¨è¾¾å¼ä¸­çš„ <code>return</code> è¯­å¥ç›¸å½“äºç›´æ¥ç»“æŸä¸»è°ƒå‡½æ•°çš„æ‰§è¡Œã€‚</p><p><img src="/assets/04.77cc9c03.png" alt="" loading="lazy"></p><h2 id="_4-å…³é”®å­—-noinline" tabindex="-1"><a class="header-anchor" href="#_4-å…³é”®å­—-noinline" aria-hidden="true">#</a> 4. å…³é”®å­— <code>noinline</code></h2><p>å¯¹äºåŒ…å«å‡½æ•°ç±»å‹å‚æ•°çš„å†…è”é«˜é˜¶å‡½æ•° <code>funName</code>ï¼Œå½“è°ƒç”¨å†…è”é«˜é˜¶å‡½æ•°æ—¶ï¼Œå¦‚æœ <code>Lambda</code> è¡¨è¾¾å¼ä½œä¸ºå®å‚ï¼Œé‚£ä¹ˆ <code>Lambda</code> è¡¨è¾¾å¼é»˜è®¤ä¹Ÿä¼šå‚ä¸å†…è”ï¼Œå³é»˜è®¤ä¼šæŠŠ <code>Lambda</code> è¡¨è¾¾å¼çš„ä»£ç åœ¨å†…è”å‡½æ•°ä¸­çš„è°ƒç”¨å¤„å±•å¼€ã€‚</p><p>ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ <strong>ä¸æƒ³è®©ä½œä¸ºå®å‚çš„ <code>Lambda</code> è¡¨è¾¾å¼å‚ä¸å†…è”</strong>ï¼Œé‚£ä¹ˆæ­¤æ—¶éœ€è¦ä½¿ç”¨å…³é”®å­— <code>noinline</code> ä¿®é¥°å¯¹åº”çš„å‡½æ•°ç±»å‹å‚æ•°ã€‚</p><blockquote><p><strong>æ³¨æ„</strong>ï¼šä¸å‚ä¸å†…è”çš„ <code>Lambda</code> è¡¨è¾¾å¼ï¼Œæ˜¯ä¸å…è®¸ä½¿ç”¨ <code>return</code> è¯­å¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ <code>Lambda</code> è¡¨è¾¾å¼ä½œä¸ºè¢« <code>noinline</code> ä¿®é¥°çš„å‡½æ•°ç±»å‹å‚æ•°çš„å®å‚æ—¶ï¼Œè¯¥ <code>Lambda</code> è¡¨è¾¾å¼ä¸­ä¸å…è®¸ä½¿ç”¨ <code>return</code> è¯­å¥ã€‚</p></blockquote><p><img src="/assets/05.6079bd97.png" alt="" loading="lazy"></p><h2 id="_5-å…³é”®å­—-crossinline" tabindex="-1"><a class="header-anchor" href="#_5-å…³é”®å­—-crossinline" aria-hidden="true">#</a> 5. å…³é”®å­— <code>crossinline</code></h2><p>å¯¹äºå‚ä¸å†…è”çš„ <code>Lambda</code> è¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨ <code>return</code> è¯­å¥ã€‚å¹¶ä¸”æ‰§è¡Œè¯¥ <code>return</code> è¯­å¥å°±æ˜¯ç»“æŸè°ƒç”¨å†…è”å‡½æ•°çš„ä¸»è°ƒå‡½æ•°çš„æ‰§è¡Œã€‚</p><p>ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸æƒ³è®©å‚ä¸å†…è”çš„ <code>Lambda</code> è¡¨è¾¾å¼æ‹¥æœ‰è¿™ä¹ˆå¤§çš„æƒé™ï¼Œäºæ˜¯å¯ä»¥ä½¿ç”¨å…³é”®å­— <code>crossinline</code> å£°æ˜ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°ï¼Œè¿™å°±æ„å‘³ç€ä½œä¸ºè¯¥å‡½æ•°ç±»å‹å‚æ•°çš„å®å‚çš„ <strong><code>Lambda</code> è¡¨è¾¾å¼è™½ç„¶å¯ä»¥å‚ä¸å†…è”ï¼Œä½†ä¸å…è®¸ä½¿ç”¨ <code>return</code> è¯­å¥</strong>ã€‚</p><p><img src="/assets/06.e008ad08.png" alt="" loading="lazy"></p><h2 id="_6-å†…è”å±æ€§" tabindex="-1"><a class="header-anchor" href="#_6-å†…è”å±æ€§" aria-hidden="true">#</a> 6. å†…è”å±æ€§</h2><p>è‹¥å±æ€§çš„ <code>setter</code>/<code>getter</code> æ–¹æ³•è¢«å…³é”®å­— <code>inline</code> ä¿®é¥°ï¼Œåˆ™ç§°è¯¥å±æ€§ç§°ä¸º <strong>å†…è”å±æ€§</strong>ã€‚</p><p>æ³¨æ„ï¼šå†…è”å±æ€§ä¸å¯ä»¥æœ‰ <code>backing field</code></p><p>ä¹Ÿå°±è¯´æ˜¯ï¼š</p><ol><li><p>æˆå‘˜å±æ€§ä¸å¯ä»¥ä½œä¸ºå†…è”å±æ€§ï¼Œå³æˆå‘˜å±æ€§çš„ <code>setter</code>/<code>getter</code> æ–¹æ³•ä¸èƒ½è¢« <code>inline</code> ä¿®é¥°</p></li><li><p>æ‰©å±•å±æ€§å¯ä»¥ä½œä¸ºå†…è”å±æ€§ï¼Œå³æ‰©å±•å±æ€§çš„ <code>setter</code>/<code>getter</code> æ–¹æ³•å¯ä»¥è¢« <code>inline</code> ä¿®é¥°</p></li></ol><h2 id="_7-å†…è”å‡½æ•°çš„é™åˆ¶" tabindex="-1"><a class="header-anchor" href="#_7-å†…è”å‡½æ•°çš„é™åˆ¶" aria-hidden="true">#</a> 7. å†…è”å‡½æ•°çš„é™åˆ¶</h2><ol><li><p>è®¿é—®æƒé™ä¸º <code>public</code>/<code>protected</code> çš„å†…è”æˆå‘˜æ–¹æ³•ä¸­ï¼Œä¸èƒ½è®¿é—® <code>private</code> ä¿®é¥°çš„ç§æœ‰æˆå‘˜ã€‚</p><blockquote><p>è¿™æ˜¯å› ä¸ºåœ¨ç±»å¤–è°ƒç”¨ <code>public</code>/<code>protected</code> ä¿®é¥°çš„å†…è”æˆå‘˜æ–¹æ³•æ—¶ï¼Œä¼šå°†å†…è”æˆå‘˜æ–¹æ³•çš„å‡½æ•°ä½“å±•å¼€åœ¨ç±»å¤–çš„è°ƒç”¨å¤„è¿™å°±ç›¸å½“äºç›´æ¥åœ¨ç±»å¤–è°ƒç”¨ç±»ä¸­çš„ç§æœ‰æˆå‘˜äº†ã€‚</p></blockquote><p><img src="/assets/07.583a636d.png" alt="" loading="lazy"></p></li><li><p>å‚ä¸å†…è”çš„å‡½æ•°ç±»å‹å‚æ•°ä¸èƒ½è¢«å­˜å‚¨ï¼ˆå³ä¸èƒ½å°†å‚ä¸å†…è”çš„å‡½æ•°ç±»å‹å‚æ•°èµ‹ç»™å˜é‡ï¼‰ã€‚</p><p><img src="/assets/08.58a8b9da.png" alt="" loading="lazy"></p></li><li><p>å½“å‡½æ•°åµŒå¥—è°ƒç”¨æ—¶ï¼Œå¤–å±‚å‡½æ•°ä¸­å‚ä¸å†…è”çš„å‡½æ•°ç±»å‹å‚æ•°åªèƒ½ä¼ é€’ç»™å†…å±‚å‡½æ•°ä¸­å‚ä¸å†…è”çš„å‡½æ•°ç±»å‹å‚æ•°ã€‚</p><p><img src="/assets/09.4cf74ef9.png" alt="" loading="lazy"></p></li></ol><h2 id="_8-å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•-let-run-also-apply-use" tabindex="-1"><a class="header-anchor" href="#_8-å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•-let-run-also-apply-use" aria-hidden="true">#</a> 8. å¸¸ç”¨çš„æ‰©å±•æ–¹æ³•ï¼š<code>let</code>/<code>run</code>/<code>also</code>/<code>apply</code>/<code>use</code></h2><h3 id="_8-1-let" tabindex="-1"><a class="header-anchor" href="#_8-1-let" aria-hidden="true">#</a> 8.1 <code>let</code></h3><h4 id="_8-1-1-å‡½æ•°å®šä¹‰-standard-kt" tabindex="-1"><a class="header-anchor" href="#_8-1-1-å‡½æ•°å®šä¹‰-standard-kt" aria-hidden="true">#</a> 8.1.1 å‡½æ•°å®šä¹‰ï¼ˆ<code>Standard.kt</code>ï¼‰</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">// å‡½æ•°å®šä¹‰ï¼ˆåœ¨ Standard.kt æ–‡ä»¶ä¸­å®šä¹‰ï¼‰</span>
<span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>internal<span class="token punctuation">.</span>InlineOnly
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> T<span class="token punctuation">.</span><span class="token function">let</span><span class="token punctuation">(</span>block<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> R <span class="token punctuation">{</span>
    contract <span class="token punctuation">{</span>
        <span class="token function">callsInPlace</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span> InvocationKind<span class="token punctuation">.</span>EXACTLY_ONCE<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-1-2-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_8-1-2-ä½œç”¨" aria-hidden="true">#</a> 8.1.2 ä½œç”¨</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• let çš„ Receiver æ˜¯æ³›å‹ Tï¼Œè¿™è¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œç”šè‡³æ˜¯å­—é¢é‡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ let æ–¹æ³•ã€‚

let æ–¹æ³•çš„åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹ä¸º <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R çš„å‚æ•° blockï¼Œåœ¨ let æ–¹æ³•ä¸­æ‰§è¡Œäº† <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>ï¼Œç”±æ­¤å¯çŸ¥ï¼š
<span class="token number">1</span><span class="token punctuation">.</span> å½“ Lambda è¡¨è¾¾å¼ä½œä¸º let æ–¹æ³•çš„å®å‚æ—¶ï¼ŒLambda è¡¨è¾¾å¼çš„é»˜è®¤å‚æ•° it å°±æ˜¯ let æ–¹æ³•çš„è°ƒç”¨è€…ï¼ˆå³ receiverï¼‰ï¼›
<span class="token number">2</span><span class="token punctuation">.</span> let æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ Lambda è¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚
</code></pre></div><h3 id="_8-2-run" tabindex="-1"><a class="header-anchor" href="#_8-2-run" aria-hidden="true">#</a> 8.2 <code>run</code></h3><h4 id="_8-2-1-å‡½æ•°å®šä¹‰-standard-kt" tabindex="-1"><a class="header-anchor" href="#_8-2-1-å‡½æ•°å®šä¹‰-standard-kt" aria-hidden="true">#</a> 8.2.1 å‡½æ•°å®šä¹‰ï¼ˆ<code>Standard.kt</code>ï¼‰</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>internal<span class="token punctuation">.</span>InlineOnly
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> T<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>block<span class="token operator">:</span> T<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> R <span class="token punctuation">{</span>
    contract <span class="token punctuation">{</span>
        <span class="token function">callsInPlace</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span> InvocationKind<span class="token punctuation">.</span>EXACTLY_ONCE<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-2-2-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_8-2-2-ä½œç”¨" aria-hidden="true">#</a> 8.2.2 ä½œç”¨</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• run çš„ Receiver æ˜¯æ³›å‹ Tï¼Œè¿™è¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œç”šè‡³æ˜¯å­—é¢é‡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ run æ–¹æ³•ã€‚

run æ–¹æ³•çš„åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹ä¸º T<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R çš„å‚æ•° blockï¼Œåœ¨ run æ–¹æ³•ä¸­æ‰§è¡Œäº† <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œç”±æ­¤å¯çŸ¥ï¼š
<span class="token number">1</span><span class="token punctuation">.</span> å½“ Lambda è¡¨è¾¾å¼ä½œä¸º run æ–¹æ³•çš„å®å‚æ—¶ï¼ŒLambda è¡¨è¾¾å¼æ˜¯æ— å‚æ•°çš„ã€‚
   ä½†æ˜¯ä»å‡½æ•°ç±»å‹ T<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R å¯ä»¥çœ‹å‡ºï¼ŒLambda è¡¨è¾¾å¼ä¸­å­˜åœ¨ <span class="token keyword">this</span>ï¼Œ<span class="token keyword">this</span> æŒ‡å‘ run æ–¹æ³•çš„è°ƒç”¨è€…ï¼ˆå³ receiverï¼‰ã€‚
<span class="token number">2</span><span class="token punctuation">.</span> run æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ Lambda è¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚
</code></pre></div><h4 id="_8-2-3-let-run-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_8-2-3-let-run-çš„åŒºåˆ«" aria-hidden="true">#</a> 8.2.3 <code>let</code> &amp; <code>run</code> çš„åŒºåˆ«</h4><p><code>let</code> å’Œ <code>run</code> çš„ç›¸åŒç‚¹ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> æ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œç”šè‡³æ˜¯å­—é¢é‡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…ï¼›
<span class="token number">2</span><span class="token punctuation">.</span> éƒ½åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°ï¼›
<span class="token number">3</span><span class="token punctuation">.</span> è¿”å›å€¼éƒ½æ˜¯ä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼çš„è¿”å›å€¼ã€‚
</code></pre></div><p><code>let</code> å’Œ <code>run</code> çš„ä¸åŒç‚¹ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> let æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼å¸¦ä¸€ä¸ªå‚æ•°ï¼Œä¼ å…¥çš„å‚æ•°å€¼å°±æ˜¯ let æ–¹æ³•çš„è°ƒç”¨è€…ï¼›
   run æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼æ— å‚æ•°ï¼›

<span class="token number">2</span><span class="token punctuation">.</span> let æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼ä¸­ä¸å­˜åœ¨ <span class="token keyword">this</span>ï¼›
   run æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼ä¸­å­˜åœ¨ <span class="token keyword">this</span>ï¼Œ<span class="token keyword">this</span> æŒ‡å‘ run æ–¹æ³•çš„è°ƒç”¨è€…ã€‚
</code></pre></div><h4 id="_8-2-4-let-run-çš„ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_8-2-4-let-run-çš„ç¤ºä¾‹" aria-hidden="true">#</a> 8.2.4 <code>let</code> &amp; <code>run</code> çš„ç¤ºä¾‹</h4><p><img src="/assets/10.fb4bcbf4.png" alt="" loading="lazy"></p><h3 id="_8-3-also" tabindex="-1"><a class="header-anchor" href="#_8-3-also" aria-hidden="true">#</a> 8.3 <code>also</code></h3><h4 id="_8-3-1-å‡½æ•°å®šä¹‰-standard-kt" tabindex="-1"><a class="header-anchor" href="#_8-3-1-å‡½æ•°å®šä¹‰-standard-kt" aria-hidden="true">#</a> 8.3.1 å‡½æ•°å®šä¹‰ï¼ˆ<code>Standard.kt</code>ï¼‰</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">//å‡½æ•°å®šä¹‰ï¼ˆåœ¨Standard.ktæ–‡ä»¶ä¸­å®šä¹‰ï¼‰</span>
<span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>internal<span class="token punctuation">.</span>InlineOnly
<span class="token annotation builtin">@SinceKotlin</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.1&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> T<span class="token punctuation">.</span><span class="token function">also</span><span class="token punctuation">(</span>block<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
    contract <span class="token punctuation">{</span>
        <span class="token function">callsInPlace</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span> InvocationKind<span class="token punctuation">.</span>EXACTLY_ONCE<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-3-2-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_8-3-2-ä½œç”¨" aria-hidden="true">#</a> 8.3.2 ä½œç”¨</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• also çš„ Receiver æ˜¯æ³›å‹ Tï¼Œè¿™è¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œç”šè‡³æ˜¯å­—é¢é‡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ also æ–¹æ³•ã€‚

also æ–¹æ³•çš„åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹ä¸º <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit çš„å‚æ•° blockï¼Œåœ¨ also æ–¹æ³•ä¸­å…ˆåæ‰§è¡Œäº† <span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> å’Œ <span class="token keyword">return</span> <span class="token keyword">this</span>ï¼Œç”±æ­¤å¯çŸ¥ï¼š
<span class="token number">1</span><span class="token punctuation">.</span> å½“ Lambda è¡¨è¾¾å¼ä½œä¸º also æ–¹æ³•çš„å®å‚æ—¶ï¼ŒLambda è¡¨è¾¾å¼çš„é»˜è®¤å‚æ•° it å°±æ˜¯ also æ–¹æ³•çš„è°ƒç”¨è€…ï¼ˆå³ receiverï¼‰
<span class="token number">2</span><span class="token punctuation">.</span> also æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ also æ–¹æ³•çš„è°ƒç”¨è€…ã€‚
</code></pre></div><h3 id="_8-4-apply" tabindex="-1"><a class="header-anchor" href="#_8-4-apply" aria-hidden="true">#</a> 8.4 <code>apply</code></h3><h4 id="_8-4-1-å‡½æ•°å®šä¹‰-standard-kt" tabindex="-1"><a class="header-anchor" href="#_8-4-1-å‡½æ•°å®šä¹‰-standard-kt" aria-hidden="true">#</a> 8.4.1 å‡½æ•°å®šä¹‰ï¼ˆ<code>Standard.kt</code>ï¼‰</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">//å‡½æ•°å®šä¹‰ï¼ˆåœ¨Standard.ktæ–‡ä»¶ä¸­å®šä¹‰ï¼‰</span>
<span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>internal<span class="token punctuation">.</span>InlineOnly
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> T<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>block<span class="token operator">:</span> T<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
    contract <span class="token punctuation">{</span>
        <span class="token function">callsInPlace</span><span class="token punctuation">(</span>block<span class="token punctuation">,</span> InvocationKind<span class="token punctuation">.</span>EXACTLY_ONCE<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">block</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-4-2-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_8-4-2-ä½œç”¨" aria-hidden="true">#</a> 8.4.2 ä½œç”¨</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• apply çš„ Receiver æ˜¯æ³›å‹ Tï¼Œè¿™è¡¨ç¤ºæ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œç”šè‡³æ˜¯å­—é¢é‡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ apply æ–¹æ³•ã€‚

apply æ–¹æ³•çš„åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹ä¸º T<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit çš„å‚æ•° blockï¼Œåœ¨ apply æ–¹æ³•ä¸­å…ˆåæ‰§è¡Œäº† <span class="token function">block</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å’Œ <span class="token keyword">return</span> <span class="token keyword">this</span>ï¼Œç”±æ­¤å¯çŸ¥ï¼š
<span class="token number">1</span><span class="token punctuation">.</span> å½“ Lambda è¡¨è¾¾å¼ä½œä¸º apply æ–¹æ³•çš„å®å‚æ—¶ï¼ŒLambda è¡¨è¾¾å¼æ˜¯æ— å‚æ•°çš„ã€‚
   ä½†æ˜¯ä»å‡½æ•°ç±»å‹ T<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit å¯ä»¥çœ‹å‡ºï¼ŒLambda è¡¨è¾¾å¼ä¸­å­˜åœ¨ <span class="token keyword">this</span>ï¼Œ<span class="token keyword">this</span> æŒ‡å‘ apply æ–¹æ³•çš„è°ƒç”¨è€…ï¼ˆå³ receiverï¼‰ã€‚
<span class="token number">2</span><span class="token punctuation">.</span> apply æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ apply æ–¹æ³•çš„è°ƒç”¨è€…ã€‚
</code></pre></div><h4 id="_8-4-3-also-apply-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_8-4-3-also-apply-çš„åŒºåˆ«" aria-hidden="true">#</a> 8.4.3 <code>also</code> &amp; <code>apply</code> çš„åŒºåˆ«</h4><p><code>also</code> å’Œ <code>apply</code> çš„ç›¸åŒç‚¹ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> æ‰€æœ‰ç±»å‹çš„å˜é‡ï¼Œç”šè‡³æ˜¯å­—é¢é‡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…ï¼›
<span class="token number">2</span><span class="token punctuation">.</span> éƒ½åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹çš„å‚æ•°ï¼›
<span class="token number">3</span><span class="token punctuation">.</span> è¿”å›å€¼éƒ½æ˜¯æ–¹æ³•çš„è°ƒç”¨è€…ã€‚
</code></pre></div><p><code>also</code> å’Œ <code>apply</code> çš„ä¸åŒç‚¹ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> also æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼å¸¦ä¸€ä¸ªå‚æ•°ï¼Œä¼ å…¥çš„å‚æ•°å€¼å°±æ˜¯ also æ–¹æ³•çš„è°ƒç”¨è€…ï¼›
   apply æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼æ— å‚æ•°ï¼›

<span class="token number">2</span><span class="token punctuation">.</span> also æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼ä¸­ä¸å­˜åœ¨ <span class="token keyword">this</span>ï¼›
   apply æ–¹æ³•ä¸­ï¼Œä½œä¸ºå®å‚çš„ Lambda è¡¨è¾¾å¼ä¸­å­˜åœ¨ <span class="token keyword">this</span>ï¼Œ<span class="token keyword">this</span> æŒ‡å‘ apply æ–¹æ³•çš„è°ƒç”¨è€…ã€‚
</code></pre></div><h4 id="_8-4-4-also-apply-çš„ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_8-4-4-also-apply-çš„ç¤ºä¾‹" aria-hidden="true">#</a> 8.4.4 <code>also</code> &amp; <code>apply</code> çš„ç¤ºä¾‹</h4><p><img src="/assets/11.93e4cf0c.png" alt="" loading="lazy"></p><h3 id="_8-5-use" tabindex="-1"><a class="header-anchor" href="#_8-5-use" aria-hidden="true">#</a> 8.5 <code>use</code></h3><h4 id="_8-5-1-å‡½æ•°å®šä¹‰-closeable-kt" tabindex="-1"><a class="header-anchor" href="#_8-5-1-å‡½æ•°å®šä¹‰-closeable-kt" aria-hidden="true">#</a> 8.5.1 å‡½æ•°å®šä¹‰ï¼ˆ<code>Closeable.kt</code>ï¼‰</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">//å‡½æ•°å®šä¹‰ï¼ˆåœ¨Closeable.ktæ–‡ä»¶ä¸­å®šä¹‰ï¼‰</span>
<span class="token annotation builtin">@InlineOnly</span>
<span class="token annotation builtin">@RequireKotlin</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;1.2&quot;</span></span><span class="token punctuation">,</span> versionKind <span class="token operator">=</span> RequireKotlinVersionKind<span class="token punctuation">.</span>COMPILER_VERSION<span class="token punctuation">,</span> 
                message <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">&quot;Requiresnewer compiler version to be inlined correctly.&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T <span class="token operator">:</span> Closeable<span class="token operator">?</span><span class="token punctuation">,</span> R<span class="token operator">&gt;</span> T<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>block<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> R <span class="token punctuation">{</span>
    <span class="token keyword">var</span> exception<span class="token operator">:</span> Throwable<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> Throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        exception <span class="token operator">=</span> e
        <span class="token keyword">throw</span> e
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword">when</span> <span class="token punctuation">{</span>
            <span class="token function">apiVersionIsAtLeast</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeFinally</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span>
            <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            exception <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">-&gt;</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span> <span class="token operator">-&gt;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>closeException<span class="token operator">:</span> Throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// cause.addSuppressed(closeException) // ignored here</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_8-5-2-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_8-5-2-ä½œç”¨" aria-hidden="true">#</a> 8.5.2 ä½œç”¨</h4><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• use çš„ Receiver æ˜¯æ³›å‹ Tï¼Œä¸”è¦æ±‚æ³›å‹ T å®ç°äº† Closeable æ¥å£ï¼Œ
è¿™è¡¨ç¤ºæ‰€æœ‰ Closeable æ¥å£çš„å­ç±»å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºè°ƒç”¨è€…æ¥è°ƒç”¨ use æ–¹æ³•ã€‚

use æ–¹æ³•çš„åªæœ‰ä¸€ä¸ªå‡½æ•°ç±»å‹ä¸º <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R çš„å‚æ•° blockï¼Œåœ¨ use æ–¹æ³•ä¸­æ‰§è¡Œäº† <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>ï¼Œç”±æ­¤å¯çŸ¥ï¼š
<span class="token number">1</span><span class="token punctuation">.</span> å½“ Lambda è¡¨è¾¾å¼ä½œä¸º use æ–¹æ³•çš„å®å‚æ—¶ï¼ŒLambda è¡¨è¾¾å¼çš„é»˜è®¤å‚æ•° it å°±æ˜¯ use æ–¹æ³•çš„è°ƒç”¨è€…ï¼ˆå³ receiverï¼‰
<span class="token number">2</span><span class="token punctuation">.</span> use æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯ Lambda è¡¨è¾¾å¼çš„è¿”å›å€¼

æŸ¥çœ‹ use æ–¹æ³•çš„æºç å¯çŸ¥ï¼Œ<span class="token keyword">try</span><span class="token operator">-</span><span class="token keyword">catch</span> ä»£ç å— ä¼šæ•è· Lambda è¡¨è¾¾å¼ä¸­çš„å¼‚å¸¸ï¼Œ
å¹¶ä¸”åœ¨ <span class="token keyword">finally</span> ä»£ç å—ä¸­ä¼šè°ƒç”¨ Closeable æ¥å£çš„å­ç±»å¯¹è±¡ï¼ˆå³ Receiverï¼‰çš„ close æ–¹æ³•ï¼ˆ<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">closeFinally</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span>ï¼‰
</code></pre></div><h4 id="_8-5-3-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_8-5-3-ç¤ºä¾‹" aria-hidden="true">#</a> 8.5.3 ç¤ºä¾‹</h4><p><img src="/assets/12.d5685f2c.png" alt="" loading="lazy"></p><h2 id="_9-å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_9-å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•" aria-hidden="true">#</a> 9. å¸¸ç”¨çš„é›†åˆæ“ä½œåŠç›¸å…³çš„æ‰©å±•æ–¹æ³•</h2><h3 id="_9-1-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_9-1-æ¦‚è¿°" aria-hidden="true">#</a> 9.1 æ¦‚è¿°</h3><ol><li><p><code>Kotlin</code> ä¸­çš„ <code>List</code>ã€<code>Set</code>ã€<code>Map</code> ä¸‰å¤§é›†åˆæ¥å£éƒ½å®šä¹‰åœ¨ <code>Kotlin</code> æ–‡ä»¶ <code>Collections.kt</code> ä¸­ã€‚</p></li><li><p>åœ¨ <code>Kotlin</code> æ–‡ä»¶ <code>_Collections.kt</code> ä¸­ï¼Œä¸ºé›†åˆæä¾›äº†å¤§é‡çš„æ‰©å±•æ–¹æ³•ï¼ŒåŒ…æ‹¬ <code>forEach</code>ã€<code>filter</code>ã€<code>map</code>ã€<code>flatMap</code>ã€...</p></li><li><p><code>Kotlin</code> ä¸­ï¼Œ<code>List</code> å’Œ <code>Set</code> é›†åˆéƒ½ç»§æ‰¿äº† <code>Iterable</code> æ¥å£ï¼›</p></li><li><p><code>Map</code> é›†åˆæ²¡æœ‰ç»§æ‰¿ <code>Iterable</code> æ¥å£ï¼Œä½†æ˜¯ <code>Map</code> æä¾›äº† <code>entries</code> å±æ€§ï¼Œè¡¨ç¤ºç”±é”®å€¼å¯¹æ„æˆçš„ <code>Set</code> é›†åˆï¼›</p></li><li><p><code>_Collections.kt</code> ä¸­å®šä¹‰çš„æ‰©å±•æ–¹æ³•åŸºæœ¬ä¸Šæ˜¯ <code>Iterable</code> æ¥å£çš„æ‰©å±•æ–¹æ³•ï¼Œå³ <code>List</code> å’Œ <code>Set</code> é›†åˆéƒ½å¯ä»¥ä½¿ç”¨ <code>Iterable</code> æ¥å£çš„æ‰©å±•æ–¹æ³•ã€‚</p></li></ol><h3 id="_9-2-é›†åˆçš„éå†-æ‰©å±•æ–¹æ³•-foreach" tabindex="-1"><a class="header-anchor" href="#_9-2-é›†åˆçš„éå†-æ‰©å±•æ–¹æ³•-foreach" aria-hidden="true">#</a> 9.2 é›†åˆçš„éå† &amp; æ‰©å±•æ–¹æ³• <code>forEach</code></h3><h4 id="_9-2-1-æŒ‰ç´¢å¼•éå†" tabindex="-1"><a class="header-anchor" href="#_9-2-1-æŒ‰ç´¢å¼•éå†" aria-hidden="true">#</a> 9.2.1 æŒ‰ç´¢å¼•éå†</h4><p><code>Java</code> ä¸­ï¼š</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">T</span> ele <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>Kotlin</code> ä¸­ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">0</span> until list<span class="token punctuation">.</span>indices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ele <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_9-2-2-æŒ‰å…ƒç´ éå†" tabindex="-1"><a class="header-anchor" href="#_9-2-2-æŒ‰å…ƒç´ éå†" aria-hidden="true">#</a> 9.2.2 æŒ‰å…ƒç´ éå†</h4><p><code>Java</code> ä¸­ä½¿ç”¨ <code>for-each</code> å¾ªç¯ï¼š</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">T</span> ele <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>Kotlin</code> ä¸­ä½¿ç”¨ <code>for-in</code> å¾ªç¯ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">for</span><span class="token punctuation">(</span>ele <span class="token keyword">in</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_9-2-3-ä½¿ç”¨æ‰©å±•æ–¹æ³•-foreach-éå†" tabindex="-1"><a class="header-anchor" href="#_9-2-3-ä½¿ç”¨æ‰©å±•æ–¹æ³•-foreach-éå†" aria-hidden="true">#</a> 9.2.3 ä½¿ç”¨æ‰©å±•æ–¹æ³• <code>forEach</code> éå†</h4><p><code>Java 1.8</code> å¼€å§‹æä¾›äº† <code>forEach</code> æ–¹æ³•ç»“åˆ <code>Lambda</code> è¡¨è¾¾å¼å®ç°é›†åˆçš„éå†ï¼š</p><div class="language-java ext-java"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Kotlin</code> ä¸­æä¾›æ‰©å±•æ–¹æ³• <code>forEach</code> å®ç°é›†åˆçš„éå†ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">// å‡½æ•°å®šä¹‰ï¼ˆåœ¨ _Collections.kt æ–‡ä»¶ä¸­å®šä¹‰çš„ï¼‰</span>
<span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>internal<span class="token punctuation">.</span>HidesMembers
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>action<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">:</span> Unit <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token function">action</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// å‡½æ•°è°ƒç”¨</span>
list<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span>
    <span class="token comment">// é»˜è®¤å‚æ•° it è¡¨ç¤ºå½“å‰éå†åˆ°çš„å…ƒç´ </span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-3-é›†åˆè¿‡æ»¤-æ‰©å±•æ–¹æ³•-filter" tabindex="-1"><a class="header-anchor" href="#_9-3-é›†åˆè¿‡æ»¤-æ‰©å±•æ–¹æ³•-filter" aria-hidden="true">#</a> 9.3 é›†åˆè¿‡æ»¤ &amp; æ‰©å±•æ–¹æ³• <code>filter</code></h3><p>æ‰©å±•æ–¹æ³• <code>filter</code> çš„ç›¸å…³æºç ï¼ˆåœ¨ <code>_Collections.kt</code> ä¸­å®šä¹‰ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>predicate<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">filterTo</span><span class="token punctuation">(</span>ArrayList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> predicate<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> C <span class="token operator">:</span> MutableCollection<span class="token operator">&lt;</span><span class="token keyword">in</span> T<span class="token operator">&gt;</span><span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">filterTo</span><span class="token punctuation">(</span>destination<span class="token operator">:</span> C<span class="token punctuation">,</span> predicate<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> C <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">predicate</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> destination<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token keyword">return</span> destination
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• filter æ¥æ”¶ä¸€ä¸ªå‡½æ•°å¼•ç”¨ä½œä¸ºå‚æ•°è°“è¯ predicateï¼Œè¿”å›è¿‡æ»¤åçš„ List é›†åˆï¼Œ

æ‰©å±•æ–¹æ³• filter å†…éƒ¨åˆè°ƒç”¨äº†æ‰©å±•æ–¹æ³• filterToï¼Œåœ¨ filterTo æ–¹æ³•ä¸­ï¼Œéå†ä½œä¸º Receiver çš„é›†åˆï¼Œ
æ ¹æ®è°“è¯æ¡ä»¶ predicate å°†è¿‡æ»¤å¾—åˆ°çš„å…ƒç´ æ·»åŠ åˆ°æ–°åˆ›å»ºçš„ List é›†åˆä¸­ï¼Œå¹¶è¿”å›è¯¥ List é›†åˆã€‚
</code></pre></div><p>ç¤ºä¾‹ï¼š</p><p><img src="/assets/13.65a4e961.png" alt="" loading="lazy"></p><h3 id="_9-4-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-map" tabindex="-1"><a class="header-anchor" href="#_9-4-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-map" aria-hidden="true">#</a> 9.4 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• <code>map</code></h3><p>æ‰©å±•æ–¹æ³• <code>map</code> çš„ç›¸å…³æºç ï¼ˆåœ¨ <code>_Collections.kt</code> ä¸­å®šä¹‰ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>transform<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">mapTo</span><span class="token punctuation">(</span>ArrayList<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">collectionSizeOrDefault</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> transform<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">internal</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">collectionSizeOrDefault</span><span class="token punctuation">(</span>default<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">is</span> Collection<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> 
<span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token keyword">else</span> default

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token punctuation">,</span> C <span class="token operator">:</span> MutableCollection<span class="token operator">&lt;</span><span class="token keyword">in</span> R<span class="token operator">&gt;</span><span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span>destination<span class="token operator">:</span> C<span class="token punctuation">,</span> transform<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> C <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>item <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
        destination<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">transform</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> destination
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• map æ¥æ”¶ä¸€ä¸ªå‡½æ•°å¼•ç”¨ä½œä¸ºå›è°ƒå‡½æ•° transformï¼Œä¸”æ‰©å±•æ–¹æ³• map å†…éƒ¨åˆè°ƒç”¨äº†æ‰©å±•æ–¹æ³• mapToï¼Œ

åœ¨æ‰©å±•æ–¹æ³• mapTo  ä¸­éå†ä½œä¸º Receiver çš„é›†åˆï¼Œå¹¶å°†å½“å‰éå†åˆ°çš„å…ƒç´ ä¼ å…¥å›è°ƒå‡½æ•° transform ä¸­ï¼Œ
è¿”å›ä¸€ä¸ªå˜æ¢åçš„å…ƒç´ ï¼Œå†å°†å˜æ¢åçš„å…ƒç´ å­˜å…¥æ–°åˆ›å»ºçš„ List é›†åˆä¸­ï¼Œæœ€åè¿”å›è¿™ä¸ª List é›†åˆ
</code></pre></div><p>ç¤ºä¾‹ï¼š</p><p><img src="/assets/14.44623f83.png" alt="" loading="lazy"></p><h3 id="_9-5-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-flatmap" tabindex="-1"><a class="header-anchor" href="#_9-5-é›†åˆå˜æ¢-æ‰©å±•æ–¹æ³•-flatmap" aria-hidden="true">#</a> 9.5 é›†åˆå˜æ¢ &amp; æ‰©å±•æ–¹æ³• <code>flatMap</code></h3><p>æ‰©å±•æ–¹æ³• flatMap çš„ç›¸å…³æºç ï¼ˆåœ¨ _Collections.kt ä¸­å®šä¹‰ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>transform<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Iterable<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">flatMapTo</span><span class="token punctuation">(</span>ArrayList<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> transform<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token punctuation">,</span> C <span class="token operator">:</span> MutableCollection<span class="token operator">&lt;</span><span class="token keyword">in</span> R<span class="token operator">&gt;</span><span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">flatMapTo</span><span class="token punctuation">(</span>destination<span class="token operator">:</span> C<span class="token punctuation">,</span> transform<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Iterable<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> C <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> list <span class="token operator">=</span> <span class="token function">transform</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        destination<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> destination
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>æ‰©å±•æ–¹æ³• flatMap æ¥æ”¶ä¸€ä¸ªå‡½æ•°å¼•ç”¨ä½œä¸ºå›è°ƒå‡½æ•° transformï¼Œä¸”æ‰©å±•æ–¹æ³• flatMap å†…éƒ¨åˆè°ƒç”¨äº†æ‰©å±•æ–¹æ³• flatMapToï¼Œ

åœ¨æ‰©å±•æ–¹æ³• flatMapTo ä¸­éå†ä½œä¸º Receiver çš„é›†åˆï¼Œå¹¶å°†å½“å‰éå†åˆ°çš„å…ƒç´ ä¼ å…¥å›è°ƒå‡½æ•° transform ä¸­ï¼Œ
å°†ä¸€ä¸ªå…ƒç´ å˜æ¢æˆä¸ªé›†åˆï¼Œå¹¶è¿”å›è¿™ä¸ªå˜æ¢å¾—åˆ°çš„é›†åˆï¼Œå†å°†å˜æ¢å¾—åˆ°çš„é›†åˆå…¨éƒ¨æ·»åŠ åˆ°æ–°åˆ›å»ºçš„ List é›†åˆä¸­ï¼Œæœ€åè¿”å›è¿™ä¸ª List é›†åˆã€‚
</code></pre></div><p>ç¤ºä¾‹ï¼š</p><p><img src="/assets/15.8e223229.png" alt="" loading="lazy"></p><h3 id="_9-6-iterable-é›†åˆ-sequence-åºåˆ—" tabindex="-1"><a class="header-anchor" href="#_9-6-iterable-é›†åˆ-sequence-åºåˆ—" aria-hidden="true">#</a> 9.6 <code>Iterable</code> é›†åˆ &amp; <code>Sequence</code> åºåˆ—</h3><h4 id="_9-6-1-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#_9-6-1-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹" aria-hidden="true">#</a> 9.6.1 <code>Iterable</code> é›†åˆçš„æ‰©å±•æ–¹æ³• <code>filter</code>ã€<code>map</code>ã€<code>flatMap</code> çš„ç‰¹ç‚¹</h4><p><code>Iterable</code> é›†åˆçš„æ‰©å±•æ–¹æ³• <code>filter</code>ã€<code>map</code>ã€<code>flatMap</code> éƒ½è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„ <code>List</code> é›†åˆï¼Œæ‰€ä»¥å¯ä»¥é‡‡ç”¨é“¾å¼ç¼–ç¨‹çš„æ–¹å¼ï¼Œä¾æ¬¡è°ƒç”¨ <code>filter</code>ã€<code>map</code>ã€<code>flatMap</code>ï¼Œæœ€åå†è°ƒç”¨ <code>forEach</code> éå†æœ€ç»ˆå¾—åˆ°çš„é›†åˆã€‚</p><p><strong>æ³¨æ„</strong>ï¼šæ¯æ¬¡è°ƒç”¨å…¶ä¸­æŸä¸ªæ‰©å±•æ–¹æ³•æ—¶ï¼Œä¼šé©¬ä¸Šå¯¹ä½œä¸º <code>Receiver</code> çš„é›†åˆè¿›è¡Œéå†ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„é›†åˆã€‚é“¾å¼ç¼–ç¨‹ä¸­ï¼Œæ˜¯å°†æ¯æ¬¡è°ƒç”¨æ‰©å±•æ–¹æ³•åè¿”å›çš„æ–°é›†åˆä½œä¸º <code>Receiver</code> æ¥è°ƒç”¨ä¸‹ä¸€ä¸ªæ‰©å±•æ–¹æ³•ã€‚</p><h4 id="_9-6-2-iterable-é›†åˆè½¬-sequence-åºåˆ—-assequence" tabindex="-1"><a class="header-anchor" href="#_9-6-2-iterable-é›†åˆè½¬-sequence-åºåˆ—-assequence" aria-hidden="true">#</a> 9.6.2 <code>Iterable</code> é›†åˆè½¬ <code>Sequence</code> åºåˆ—ï¼š<code>asSequence</code></h4><p>åœ¨ <code>_Collections.kt</code> æ–‡ä»¶ä¸­æä¾›äº† <code>asSequence</code> æ–¹æ³•ï¼Œç”¨äºå°†ä¸€ä¸ªé›†åˆè½¬æˆä¸€ä¸ªåºåˆ—ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">asSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Sequence <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>internal<span class="token punctuation">.</span>InlineOnly
<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">Sequence</span><span class="token punctuation">(</span><span class="token keyword">crossinline</span> iterator<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">// åœ¨ Sequence.kt ä¸­å®šä¹‰çš„ Sequence åºåˆ—æ¥å£</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> Sequence<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">operator</span> <span class="token keyword">fun</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_9-6-3-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#_9-6-3-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„å®šä¹‰" aria-hidden="true">#</a> 9.6.3 <code>Sequence</code> åºåˆ—çš„æ‰©å±•æ–¹æ³• <code>filter</code>ã€<code>map</code>ã€<code>flatMap</code> çš„å®šä¹‰</h4><p>åœ¨ <code>_Sequences.kt</code> æ–‡ä»¶ä¸­ï¼Œä¸ºåºåˆ—æ¥å£ <code>Sequence</code> æä¾›äº†ä¸€ç³»åˆ—çš„æ‰©å±•æ–¹æ³•ï¼š</p><blockquote><p>è¿™äº›æ‰©å±•æ–¹æ³•å’Œåœ¨ <code>_Collections.kt</code> æ–‡ä»¶ä¸­ä¸º <code>Iterable</code> æ¥å£æä¾›çš„æ‰©å±•æ–¹æ³•åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>predicate<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">FilteringSequence</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> predicate<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>transform<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> Sequence<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">TransformingSequence</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> transform<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>transform<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Sequence<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Sequence<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">FlatteningSequence</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> transform<span class="token punctuation">,</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Sequence<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>action<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">:</span> Unit <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token function">action</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_9-6-4-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹-æ‡’åºåˆ—æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_9-6-4-sequence-åºåˆ—çš„æ‰©å±•æ–¹æ³•-filterã€mapã€flatmap-çš„ç‰¹ç‚¹-æ‡’åºåˆ—æœºåˆ¶" aria-hidden="true">#</a> 9.6.4 <code>Sequence</code> åºåˆ—çš„æ‰©å±•æ–¹æ³• <code>filter</code>ã€<code>map</code>ã€<code>flatMap</code> çš„ç‰¹ç‚¹ï¼ˆæ‡’åºåˆ—æœºåˆ¶ï¼‰</h4><p>æ¯æ¬¡è°ƒç”¨å…¶ä¸­æŸä¸ªæ‰©å±•æ–¹æ³•æ—¶ï¼Œå¹¶ä¸ä¼šé©¬ä¸Šå¯¹ä½œä¸º <code>Receiver</code> çš„é›†åˆè¿›è¡Œéå†ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„ <code>Sequence</code> å®ä¾‹åŒ–å¯¹è±¡ã€‚</p><p>ä¸åŒçš„æ‰©å±•æ–¹æ³•è¿”å›çš„ <code>Sequence</code> æ¥å£å­ç±»ä¸åŒï¼Œä½†æ˜¯åœ¨å®ä¾‹åŒ–æ–°çš„ <code>Sequence</code> å®ç°ç±»å¯¹è±¡æ—¶ä¼šæŠŠä½œä¸º <code>Receiver</code> çš„å½“å‰ <code>Sequence</code> ä¼ ç»™æ–°çš„ <code>Sequence</code>ï¼Œå¹¶ä¸” <code>Sequence</code> å®ä¾‹ç±»åœ¨é‡å†™ <code>iterator</code> æ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„ <code>Sequence</code> çš„ç‰¹æ€§ä¼šä½œç”¨åœ¨æ–°çš„ <code>Sequence</code> ä¸Šã€‚</p><p>äºæ˜¯åœ¨é“¾å¼ç¼–ç¨‹ä¸­ï¼Œæœ€åè¿”å›çš„ <code>Sequence</code> å®ä¾‹ç±»å¯¹è±¡åŒ…å«äº†ä¹‹å‰æ‰€æœ‰çš„æ‰©å±•æ–¹æ³•æ‰€è¿”å›çš„ <code>Sequence</code> çš„ç‰¹æ€§ï¼Œä»è€Œå½“è°ƒç”¨ <code>forEach</code> å¯¹æœ€ç»ˆçš„ <code>Sequence</code> è¿›è¡Œéå†æ—¶ï¼Œç›¸å½“äºæ¯æ¬¡éå†éƒ½ä¾æ¬¡è°ƒç”¨äº† <code>filter</code>ã€<code>map</code>ã€<code>flatMap</code> çš„å›è°ƒå‡½æ•°ã€‚<code>Sequence</code> çš„è¿™ä¸ªç‰¹ç‚¹ç§°ä¸º <strong>æ‡’åºåˆ—æœºåˆ¶</strong>ã€‚</p><h4 id="_9-6-5-ç¤ºä¾‹-assequence-æ‡’åºåˆ—æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_9-6-5-ç¤ºä¾‹-assequence-æ‡’åºåˆ—æœºåˆ¶" aria-hidden="true">#</a> 9.6.5 ç¤ºä¾‹ï¼š<code>asSequence</code> &amp; æ‡’åºåˆ—æœºåˆ¶</h4><p><img src="/assets/16.dedd1a2b.png" alt="" loading="lazy"></p><h3 id="_9-7-é›†åˆå…ƒç´ æ±‚å’Œ-æ‰©å±•æ–¹æ³•-sum" tabindex="-1"><a class="header-anchor" href="#_9-7-é›†åˆå…ƒç´ æ±‚å’Œ-æ‰©å±•æ–¹æ³•-sum" aria-hidden="true">#</a> 9.7 é›†åˆå…ƒç´ æ±‚å’Œ &amp; æ‰©å±•æ–¹æ³• <code>sum</code></h3><p>æ‰©å±•æ–¹æ³• <code>sum</code> çš„ç›¸å…³æºç ï¼ˆåœ¨ <code>_Collections.kt</code> ä¸­å®šä¹‰ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token label symbol">@kotlin</span><span class="token punctuation">.</span>jvm<span class="token punctuation">.</span><span class="token function">JvmName</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;sumOfInt&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">fun</span> Iterable<span class="token operator">&lt;</span>Int<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> element
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> è¦æ±‚é›†åˆå…ƒç´ æ˜¯æ•°å€¼ç±»å‹ï¼šByteã€Shortã€Intã€Longã€Floatã€Double

<span class="token number">2</span><span class="token punctuation">.</span> ç»“æœ ret <span class="token operator">=</span> ele1 <span class="token operator">+</span> ele2 <span class="token operator">+</span> <span class="token operator">..</span><span class="token punctuation">.</span>
</code></pre></div><p>ç¤ºä¾‹ï¼š</p><p><img src="/assets/17.829932fe.png" alt="" loading="lazy"></p><h3 id="_9-8-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-reduce" tabindex="-1"><a class="header-anchor" href="#_9-8-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-reduce" aria-hidden="true">#</a> 9.8 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• <code>reduce</code></h3><p>æ‰©å±•æ–¹æ³• <code>reduce</code> çš„ç›¸å…³æºç ï¼ˆåœ¨ <code>_Collections.kt</code> ä¸­å®šä¹‰ï¼‰:</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>S<span class="token punctuation">,</span> T <span class="token operator">:</span> S<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>operation<span class="token operator">:</span> <span class="token punctuation">(</span>acc<span class="token operator">:</span> S<span class="token punctuation">,</span> T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> S<span class="token punctuation">)</span><span class="token operator">:</span> S <span class="token punctuation">{</span>
    <span class="token keyword">val</span> iterator <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token function">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Empty collection can&#39;t be reduced.&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> accumulator<span class="token operator">:</span> S <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accumulator <span class="token operator">=</span> <span class="token function">operation</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> accumulator
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>ä»¥é¦–å…ƒç´ ä½œä¸ºç´¯åŠ å™¨çš„åˆå§‹å€¼ï¼Œä»¥å›è°ƒå‡½æ•° operation ä½œä¸ºç´¯åŠ è¿ç®—ç®—æ³•ï¼Œ
ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹éå†é›†åˆå…ƒç´ ï¼Œè¿›è¡Œè‡ªå®šä¹‰çš„ç´¯åŠ è¿ç®—ï¼Œ
è¿”å›æœ€ç»ˆå¾—åˆ°çš„ç´¯åŠ å€¼

å³ï¼šret <span class="token operator">=</span> ele1 â–¡ ele2 â–¡ ele3 <span class="token operator">..</span><span class="token punctuation">.</span>  <span class="token comment">// å…¶ä¸­ &quot;â–¡&quot; è¡¨ç¤ºé€šè¿‡å›è°ƒå‡½æ•° operation è‡ªå®šä¹‰çš„ç´¯åŠ è¿ç®—ç¬¦</span>
</code></pre></div><h3 id="_9-9-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-fold" tabindex="-1"><a class="header-anchor" href="#_9-9-é›†åˆå…ƒç´ èšåˆ-æ‰©å±•æ–¹æ³•-fold" aria-hidden="true">#</a> 9.9 é›†åˆå…ƒç´ èšåˆ &amp; æ‰©å±•æ–¹æ³• <code>fold</code></h3><p>æ‰©å±•æ–¹æ³• <code>fold</code> çš„ç›¸å…³æºç ï¼ˆåœ¨ <code>_Collections.kt</code> ä¸­å®šä¹‰ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span>initial<span class="token operator">:</span> R<span class="token punctuation">,</span> operation<span class="token operator">:</span> <span class="token punctuation">(</span>acc<span class="token operator">:</span> R<span class="token punctuation">,</span> T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> R <span class="token punctuation">{</span>
    <span class="token keyword">var</span> accumulator <span class="token operator">=</span> initial
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> accumulator <span class="token operator">=</span> <span class="token function">operation</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> element<span class="token punctuation">)</span>
    <span class="token keyword">return</span> accumulator
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>ä»¥å‚æ•° initial ä½œä¸ºç´¯åŠ å™¨çš„åˆå§‹å€¼ï¼Œä»¥å›è°ƒå‡½æ•° operation ä½œä¸ºç´¯åŠ è¿ç®—ç®—æ³•ï¼Œ
ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹éå†é›†åˆå…ƒç´ ï¼Œè¿›è¡Œè‡ªå®šä¹‰çš„ç´¯åŠ è¿ç®—ï¼Œ
è¿”å›æœ€ç»ˆå¾—åˆ°çš„ç´¯åŠ å€¼

å³ï¼šret <span class="token operator">=</span> initial â–¡ ele1 â–¡ ele2 â–¡ ele3 <span class="token operator">..</span><span class="token punctuation">.</span>  <span class="token comment">// å…¶ä¸­ &quot;â–¡&quot; è¡¨ç¤ºé€šè¿‡å›è°ƒå‡½æ•° operation è‡ªå®šä¹‰çš„ç´¯åŠ è¿ç®—ç¬¦</span>
</code></pre></div><p>ç¤ºä¾‹ï¼š</p><p><img src="/assets/18.e3c14250.png" alt="" loading="lazy"></p><h2 id="_10-kotlin-ä¸­çš„åŒ¿åå†…éƒ¨ç±»" tabindex="-1"><a class="header-anchor" href="#_10-kotlin-ä¸­çš„åŒ¿åå†…éƒ¨ç±»" aria-hidden="true">#</a> 10. <code>Kotlin</code> ä¸­çš„åŒ¿åå†…éƒ¨ç±»</h2><h3 id="_10-1-kotlin-ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_10-1-kotlin-ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•" aria-hidden="true">#</a> 10.1 <code>Kotlin</code> ä¸­åŒ¿åå†…éƒ¨ç±»çš„ä¸€èˆ¬å†™æ³•</h3><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> foo <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> IFoo <span class="token punctuation">{</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">funName1</span><span class="token punctuation">(</span>p1<span class="token operator">:</span> T1<span class="token punctuation">,</span> p2<span class="token operator">:</span> T2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">:</span> ReturnType <span class="token punctuation">{</span><span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">funName2</span><span class="token punctuation">(</span>p1<span class="token operator">:</span> T1<span class="token punctuation">,</span> p2<span class="token operator">:</span> T2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">:</span> ReturnType <span class="token punctuation">{</span><span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>

    <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> æ¥å£ IFoo å¯ä»¥æ˜¯ Kotlin æ¥å£æˆ– Java æ¥å£æˆ– Java å‡½æ•°å¼æ¥å£ï¼›
<span class="token number">2</span><span class="token punctuation">.</span> funName1ã€funName2ã€<span class="token operator">..</span><span class="token punctuation">.</span> è¡¨ç¤ºæ¥å£æä¾›çš„æ–¹æ³•ã€‚
</code></pre></div><h3 id="_10-2-java-å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„-lambda-è¡¨è¾¾å¼ç®€åŒ–å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_10-2-java-å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„-lambda-è¡¨è¾¾å¼ç®€åŒ–å†™æ³•" aria-hidden="true">#</a> 10.2 <code>Java</code> å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»çš„ <code>Lambda</code> è¡¨è¾¾å¼ç®€åŒ–å†™æ³•</h3><p>ç‰¹åˆ«åœ°ï¼Œå¯¹äº <code>Java</code> å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»ï¼š</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// IFunction.java</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IFunction</span> <span class="token punctuation">{</span>
    <span class="token class-name">ReturnType</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token class-name">T1</span> p1<span class="token punctuation">,</span> <span class="token class-name">T2</span> p2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ <code>Kotlin</code> ä¸­å¯ä»¥ä½¿ç”¨ <code>Lambda</code> è¡¨è¾¾å¼ç®€åŒ–å†™æˆï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token comment">// Kotlinä¸­ä½¿ç”¨ Lambda è¡¨è¾¾å¼åˆ›å»ºJava å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»</span>
<span class="token keyword">val</span> iFunction <span class="token operator">=</span> IFunction <span class="token punctuation">{</span> p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span> <span class="token operator">-&gt;</span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    statementN <span class="token comment">// æœ€åä¸€æ¡è¯­å¥çš„ç»“æœå€¼åº”è¯¥æ˜¯ ReturnType ç±»å‹</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™å°±ç›¸å½“äº <code>Kotlin</code> ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªåä¸º <code>IFunction</code> çš„å‡½æ•°ï¼š</p><blockquote><p>è¯¥å‡½æ•°è¿”å›ä¸€ä¸ª <code>IFunction</code> æ¥å£çš„åŒ¿åå†…éƒ¨ç±»å¯¹è±¡</p></blockquote><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">IFunction</span><span class="token punctuation">(</span>block<span class="token operator">:</span> <span class="token punctuation">(</span>p1<span class="token operator">:</span> T1<span class="token punctuation">,</span> p2<span class="token operator">:</span> T2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> ReturnType<span class="token punctuation">)</span><span class="token operator">:</span> IFunction <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">object</span> <span class="token operator">:</span> IFunction <span class="token punctuation">{</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">func</span><span class="token punctuation">(</span>p1<span class="token operator">:</span> T1<span class="token punctuation">,</span> p2<span class="token operator">:</span> T2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token operator">:</span> ReturnType <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">block</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_10-3-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_10-3-ç¤ºä¾‹" aria-hidden="true">#</a> 10.3 ç¤ºä¾‹</h3><p><img src="/assets/19.ea6263cb.png" alt="" loading="lazy"></p><h2 id="_11-sam-è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_11-sam-è½¬æ¢" aria-hidden="true">#</a> 11. <code>SAM</code> è½¬æ¢</h2><h3 id="_11-1-ä»€ä¹ˆæ˜¯-sam-è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_11-1-ä»€ä¹ˆæ˜¯-sam-è½¬æ¢" aria-hidden="true">#</a> 11.1 ä»€ä¹ˆæ˜¯ <code>SAM</code> è½¬æ¢</h3><p>åœ¨ <code>Java</code> ä¸­ï¼Œè‹¥æŸä¸ªæ–¹æ³•çš„å‚æ•°ç±»å‹æ˜¯å‡½æ•°å¼æ¥å£ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥ä¼ å…¥ä¸€ä¸ª <code>Java</code> çš„ <code>Lambda</code> è¡¨è¾¾å¼ä½œä¸ºå®å‚ã€‚æ­¤æ—¶ï¼Œè™½ç„¶ <code>Java</code> çš„ <code>Lambda</code> è¡¨è¾¾å¼åªæ˜¯åœ¨é‡å†™å‡½æ•°å¼æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æœ€ç»ˆè¿˜ä¼šæŠŠè¿™ä¸ª <code>Java</code> çš„ <code>Lambda</code> è¡¨è¾¾å¼è½¬æ¢ä¸ºå‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»ã€‚è¿™ç§ç°è±¡ç§°ä¹‹ä¸º <code>SAM</code> è½¬æ¢ï¼ˆå³ <code>Single Abstract Method</code> è½¬æ¢ï¼‰ã€‚</p><blockquote><p><code>SAM</code> è½¬æ¢å°±æ˜¯å°†ç”¨äºé‡å†™å•ä¸€æŠ½è±¡æ–¹æ³•çš„ <code>Lambda</code> è¡¨è¾¾å¼è½¬æ¢ä¸ºå‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»å¯¹è±¡ã€‚</p></blockquote><h3 id="_11-2-kotlin-ä¸­çš„-sam-è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_11-2-kotlin-ä¸­çš„-sam-è½¬æ¢" aria-hidden="true">#</a> 11.2 <code>Kotlin</code> ä¸­çš„ <code>SAM</code> è½¬æ¢</h3><p>åœ¨ <code>Kotlin</code> ä¸­ï¼Œå½“è°ƒç”¨ <code>Java</code> æ–¹æ³•æ—¶ï¼Œè‹¥ <code>Java</code> æ–¹æ³•çš„å‚æ•°ç±»å‹æ˜¯ <code>Java</code> çš„å‡½æ•°å¼æ¥å£ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥ä¼ å…¥ä¸€ä¸ª <code>Kotlin</code> çš„ <code>Lambda</code> è¡¨è¾¾å¼ä½œä¸ºå®å‚ã€‚æ­¤æ—¶ä¹Ÿä¼šå‘ç”Ÿ <code>SAM</code> è½¬æ¢ï¼Œå³ï¼šæŠŠç”¨äºé‡å†™å•ä¸€æŠ½è±¡æ–¹æ³•çš„ <code>Kotlin</code> çš„ <code>Lambda</code> è¡¨è¾¾å¼è½¬æ¢ä¸º <code>Java</code> çš„å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»ã€‚</p><blockquote><p><code>SAM</code> è½¬æ¢å°±æ˜¯å°† <code>Lambda</code> è¡¨è¾¾å¼è½¬æ¢ä¸ºå‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»å¯¹è±¡ã€‚</p><p>ç‰¹åˆ«éœ€è¦æŒ‡å‡ºï¼šæ¯æ¬¡è¿›è¡Œ <code>SAM</code> è½¬æ¢æ—¶ï¼Œéƒ½ä¼šç”± <code>Lambda</code> è¡¨è¾¾å¼åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„åŒ¿åå†…éƒ¨ç±»å¯¹è±¡ã€‚</p></blockquote><h3 id="_11-3-å®ç°-kotlin-ä¸­çš„-sam-è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#_11-3-å®ç°-kotlin-ä¸­çš„-sam-è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶" aria-hidden="true">#</a> 11.3 å®ç° <code>Kotlin</code> ä¸­çš„ <code>SAM</code> è½¬æ¢éœ€æ»¡è¶³çš„æ¡ä»¶</h3><p><code>Kotlin</code> ä¸­è°ƒç”¨ <code>Java</code> æ–¹æ³•ï¼Œä¸” <code>Java</code> æ–¹æ³•çš„å‚æ•°ç±»å‹æ˜¯ <code>Java</code> çš„å‡½æ•°å¼æ¥å£ç±»å‹ã€‚</p><blockquote><p>è°ƒç”¨ <code>Kotlin</code> æ–¹æ³•ï¼Œæˆ–å‚æ•°ç±»å‹æ˜¯ <code>Kotlin</code> çš„å‡½æ•°å¼æ¥å£ç±»å‹éƒ½ä¸è¡Œï¼Œä¼šå‡ºç°è¯­æ³•é”™è¯¯ã€‚</p></blockquote><h3 id="_11-4-ç¤ºä¾‹-1-kotlin-ä¸­çš„-sam-è½¬æ¢çš„åŸºæœ¬ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#_11-4-ç¤ºä¾‹-1-kotlin-ä¸­çš„-sam-è½¬æ¢çš„åŸºæœ¬ç”¨æ³•" aria-hidden="true">#</a> 11.4 ç¤ºä¾‹ 1ï¼š<code>Kotlin</code> ä¸­çš„ <code>SAM</code> è½¬æ¢çš„åŸºæœ¬ç”¨æ³•</h3><p><img src="/assets/20.fc1650d7.png" alt="" loading="lazy"></p><h3 id="_11-5-ç¤ºä¾‹-2-æ¯æ¬¡-sam-è½¬æ¢-lambda-è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_11-5-ç¤ºä¾‹-2-æ¯æ¬¡-sam-è½¬æ¢-lambda-è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" aria-hidden="true">#</a> 11.5 ç¤ºä¾‹ 2ï¼šæ¯æ¬¡ <code>SAM</code> è½¬æ¢ <code>Lambda</code> è¡¨è¾¾å¼ä¼šæ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡</h3><p><img src="/assets/21.e70c11d5.png" alt="" loading="lazy"></p><h3 id="_11-6-ç¤ºä¾‹-3-é¿å…-sam-è½¬æ¢æ—¶-lambda-è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_11-6-ç¤ºä¾‹-3-é¿å…-sam-è½¬æ¢æ—¶-lambda-è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡" aria-hidden="true">#</a> 11.6 ç¤ºä¾‹ 3ï¼šé¿å… <code>SAM</code> è½¬æ¢æ—¶ <code>Lambda</code> è¡¨è¾¾å¼æ–°åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡</h3><p><img src="/assets/22.79947fb9.png" alt="" loading="lazy"></p><h2 id="_12-æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_12-æ¡ˆä¾‹" aria-hidden="true">#</a> 12. æ¡ˆä¾‹</h2><h3 id="_12-1-æ¡ˆä¾‹-1-ç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°" tabindex="-1"><a class="header-anchor" href="#_12-1-æ¡ˆä¾‹-1-ç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°" aria-hidden="true">#</a> 12.1 æ¡ˆä¾‹ 1ï¼šç»Ÿè®¡æ–‡ä»¶ä¸­æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°</h3><h4 id="_12-1-1-ç›¸å…³çŸ¥è¯†ç‚¹" tabindex="-1"><a class="header-anchor" href="#_12-1-1-ç›¸å…³çŸ¥è¯†ç‚¹" aria-hidden="true">#</a> 12.1.1 ç›¸å…³çŸ¥è¯†ç‚¹</h4><h5 id="_12-1-1-1-file-çš„æ‰©å±•æ–¹æ³•-readtext" tabindex="-1"><a class="header-anchor" href="#_12-1-1-1-file-çš„æ‰©å±•æ–¹æ³•-readtext" aria-hidden="true">#</a> 12.1.1.1 <code>File</code> çš„æ‰©å±•æ–¹æ³• <code>readText</code></h5><p>æ‰©å±•æ–¹æ³• <code>readText</code>ï¼ˆå®šä¹‰åœ¨ <code>FileReadWrite.kt</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">fun</span> File<span class="token punctuation">.</span><span class="token function">readText</span><span class="token punctuation">(</span>charset<span class="token operator">:</span> Charset <span class="token operator">=</span> Charsets<span class="token punctuation">.</span>UTF_8<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token function">readBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>charset<span class="token punctuation">)</span>
</code></pre></div><p>ä½œç”¨ï¼šå°† <code>File</code> å¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶å†…å®¹è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>æ³¨æ„ï¼šå†…éƒ¨è°ƒç”¨çš„æ‰©å±•æ–¹æ³• <code>readBytes()</code> è¦æ±‚æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ <code>2G</code>ã€‚</p><h5 id="_12-1-1-2-æ•°ç»„çš„æ‰©å±•æ–¹æ³•-filternot" tabindex="-1"><a class="header-anchor" href="#_12-1-1-2-æ•°ç»„çš„æ‰©å±•æ–¹æ³•-filternot" aria-hidden="true">#</a> 12.1.1.2 æ•°ç»„çš„æ‰©å±•æ–¹æ³• <code>filterNot</code></h5><p>æ‰©å±•æ–¹æ³• <code>filterNot</code>ï¼ˆå®šä¹‰åœ¨ <code>_Arrays.kt</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> IntArray<span class="token punctuation">.</span><span class="token function">filterNot</span><span class="token punctuation">(</span>predicate<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>Int<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">filterNotTo</span><span class="token punctuation">(</span>ArrayList<span class="token operator">&lt;</span>Int<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> predicate<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> Array<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">filterNot</span><span class="token punctuation">(</span>predicate<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Boolean<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">filterNotTo</span><span class="token punctuation">(</span>ArrayList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> predicate<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>å°†æ»¡è¶³è°“è¯ `predicate` æ¡ä»¶çš„å…ƒç´ è¿‡æ»¤æ’é™¤æ‰ï¼Œè¿”å›ç”±æ’é™¤åå‰©ä¸‹çš„å…ƒç´ æ„æˆçš„æ–°çš„ `List` é›†åˆã€‚
</code></pre></div><p>æ³¨æ„ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token number">1</span><span class="token punctuation">.</span> ç±»ä¼¼äº IntArray<span class="token punctuation">.</span>filterNotï¼Œå¯¹äºæ•°å€¼ç±»å‹ Byteã€Charã€Shortã€Floatã€Double éƒ½æœ‰å¯¹åº”çš„æ‰©å±•æ–¹æ³• filterNotã€‚

<span class="token number">2</span><span class="token punctuation">.</span> å¯¹äºæ‰©å±•æ–¹æ³• filterï¼Œæ˜¯å°†æ»¡è¶³è°“è¯ predicate æ¡ä»¶çš„å…ƒç´ è¿‡æ»¤ä¿å­˜ä¸‹æ¥ï¼Œè¿”å›ç”±æ»¡è¶³è°“è¯æ¡ä»¶çš„å…ƒç´ æ„æˆçš„æ–°çš„ List é›†åˆã€‚
</code></pre></div><h5 id="_12-1-1-3-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-groupby" tabindex="-1"><a class="header-anchor" href="#_12-1-1-3-iterable-é›†åˆçš„æ‰©å±•æ–¹æ³•-groupby" aria-hidden="true">#</a> 12.1.1.3 <code>Iterable</code> é›†åˆçš„æ‰©å±•æ–¹æ³• <code>groupBy</code></h5><p>æ‰©å±•æ–¹æ³• <code>groupBy</code>ï¼ˆå®šä¹‰åœ¨ <code>_Collections.kt</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> K<span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>keySelector<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> K<span class="token punctuation">)</span><span class="token operator">:</span> Map<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> List<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">groupByTo</span><span class="token punctuation">(</span>LinkedHashMap<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> keySelector<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token punctuation">,</span> K<span class="token punctuation">,</span> M <span class="token operator">:</span> MutableMap<span class="token operator">&lt;</span><span class="token keyword">in</span> K<span class="token punctuation">,</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">groupByTo</span><span class="token punctuation">(</span>destination<span class="token operator">:</span> M<span class="token punctuation">,</span> 
keySelector<span class="token operator">:</span> <span class="token punctuation">(</span>T<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> K<span class="token punctuation">)</span><span class="token operator">:</span> M <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>element <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> key <span class="token operator">=</span> <span class="token function">keySelector</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
        <span class="token keyword">val</span> list <span class="token operator">=</span> destination<span class="token punctuation">.</span><span class="token function">getOrPut</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span> ArrayList<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> destination
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>å°† List é›†åˆè½¬æ¢æˆä¸€ä¸ª Map é›†åˆã€‚Map é›†åˆä¸­é”®å€¼å¯¹çš„ key é€šè¿‡å›è°ƒå‡½æ•° keySelector è¿”å›ã€‚
å›è°ƒå‡½æ•° keySelector çš„ä½œç”¨å°±æ˜¯å°†éå†åˆ°çš„ List é›†åˆå…ƒç´ è½¬æ¢æˆä¸€ä¸ªå¯¹åº”çš„ key å€¼ï¼Œ
äºæ˜¯åœ¨ groupByTo æ–¹æ³•ä¸­ï¼Œå°†å¯¹åº”ç›¸åŒ key çš„ List é›†åˆå…ƒç´ å­˜æ”¾åœ¨ä¸€ä¸ªæ–°çš„ List é›†åˆä¸­ï¼Œ
å¹¶å°†è¯¥æ–°çš„ List é›†åˆä½œä¸º key å€¼å¯¹åº”çš„ value å€¼ã€‚
</code></pre></div><h5 id="_12-1-1-4-map-æ˜ å°„çš„æ‰©å±•æ–¹æ³•-map" tabindex="-1"><a class="header-anchor" href="#_12-1-1-4-map-æ˜ å°„çš„æ‰©å±•æ–¹æ³•-map" aria-hidden="true">#</a> 12.1.1.4 <code>Map</code> æ˜ å°„çš„æ‰©å±•æ–¹æ³• <code>map</code></h5><p>æ‰©å±•æ–¹æ³• <code>map</code>ï¼ˆå®šä¹‰åœ¨ <code>_Collections.kt</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token punctuation">,</span> R<span class="token operator">&gt;</span> Map<span class="token operator">&lt;</span><span class="token keyword">out</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>transform<span class="token operator">:</span> <span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">mapTo</span><span class="token punctuation">(</span>ArrayList<span class="token operator">&lt;</span>R<span class="token operator">&gt;</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">,</span> transform<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token punctuation">,</span> R<span class="token punctuation">,</span> C <span class="token operator">:</span> MutableCollection<span class="token operator">&lt;</span><span class="token keyword">in</span> R<span class="token operator">&gt;</span><span class="token operator">&gt;</span> Map<span class="token operator">&lt;</span><span class="token keyword">out</span> K<span class="token punctuation">,</span> V<span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">mapTo</span><span class="token punctuation">(</span>destination<span class="token operator">:</span> C<span class="token punctuation">,</span> transform<span class="token operator">:</span><span class="token punctuation">(</span>Map<span class="token punctuation">.</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span>V<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> R<span class="token punctuation">)</span><span class="token operator">:</span> C <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>item <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
        destination<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">transform</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> destination
<span class="token punctuation">}</span>
</code></pre></div><p>ä½œç”¨ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code>éå† Map é›†åˆï¼Œéå†åˆ°çš„å…ƒç´ ç±»å‹ä¸º Map<span class="token punctuation">.</span>Entryï¼Œå°†éå†çš„å…ƒç´ ä¼ ç»™å›è°ƒå‡½æ•° transformï¼Œ
å›è°ƒå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå˜æ¢åçš„æ–°å…ƒç´ ï¼Œå­˜å…¥åˆ°æ–°çš„ List é›†åˆä¸­ï¼Œmap æ–¹æ³•è¿”å›ç”±å˜æ¢åçš„æ–°å…ƒç´ æ„æˆçš„æ–°çš„ List é›†åˆã€‚
</code></pre></div><blockquote><p>æ³¨æ„ï¼š</p><p><code>Kotlin</code> ä¸º <code>Map</code> é›†åˆä¸“é—¨åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ <code>_Maps.kt</code>ï¼Œç”¨æ¥å®šä¹‰ <code>Map</code> é›†åˆçš„æ‰©å±•æ–¹æ³•ã€‚</p><p>ï¼ˆ<code>List</code> é›†åˆå’Œ <code>Set</code> é›†åˆçš„æ‰©å±•æ–¹æ³•å®šä¹‰åœ¨ <code>_Collections.kt</code> æ–‡ä»¶ä¸­ï¼‰</p></blockquote><h4 id="_12-1-2-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_12-1-2-ä»£ç å®ç°" aria-hidden="true">#</a> 12.1.2 ä»£ç å®ç°</h4><p><img src="/assets/23.be6878f3.png" alt="" loading="lazy"></p><h3 id="_12-2-æ¡ˆä¾‹-2-kotlin-å®ç°-html" tabindex="-1"><a class="header-anchor" href="#_12-2-æ¡ˆä¾‹-2-kotlin-å®ç°-html" aria-hidden="true">#</a> 12.2 æ¡ˆä¾‹ 2ï¼š<code>Kotlin</code> å®ç° <code>Html</code></h3><h4 id="_12-2-1-ç›¸å…³çŸ¥è¯†ç‚¹" tabindex="-1"><a class="header-anchor" href="#_12-2-1-ç›¸å…³çŸ¥è¯†ç‚¹" aria-hidden="true">#</a> 12.2.1 ç›¸å…³çŸ¥è¯†ç‚¹</h4><h5 id="_12-2-1-1-this-outclass-çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_12-2-1-1-this-outclass-çš„ä½œç”¨" aria-hidden="true">#</a> 12.2.1.1 <code>this@OutClass</code> çš„ä½œç”¨</h5><p>åœ¨ç±» <code>A</code> çš„å®šä¹‰ä¸­ï¼Œå¯ä»¥å®šä¹‰å…¶ä»–ç±» <code>B</code> çš„æ‰©å±•æ–¹æ³•ã€‚æ­¤æ—¶ï¼Œåœ¨å…¶ä»–ç±» <code>B</code> çš„æ‰©å±•æ–¹æ³•ä¸­ï¼Œ<code>this</code> ä»ç„¶æŒ‡å‘ç±» <code>B</code> çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦‚æœæƒ³åœ¨å…¶ä»–ç±» <code>B</code> çš„æ‰©å±•æ–¹æ³•ä¸­è®¿é—®ç±» <code>A</code>ï¼Œåˆ™éœ€è¦ä½¿ç”¨ <code>this@A</code>ï¼ˆå³ <code>this@OutClass</code>ï¼‰ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå› ä¸ºç±» <code>B</code> çš„æ‰©å±•æ–¹æ³•æ˜¯åœ¨ç±» <code>A</code> ä¸­å®šä¹‰çš„ï¼Œæ‰€ä»¥ç±» <code>B</code> çš„æ‰©å±•æ–¹æ³•åªèƒ½åœ¨ç±» <code>A</code> ä¸­è®¿é—®ï¼ˆå¦‚åœ¨ç±» <code>A</code> çš„å…¶ä»–æˆå‘˜æ–¹æ³•ä¸­è®¿é—®ï¼‰ã€‚</p><p><img src="/assets/24.fccfb0dc.png" alt="" loading="lazy"></p><h5 id="_12-2-1-2-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_12-2-1-2-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" aria-hidden="true">#</a> 12.2.1.2 <code>&quot;..&quot;{...}</code> &amp; <code>String</code> çš„è¿ç®—ç¬¦ &quot;<code>()</code>&quot; çš„é‡è½½å‡½æ•°</h5><p>å¯¹äºå½¢å¦‚ <code>&quot;..&quot;{...}</code> çš„ä»£ç ï¼Œå…¶å®æ˜¯åœ¨è°ƒç”¨ <code>String</code> çš„è¿ç®—ç¬¦ &quot;<code>()</code>&quot; çš„é‡è½½å‡½æ•°ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">operator</span> <span class="token keyword">fun</span> String<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>block<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre></div><h5 id="_12-2-1-3-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_12-2-1-3-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" aria-hidden="true">#</a> 12.2.1.3 <code>&quot;..&quot;(...)</code> &amp; <code>String</code> çš„è¿ç®—ç¬¦ &quot;<code>()</code>&quot; çš„é‡è½½å‡½æ•°</h5><p>å¯¹äºå½¢å¦‚ <code>&quot;..&quot;(...)</code> çš„ä»£ç ï¼Œå…¶å®æ˜¯åœ¨è°ƒç”¨ <code>String</code> çš„è¿ç®—ç¬¦ &quot;<code>()</code>&quot; çš„é‡è½½å‡½æ•°ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">operator</span> <span class="token keyword">fun</span> String<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Any<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre></div><h5 id="_12-2-1-4-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_12-2-1-4-string-çš„è¿ç®—ç¬¦-çš„é‡è½½å‡½æ•°" aria-hidden="true">#</a> 12.2.1.4 <code>+&quot;...&quot;</code> &amp; <code>String</code> çš„è¿ç®—ç¬¦ &quot;<code>()</code>&quot; çš„é‡è½½å‡½æ•°</h5><p>å¯¹äºå½¢å¦‚ <code>+&quot;...&quot;</code> çš„ä»£ç ï¼Œå…¶å®æ˜¯åœ¨è°ƒç”¨ <code>String</code> çš„è¿ç®—ç¬¦ &quot;<code>()</code>&quot; çš„é‡è½½å‡½æ•°ï¼š</p><div class="language-kotlin ext-kt"><pre class="language-kotlin"><code><span class="token keyword">operator</span> <span class="token keyword">fun</span> String<span class="token punctuation">.</span><span class="token function">unaryPlus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre></div><h4 id="_12-2-2-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_12-2-2-ä»£ç å®ç°" aria-hidden="true">#</a> 12.2.2 ä»£ç å®ç°</h4><p><img src="/assets/25.256814e4.png" alt="" loading="lazy"></p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zengkaiqiang562/JavaGuide/edit/main/docs/zkq/kotlin/5-advanced-function.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/7/6 18:07:29</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zengk</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zkq/kotlin/4-expression.html" class="nav-link prev" arialabel="è¡¨è¾¾å¼"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->è¡¨è¾¾å¼</div></a><a href="/zkq/kotlin/6-advanced-class.html" class="nav-link next" arialabel="ç±»å‹è¿›é˜¶"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ç±»å‹è¿›é˜¶<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright Â© 2024 Zenk562</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.2a01fc36.js" defer></script>
  </body>
</html>
