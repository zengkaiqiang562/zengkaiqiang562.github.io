<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zengkaiqiang562.github.io/zkq/third-party-open-project/rxjava/operator.html"><meta property="og:site_name" content="Android Guide"><meta property="og:title" content="操作符（Operator）"><meta property="og:type" content="article"><meta property="og:image" content="https://zengkaiqiang562.github.io/"><meta property="og:updated_time" content="2022-07-07T15:59:00.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="操作符（Operator）"><meta property="article:tag" content="android"><meta property="article:tag" content="第三方框架"><meta property="article:modified_time" content="2022-07-07T15:59:00.000Z"><script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2922463_99aa80ii7cf.css"><title>操作符（Operator） | Android Guide</title><meta name="description" content="Android 学习 && 面试指南">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.c9a516cc.css">
    <link rel="modulepreload" href="/assets/app.2a01fc36.js"><link rel="modulepreload" href="/assets/operator.html.73ebb5c2.js"><link rel="modulepreload" href="/assets/operator.html.bda18b7f.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.png" alt="Android Guide"><!----><span class="site-name hide-in-pad">Android Guide</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" arialabel="面试指南"><i class="icon iconfont icon-java"></i>面试指南<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zhuanlan/" class="nav-link" arialabel="优质专栏"><i class="icon iconfont icon-recommend"></i>优质专栏<!----></a></div><div class="nav-item hide-in-mobile"><a href="/open-source-project/" class="nav-link" arialabel="项目精选"><i class="icon iconfont icon-github"></i>项目精选<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://snailclimb.gitee.io/javaguide/#/" rel="noopener noreferrer" target="_blank" arialabel="旧版链接" class="nav-link"><i class="icon iconfont icon-java"></i>旧版链接<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="https://javaguide.cn/feed.json" rel="noopener noreferrer" target="_blank" arialabel="RSS订阅" class="nav-link"><i class="icon iconfont icon-rss"></i>RSS订阅<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="nav-item hide-in-mobile"><a href="/about-the-author/" class="nav-link" arialabel="关于作者"><i class="icon iconfont icon-zuozhe"></i>关于作者<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zengkaiqiang562/JavaGuide" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" arialabelledby="auto" style="display:block;"><title id="auto" lang="en">auto icon</title><g fill="currentColor"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" arialabelledby="dark" style="display:none;"><title id="dark" lang="en">dark icon</title><g fill="currentColor"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></g></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" arialabelledby="light" style="display:none;"><title id="light" lang="en">light icon</title><g fill="currentColor"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></g></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/zkq/third-party-open-project/okhttp.html" class="nav-link sidebar-link sidebar-page" arialabel="OkHttp框架"><!---->OkHttp框架<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">RxJava框架</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/zkq/third-party-open-project/rxjava/overview.html" class="nav-link sidebar-link sidebar-page" arialabel="RxJava概述"><!---->RxJava概述<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="操作符（Operator）"><!---->操作符（Operator）<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7. 操作符"><!---->7. 操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-创建操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1 创建操作符"><!---->7.1 创建操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-1-create" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.1 create()"><!---->7.1.1 create()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-2-just" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.2 just()"><!---->7.1.2 just()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-3-fromarray-fromcallable-fromfuture-fromiterable" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.3 fromArray()/fromCallable()/fromFuture()/fromIterable()"><!---->7.1.3 fromArray()/fromCallable()/fromFuture()/fromIterable()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-4-defer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.4 defer()"><!---->7.1.4 defer()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-5-timer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.5 timer()"><!---->7.1.5 timer()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-6-interval" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.6 interval()"><!---->7.1.6 interval()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-7-intervalrange" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.7 intervalRange()"><!---->7.1.7 intervalRange()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-8-range" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.8 range()"><!---->7.1.8 range()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-9-rangelong" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.9 rangeLong()"><!---->7.1.9 rangeLong()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-10-empty-error-nerver" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1.10 empty()/error()/nerver()"><!---->7.1.10 empty()/error()/nerver()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-转换操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2 转换操作符"><!---->7.2 转换操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-1-map" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.1 map()"><!---->7.2.1 map()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-2-flatmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.2 flatMap()"><!---->7.2.2 flatMap()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-3-concatmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.3 concatMap()"><!---->7.2.3 concatMap()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-4-buffer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.4 buffer()"><!---->7.2.4 buffer()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-5-groupby" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.5 groupBy()"><!---->7.2.5 groupBy()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-6-scan" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.6 scan()"><!---->7.2.6 scan()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-7-window" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2.7 window()"><!---->7.2.7 window()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-组合操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3 组合操作符"><!---->7.3 组合操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-1-concatwith-concat-concatarray" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.1 concatWith()/concat()/concatArray()"><!---->7.3.1 concatWith()/concat()/concatArray()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-2-mergewith-merge-mergearray" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.2 mergeWith()/merge()/mergeArray()"><!---->7.3.2 mergeWith()/merge()/mergeArray()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-3-concatarraydelayerror-mergearraydelayerror" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.3 concatArrayDelayError()/mergeArrayDelayError()"><!---->7.3.3 concatArrayDelayError()/mergeArrayDelayError()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-4-zip" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.4 zip()"><!---->7.3.4 zip()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-5-combinelatest" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.5 combineLatest()"><!---->7.3.5 combineLatest()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-6-reduce" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.6 reduce()"><!---->7.3.6 reduce()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-7-collect" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.7 collect()"><!---->7.3.7 collect()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-8-startwith-startwitharray" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.8 startWith()/startWithArray()"><!---->7.3.8 startWith()/startWithArray()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-9-count" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3.9 count()"><!---->7.3.9 count()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-功能操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4 功能操作符"><!---->7.4 功能操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-1-delay" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.1 delay()"><!---->7.4.1 delay()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-2-dooneach" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.2 doOnEach()"><!---->7.4.2 doOnEach()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-3-doonnext" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.3 doOnNext()"><!---->7.4.3 doOnNext()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-4-doafternext" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.4 doAfterNext()"><!---->7.4.4 doAfterNext()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-5-dooncomplete" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.5 doOnComplete()"><!---->7.4.5 doOnComplete()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-6-doonerror" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.6 doOnError()"><!---->7.4.6 doOnError()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-7-doonsubscribe" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.7 doOnSubscribe()"><!---->7.4.7 doOnSubscribe()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-8-doondispose" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.8 doOnDispose()"><!---->7.4.8 doOnDispose()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-9-doonlifecycle" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.9 doOnLifecycle()"><!---->7.4.9 doOnLifecycle()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-10-doonterminate-doafterterminate" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.10 doOnTerminate()/doAfterTerminate()"><!---->7.4.10 doOnTerminate()/doAfterTerminate()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-11-dofinally" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.11 doFinally()"><!---->7.4.11 doFinally()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-12-onerrorreturn" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.12 onErrorReturn()"><!---->7.4.12 onErrorReturn()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-13-onerrorresumenext" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.13 onErrorResumeNext()"><!---->7.4.13 onErrorResumeNext()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-14-onexceptionresumenext" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.14 onExceptionResumeNext()"><!---->7.4.14 onExceptionResumeNext()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-15-retry" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.15 retry()"><!---->7.4.15 retry()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-16-retryuntil" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.16 retryUntil()"><!---->7.4.16 retryUntil()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-17-retrywhen" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.17 retryWhen()"><!---->7.4.17 retryWhen()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-18-repeat" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.18 repeat()"><!---->7.4.18 repeat()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-19-repeatwhen" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.19 repeatWhen()"><!---->7.4.19 repeatWhen()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-20-subscribeon" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.20 subscribeOn()"><!---->7.4.20 subscribeOn()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-21-observeon" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4.21 observeOn()"><!---->7.4.21 observeOn()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-过滤操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5 过滤操作符"><!---->7.5 过滤操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-1-filter" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.1 filter()"><!---->7.5.1 filter()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-2-oftype" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.2 ofType()"><!---->7.5.2 ofType()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-3-skip" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.3 skip()"><!---->7.5.3 skip()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-4-distinct" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.4 distinct()"><!---->7.5.4 distinct()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-5-distinctuntilchanged" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.5 distinctUntilChanged()"><!---->7.5.5 distinctUntilChanged()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-6-take" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.6 take()"><!---->7.5.6 take()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-7-debounce" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.7 debounce()"><!---->7.5.7 debounce()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-8-firstelement-lastelement" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.8 firstElement()/lastElement()"><!---->7.5.8 firstElement()/lastElement()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-9-elementat-elementatorerror" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.5.9 elementAt()/elementAtOrError()"><!---->7.5.9 elementAt()/elementAtOrError()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-条件操作符" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6 条件操作符"><!---->7.6 条件操作符<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-1-all" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.1 all()"><!---->7.6.1 all()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-2-takewhile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.2 takeWhile()"><!---->7.6.2 takeWhile()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-3-takeuntil" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.3 takeUntil()"><!---->7.6.3 takeUntil()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-4-skipwhile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.4 skipWhile()"><!---->7.6.4 skipWhile()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-5-skiluntil" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.5 skilUntil()"><!---->7.6.5 skilUntil()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-6-sequenceequal" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.6 sequenceEqual()"><!---->7.6.6 sequenceEqual()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-7-contains" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.7 contains()"><!---->7.6.7 contains()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-8-isempty" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.8 isEmpty()"><!---->7.6.8 isEmpty()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-9-amb" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.9 amb()"><!---->7.6.9 amb()<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-10-defaultifempty" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.6.10 defaultIfEmpty()"><!---->7.6.10 defaultIfEmpty()<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zkq/third-party-open-project/rxjava/scheduler.html" class="nav-link sidebar-link sidebar-page" arialabel="调度器（Scheduler）"><!---->调度器（Scheduler）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/third-party-open-project/rxjava/backpressure.html" class="nav-link sidebar-link sidebar-page" arialabel="背压（Backpressure）"><!---->背压（Backpressure）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><a href="/zkq/third-party-open-project/retrofit.html" class="nav-link sidebar-link sidebar-page" arialabel="Retrofit框架"><!---->Retrofit框架<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/third-party-open-project/glide.html" class="nav-link sidebar-link sidebar-page" arialabel="Glide框架"><!---->Glide框架<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zkq/third-party-open-project/eventbus.html" class="nav-link sidebar-link sidebar-page" arialabel="EventBus框架 （DOING）"><!---->EventBus框架 （DOING）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->操作符（Operator）</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://zengkaiqiang562.github.io/" target="_blank" rel="noopener noreferrer">Zenk562</a></span><span property="author" content="Zenk562"></span></span><span class="category-info" arialabel="分类🌈" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category clickable" role="navigation">android</li><li class="category clickable" role="navigation">第三方框架</li><meta property="articleSection" content="android,第三方框架"></ul></span><span arialabel="标签🏷" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag clickable" role="navigation">android</li><li class="tag clickable" role="navigation">第三方框架</li></ul><meta property="keywords" content="android,第三方框架"></span><span class="date-info" arialabel="写作日期📅" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年7月7日</span><meta property="datePublished" content="2022-07-07T15:59:00.000Z"></span><!----><span class="words-info" arialabel="字数🔠" isoriginal="false" pageview="false" color="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>约 11490 字</span><meta property="wordCount" content="11490"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-操作符" class="router-link-active router-link-exact-active toc-link level2">7. 操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-创建操作符" class="router-link-active router-link-exact-active toc-link level3">7.1 创建操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-1-create" class="router-link-active router-link-exact-active toc-link level4">7.1.1 create()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-2-just" class="router-link-active router-link-exact-active toc-link level4">7.1.2 just()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-3-fromarray-fromcallable-fromfuture-fromiterable" class="router-link-active router-link-exact-active toc-link level4">7.1.3 fromArray()/fromCallable()/fromFuture()/fromIterable()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-4-defer" class="router-link-active router-link-exact-active toc-link level4">7.1.4 defer()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-5-timer" class="router-link-active router-link-exact-active toc-link level4">7.1.5 timer()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-6-interval" class="router-link-active router-link-exact-active toc-link level4">7.1.6 interval()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-7-intervalrange" class="router-link-active router-link-exact-active toc-link level4">7.1.7 intervalRange()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-8-range" class="router-link-active router-link-exact-active toc-link level4">7.1.8 range()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-9-rangelong" class="router-link-active router-link-exact-active toc-link level4">7.1.9 rangeLong()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-1-10-empty-error-nerver" class="router-link-active router-link-exact-active toc-link level4">7.1.10 empty()/error()/nerver()</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-转换操作符" class="router-link-active router-link-exact-active toc-link level3">7.2 转换操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-1-map" class="router-link-active router-link-exact-active toc-link level4">7.2.1 map()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-2-flatmap" class="router-link-active router-link-exact-active toc-link level4">7.2.2 flatMap()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-3-concatmap" class="router-link-active router-link-exact-active toc-link level4">7.2.3 concatMap()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-4-buffer" class="router-link-active router-link-exact-active toc-link level4">7.2.4 buffer()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-5-groupby" class="router-link-active router-link-exact-active toc-link level4">7.2.5 groupBy()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-6-scan" class="router-link-active router-link-exact-active toc-link level4">7.2.6 scan()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-2-7-window" class="router-link-active router-link-exact-active toc-link level4">7.2.7 window()</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-组合操作符" class="router-link-active router-link-exact-active toc-link level3">7.3 组合操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-1-concatwith-concat-concatarray" class="router-link-active router-link-exact-active toc-link level4">7.3.1 concatWith()/concat()/concatArray()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-2-mergewith-merge-mergearray" class="router-link-active router-link-exact-active toc-link level4">7.3.2 mergeWith()/merge()/mergeArray()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-3-concatarraydelayerror-mergearraydelayerror" class="router-link-active router-link-exact-active toc-link level4">7.3.3 concatArrayDelayError()/mergeArrayDelayError()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-4-zip" class="router-link-active router-link-exact-active toc-link level4">7.3.4 zip()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-5-combinelatest" class="router-link-active router-link-exact-active toc-link level4">7.3.5 combineLatest()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-6-reduce" class="router-link-active router-link-exact-active toc-link level4">7.3.6 reduce()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-7-collect" class="router-link-active router-link-exact-active toc-link level4">7.3.7 collect()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-8-startwith-startwitharray" class="router-link-active router-link-exact-active toc-link level4">7.3.8 startWith()/startWithArray()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-3-9-count" class="router-link-active router-link-exact-active toc-link level4">7.3.9 count()</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-功能操作符" class="router-link-active router-link-exact-active toc-link level3">7.4 功能操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-1-delay" class="router-link-active router-link-exact-active toc-link level4">7.4.1 delay()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-2-dooneach" class="router-link-active router-link-exact-active toc-link level4">7.4.2 doOnEach()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-3-doonnext" class="router-link-active router-link-exact-active toc-link level4">7.4.3 doOnNext()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-4-doafternext" class="router-link-active router-link-exact-active toc-link level4">7.4.4 doAfterNext()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-5-dooncomplete" class="router-link-active router-link-exact-active toc-link level4">7.4.5 doOnComplete()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-6-doonerror" class="router-link-active router-link-exact-active toc-link level4">7.4.6 doOnError()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-7-doonsubscribe" class="router-link-active router-link-exact-active toc-link level4">7.4.7 doOnSubscribe()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-8-doondispose" class="router-link-active router-link-exact-active toc-link level4">7.4.8 doOnDispose()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-9-doonlifecycle" class="router-link-active router-link-exact-active toc-link level4">7.4.9 doOnLifecycle()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-10-doonterminate-doafterterminate" class="router-link-active router-link-exact-active toc-link level4">7.4.10 doOnTerminate()/doAfterTerminate()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-11-dofinally" class="router-link-active router-link-exact-active toc-link level4">7.4.11 doFinally()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-12-onerrorreturn" class="router-link-active router-link-exact-active toc-link level4">7.4.12 onErrorReturn()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-13-onerrorresumenext" class="router-link-active router-link-exact-active toc-link level4">7.4.13 onErrorResumeNext()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-14-onexceptionresumenext" class="router-link-active router-link-exact-active toc-link level4">7.4.14 onExceptionResumeNext()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-15-retry" class="router-link-active router-link-exact-active toc-link level4">7.4.15 retry()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-16-retryuntil" class="router-link-active router-link-exact-active toc-link level4">7.4.16 retryUntil()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-17-retrywhen" class="router-link-active router-link-exact-active toc-link level4">7.4.17 retryWhen()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-18-repeat" class="router-link-active router-link-exact-active toc-link level4">7.4.18 repeat()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-19-repeatwhen" class="router-link-active router-link-exact-active toc-link level4">7.4.19 repeatWhen()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-20-subscribeon" class="router-link-active router-link-exact-active toc-link level4">7.4.20 subscribeOn()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-4-21-observeon" class="router-link-active router-link-exact-active toc-link level4">7.4.21 observeOn()</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-过滤操作符" class="router-link-active router-link-exact-active toc-link level3">7.5 过滤操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-1-filter" class="router-link-active router-link-exact-active toc-link level4">7.5.1 filter()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-2-oftype" class="router-link-active router-link-exact-active toc-link level4">7.5.2 ofType()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-3-skip" class="router-link-active router-link-exact-active toc-link level4">7.5.3 skip()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-4-distinct" class="router-link-active router-link-exact-active toc-link level4">7.5.4 distinct()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-5-distinctuntilchanged" class="router-link-active router-link-exact-active toc-link level4">7.5.5 distinctUntilChanged()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-6-take" class="router-link-active router-link-exact-active toc-link level4">7.5.6 take()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-7-debounce" class="router-link-active router-link-exact-active toc-link level4">7.5.7 debounce()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-8-firstelement-lastelement" class="router-link-active router-link-exact-active toc-link level4">7.5.8 firstElement()/lastElement()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-5-9-elementat-elementatorerror" class="router-link-active router-link-exact-active toc-link level4">7.5.9 elementAt()/elementAtOrError()</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-条件操作符" class="router-link-active router-link-exact-active toc-link level3">7.6 条件操作符</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-1-all" class="router-link-active router-link-exact-active toc-link level4">7.6.1 all()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-2-takewhile" class="router-link-active router-link-exact-active toc-link level4">7.6.2 takeWhile()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-3-takeuntil" class="router-link-active router-link-exact-active toc-link level4">7.6.3 takeUntil()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-4-skipwhile" class="router-link-active router-link-exact-active toc-link level4">7.6.4 skipWhile()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-5-skiluntil" class="router-link-active router-link-exact-active toc-link level4">7.6.5 skilUntil()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-6-sequenceequal" class="router-link-active router-link-exact-active toc-link level4">7.6.6 sequenceEqual()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-7-contains" class="router-link-active router-link-exact-active toc-link level4">7.6.7 contains()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-8-isempty" class="router-link-active router-link-exact-active toc-link level4">7.6.8 isEmpty()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-9-amb" class="router-link-active router-link-exact-active toc-link level4">7.6.9 amb()</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zkq/third-party-open-project/rxjava/operator.html#_7-6-10-defaultifempty" class="router-link-active router-link-exact-active toc-link level4">7.6.10 defaultIfEmpty()</a></li><!----><!--]--></ul><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h2 id="_7-操作符" tabindex="-1"><a class="header-anchor" href="#_7-操作符" aria-hidden="true">#</a> 7. 操作符</h2><blockquote><p>参考 https://github.com/ReactiveX/RxJava/wiki</p></blockquote><p>对于 <code>Rx</code> 来说，<code>Observable</code> 和 <code>Observer</code> 仅仅是个开始，它们本身不过是标准观察者模式的一些轻量级扩展，目的是为了更好的处理事件序列。</p><p><code>Rx</code> 真正强大的地方在于它的操作符，操作符让你可以变换、组合、操纵和处理 <code>Observable</code> 发射的数据。</p><p><code>Rx</code> 的操作符让你可以用声明式的风格组合异步操作序列，它拥有回调的所有效率优势，同时又避免了典型的异步系统中嵌套回调的缺点。</p><p><code>RxJava</code> 中，操作符作为成员方法定义在 <code>Observable</code> 中。</p><h3 id="_7-1-创建操作符" tabindex="-1"><a class="header-anchor" href="#_7-1-创建操作符" aria-hidden="true">#</a> 7.1 创建操作符</h3><p>创建操作符用于创建被观察者对象</p><h4 id="_7-1-1-create" tabindex="-1"><a class="header-anchor" href="#_7-1-1-create" aria-hidden="true">#</a> 7.1.1 <code>create()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">ObservableOnSubscribe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">RxJavaPlugins</span><span class="token punctuation">.</span><span class="token function">onAssembly</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ObservableCreate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>创建一个被观察者对象

参数 <span class="token class-name">ObservableOnSubscribe</span> 接口提供 <span class="token keyword">void</span> <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">ObservableEmitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> emitter<span class="token punctuation">)</span> 方法，用于将被观察者和发射器绑定起来。
重写 <span class="token class-name">ObservableOnSubscribe</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span> 方法，通过参数发射器 emitter 发射数据项和事件序列。

<span class="token class-name">ObservableCreate</span> 是抽象类 <span class="token class-name">Observable</span> 的具体子类，重写了 <span class="token keyword">void</span> <span class="token function">subscribeActual</span><span class="token punctuation">(</span><span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> observer<span class="token punctuation">)</span> 方法。
其中 <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">subscribeActual</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span> 方法用于处理数据项和事件序列的发射和接收。
    在 <span class="token class-name">ObservableCreate</span>，subscribeActual 方法中：
        <span class="token number">1.</span> 数据项和事件序列的发射过程，是通过调用 <span class="token class-name">ObservableOnSubscribe</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>emitter<span class="token punctuation">)</span> 方法实现的；
        <span class="token number">2.</span> 数据项和事件序列的接收过程，则是在 <span class="token class-name">ObservableEmitter</span> 的实现类中完成的（<span class="token class-name">ObservableEmitter</span> 持有 <span class="token class-name">Observer</span> 的引用）。

注意：其他的四种观察者也对应有不同的 <span class="token class-name">XxxOnSubscribe</span> 和 <span class="token class-name">XxxCreate</span>。
</code></pre></div><h4 id="_7-1-2-just" tabindex="-1"><a class="header-anchor" href="#_7-1-2-just" aria-hidden="true">#</a> 7.1.2 <code>just()</code></h4><p><img src="/assets/06.6add8ca8.png" alt="" loading="lazy"></p><div class="language-java ext-java"><pre class="language-java"><code>创建一个被观察者对象，同时可传入待发射的数据项 <span class="token class-name">T</span>。

如上图所示，重载了 <span class="token number">10</span> 个 just 操作符方法，即：待发射的数据项 <span class="token class-name">T</span> 不能超过 <span class="token number">10</span> 个。
</code></pre></div><h4 id="_7-1-3-fromarray-fromcallable-fromfuture-fromiterable" tabindex="-1"><a class="header-anchor" href="#_7-1-3-fromarray-fromcallable-fromfuture-fromiterable" aria-hidden="true">#</a> 7.1.3 <code>fromArray()/fromCallable()/fromFuture()/fromIterable()</code></h4><ol><li><p><code>fromArray()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromArray</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> items<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>创建一个被观察者对象，同时可传入待发射的数据项。

没有限制待发射的数据项。

<span class="token function">just</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 发射多个数据项就是基于 <span class="token function">fromArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 实现的。
</code></pre></div></li><li><p><code>fromCallable()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromCallable</span><span class="token punctuation">(</span><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> supplier<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将参数 <span class="token class-name">Callable</span> 的 <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法的返回值作为数据项发射给观察者
</code></pre></div></li><li><p><code>fromFuture()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromFuture</span><span class="token punctuation">(</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> future<span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromFuture</span><span class="token punctuation">(</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> future<span class="token punctuation">,</span> <span class="token keyword">long</span> timeout<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromFuture</span><span class="token punctuation">(</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> future<span class="token punctuation">,</span> <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromFuture</span><span class="token punctuation">(</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> future<span class="token punctuation">,</span> <span class="token keyword">long</span> timeout<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span> <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>参数 Future 的作用是增加了 cancel() 等方法来操作 Callable，通过 Future.get 方法来获取 Callable 的返回值。
即将 Future.get 方法的返回值作为数据项发射给观察者。

参数 Scheduler 用于指定线程。
</code></pre></div></li><li><p><code>fromIterable()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">fromIterable</span><span class="token punctuation">(</span><span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将参数 source 集合中的元素 <span class="token class-name">T</span> 作为数据项发射给观察者。
</code></pre></div></li></ol><h4 id="_7-1-4-defer" tabindex="-1"><a class="header-anchor" href="#_7-1-4-defer" aria-hidden="true">#</a> 7.1.4 <code>defer()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">defer</span><span class="token punctuation">(</span><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> supplier<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>静态方法 defer 返回的被观察者并不是用来发射数据项和事件序列的。
真正发射数据项和事件序列的被观察者是通过参数 <span class="token class-name">Callable</span> 的泛型指定的。
defer 方法的作用就是：
    当 defer 方法返回的被观察者被订阅后，才通过参数 <span class="token class-name">Callable</span> 的 <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法创建并返回用于发射数据项和事件序列的被观察者。
也就是说，通过 defer 方法，推迟了用于发射数据项和事件序列的被观察者的创建时机。
</code></pre></div><h4 id="_7-1-5-timer" tabindex="-1"><a class="header-anchor" href="#_7-1-5-timer" aria-hidden="true">#</a> 7.1.5 <code>timer()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token keyword">long</span> delay<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token keyword">long</span> delay<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span> <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在指定时间 delay 后，发射一个 <span class="token class-name">Long</span> 类型的固定数据项 <span class="token number">0L</span> 给观察者。
</code></pre></div><h4 id="_7-1-6-interval" tabindex="-1"><a class="header-anchor" href="#_7-1-6-interval" aria-hidden="true">#</a> 7.1.6 <code>interval()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token keyword">long</span> initialDelay<span class="token punctuation">,</span> <span class="token keyword">long</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token keyword">long</span> initialDelay<span class="token punctuation">,</span> <span class="token keyword">long</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span> <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>

<span class="token comment">// 相当于 interval(period, period, unit)</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token keyword">long</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span> 
<span class="token comment">// 相当于 interval(period, period, unit, scheduler)</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">interval</span><span class="token punctuation">(</span><span class="token keyword">long</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span> <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span> 
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>延迟 initialDelay 时间后，开始发射数据项给观察者。之后，每间隔 period 时间都会发射一个数据项给观察者。
开始时，先发射一个 <span class="token class-name">Long</span> 类型的数据项 <span class="token number">0L</span>，之后每次发射的数据项都 <span class="token operator">+</span><span class="token number">1</span>
</code></pre></div><h4 id="_7-1-7-intervalrange" tabindex="-1"><a class="header-anchor" href="#_7-1-7-intervalrange" aria-hidden="true">#</a> 7.1.7 <code>intervalRange()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">intervalRange</span><span class="token punctuation">(</span><span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> count<span class="token punctuation">,</span> <span class="token keyword">long</span> initialDelay<span class="token punctuation">,</span> <span class="token keyword">long</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">intervalRange</span><span class="token punctuation">(</span><span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> count<span class="token punctuation">,</span> <span class="token keyword">long</span> initialDelay<span class="token punctuation">,</span> <span class="token keyword">long</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span> <span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>延迟 initialDelay 时间后，开始发射数据项给观察者。之后，每间隔 period 时间都会发射一个数据项给观察者。
开始时，先发射一个 <span class="token class-name">Long</span> 类型的数据项 start，之后每次发射的数据项都 <span class="token operator">+</span><span class="token number">1</span>，一共发射 count 个数据项。
</code></pre></div><h4 id="_7-1-8-range" tabindex="-1"><a class="header-anchor" href="#_7-1-8-range" aria-hidden="true">#</a> 7.1.8 <code>range()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span>
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>没有延迟时间，也没有间隔时间。
先发射一个 int 类型的数据项 start，之后每次发射的数据项都 +1，一共发射 count 个数据项。
</code></pre></div><h4 id="_7-1-9-rangelong" tabindex="-1"><a class="header-anchor" href="#_7-1-9-rangelong" aria-hidden="true">#</a> 7.1.9 <code>rangeLong()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">rangeLong</span><span class="token punctuation">(</span><span class="token keyword">long</span> start<span class="token punctuation">,</span> <span class="token keyword">long</span> count<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>作用与 <span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 一样，只是数据项的类型为 <span class="token class-name">Long</span>。
</code></pre></div><h4 id="_7-1-10-empty-error-nerver" tabindex="-1"><a class="header-anchor" href="#_7-1-10-empty-error-nerver" aria-hidden="true">#</a> 7.1.10 <code>empty()/error()/nerver()</code></h4><ol><li><p><code>empty()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>不发射数据项，只发射一个 onComplete() 事件给观察者
</code></pre></div></li><li><p><code>error()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> errorSupplier<span class="token punctuation">)</span> <span class="token comment">// 订阅时才创建发射事件的被观察者</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Throwable</span> exception<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>不发射数据项，只发射一个 onError 事件给观察者
</code></pre></div></li><li><p><code>nerver()</code></p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">/* Observable.java */</span>
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">never</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>既不发射数据项，也不发射任何事件。
只会触发观察者的 <span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Disposable</span> d<span class="token punctuation">)</span> 方法。
</code></pre></div></li></ol><h3 id="_7-2-转换操作符" tabindex="-1"><a class="header-anchor" href="#_7-2-转换操作符" aria-hidden="true">#</a> 7.2 转换操作符</h3><h4 id="_7-2-1-map" tabindex="-1"><a class="header-anchor" href="#_7-2-1-map" aria-hidden="true">#</a> 7.2.1 <code>map()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>map 是一个非静态方法，返回一个 <span class="token class-name">ObservableMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 类型的被观察者。
接口 <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 提供一个 <span class="token string">&quot;R apply(T)&quot;</span> 方法，用于将类型 <span class="token class-name">T</span> 转换为类型 <span class="token class-name">R</span>。
当使用了操作符 map 的被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射数据项 <span class="token class-name">T</span> 时，
会先被一个中间观察者（<span class="token class-name">MapObserver</span>）接收到，并通过 <span class="token class-name">Function</span> 的 apply 方法将传入的数据项 <span class="token class-name">T</span> 转换成数据项 <span class="token class-name">R</span>，
然后再将转换后的数据项 <span class="token class-name">R</span> 发射给目标观察者。

简单地说，操作符 map 可以将发射的数据项 <span class="token class-name">T</span> 转换成其它类型的数据项 <span class="token class-name">R</span>，观察者接收到的就是转换后的数据项 <span class="token class-name">R</span>。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 4</span>
<span class="token comment">// 9</span>
</code></pre></div><h4 id="_7-2-2-flatmap" tabindex="-1"><a class="header-anchor" href="#_7-2-2-flatmap" aria-hidden="true">#</a> 7.2.2 <code>flatMap()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>flatMap 和 map 的作用类似，都是将 <span class="token class-name">T</span> 类型的数据项转换成 <span class="token class-name">R</span> 类型的数据项，再发射给观察者。
区别是：
    <span class="token number">1.</span> map 直接通过 <span class="token class-name">Function</span><span class="token punctuation">.</span>apply 方法返回转换后的 <span class="token class-name">R</span> 类型的数据项；
    <span class="token number">2.</span> flatmap 的 <span class="token class-name">Function</span><span class="token punctuation">.</span>apply 方法则返回一个作为中介的被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span>，
        由中介被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 生成 <span class="token class-name">R</span> 类型的数据项，再发射给目标观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>a <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">intervalRange</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span> <span class="token comment">// 从 1 开始发射 3 个数。延迟 0s，间隔 1s</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>b <span class="token operator">-&gt;</span> <span class="token char">&#39;(&#39;</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token char">&#39;)&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints (not necessarily in this order):</span>
<span class="token comment">// (A, 1)</span>
<span class="token comment">// (C, 1)</span>
<span class="token comment">// (B, 1)</span>
<span class="token comment">// (A, 2)</span>
<span class="token comment">// (C, 2)</span>
<span class="token comment">// (B, 2)</span>
<span class="token comment">// (A, 3)</span>
<span class="token comment">// (C, 3)</span>
<span class="token comment">// (B, 3)</span>
</code></pre></div><h4 id="_7-2-3-concatmap" tabindex="-1"><a class="header-anchor" href="#_7-2-3-concatmap" aria-hidden="true">#</a> 7.2.3 <code>concatMap()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">concatMap</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token function">concatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 <span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 基本上是一样的，只不过 <span class="token function">concatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 转发出来的事件是有序的，而 <span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 是无序的。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">concatMap</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> delay <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 尽管延迟时间随机，但总能保证依次打印 01234</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">print</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints 01234</span>
</code></pre></div><h4 id="_7-2-4-buffer" tabindex="-1"><a class="header-anchor" href="#_7-2-4-buffer" aria-hidden="true">#</a> 7.2.4 <code>buffer()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">buffer</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射的数据项 <span class="token class-name">T</span> 缓冲到 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 集合中，当 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 集合中缓冲了 count 个数据项 <span class="token class-name">T</span> 时，
再将 <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 集合作为数据项发射给目标观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> buffer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// [0, 1, 2, 3]</span>
<span class="token comment">// [4, 5, 6, 7]</span>
<span class="token comment">// [8, 9]</span>
</code></pre></div><h4 id="_7-2-5-groupby" tabindex="-1"><a class="header-anchor" href="#_7-2-5-groupby" aria-hidden="true">#</a> 7.2.5 <code>groupBy()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GroupedObservable</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">groupBy</span><span class="token punctuation">(</span>
            <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keySelector<span class="token punctuation">)</span>

<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GroupedObservable</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">groupBy</span><span class="token punctuation">(</span>
            <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keySelector<span class="token punctuation">,</span>
            <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valueSelector<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将发送的数据进行分组，每个分组都会返回一个被观察者，具体就是：

将源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射的数据项 <span class="token class-name">T</span> 转换成数据项 <span class="token class-name">GroupedObservable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span>，即将一个被观察者作为数据项发射出去。
这个作为数据项的被观察者 <span class="token class-name">GroupedObservable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> 用来对源数据项 <span class="token class-name">T</span> 进行分组，其中：
<span class="token number">1.</span> 通过 <span class="token string">&quot;K keySetlector.apply(T)&quot;</span> 方法，确定根据数据项 <span class="token class-name">T</span> 进行分组时所采用的组键为 <span class="token class-name">K</span> 类型的返回值
<span class="token number">2.</span> 通过 <span class="token string">&quot;V valueSelector.apply(T)&quot;</span> 方法，确定根据数据项 <span class="token class-name">T</span> 进行分组时所保存的组元素为 <span class="token class-name">V</span> 类型的返回值
同一组中的所有组元素使用同一个 <span class="token class-name">GroupedObservable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> 发射
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> animals <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span>
    <span class="token string">&quot;Tiger&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Elephant&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Chameleon&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Frog&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Fish&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Turtle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Flamingo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 以发射的字符串数据的首字母为组键，字符串的大写为组元素</span>
<span class="token comment">// 即 groupBy 将数据项 String 转换成了数据项 GroupedObservable&lt;Char, String&gt;</span>
animals<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>animal <span class="token operator">-&gt;</span> animal<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token operator">::</span><span class="token function">toUpperCase</span><span class="token punctuation">)</span> 
    <span class="token comment">// concatMapSingle(Observable::toList) 将数据项 GroupedObservable&lt;Char, String&gt; 转换成了数据项 Single&lt;List&lt;String&gt;&gt;</span>
    <span class="token punctuation">.</span><span class="token function">concatMapSingle</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token operator">::</span><span class="token function">toList</span><span class="token punctuation">)</span> 
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分别打印每组中的组元素集合 List&lt;String&gt;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// [TIGER, TURTLE]</span>
<span class="token comment">// [ELEPHANT]</span>
<span class="token comment">// [CAT, CHAMELEON]</span>
<span class="token comment">// [FROG, FISH, FLAMINGO]</span>
</code></pre></div><h4 id="_7-2-6-scan" tabindex="-1"><a class="header-anchor" href="#_7-2-6-scan" aria-hidden="true">#</a> 7.2.6 <code>scan()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">scan</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">R</span> initialValue<span class="token punctuation">,</span> <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> accumulator<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 函数接口的作用就是提供 <span class="token string">&quot;R apply(T1 t1, T2 t2)&quot;</span> 方法，将 T1 和 T2 转换成 <span class="token class-name">R</span>

scan 操作符的作用就是通过 <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 提供的 apply 方法，
将源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射的 <span class="token class-name">T</span> 类型的数据项和 <span class="token class-name">R</span> 类型的初始值 initialValue，
转换成一个 <span class="token class-name">R</span> 类型的返回值发射给目标观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span>。
具体的流程是：
<span class="token number">1.</span> 先把 <span class="token class-name">R</span> 类型的初始值 initialValue 发射给 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span>
<span class="token number">2.</span> 接着把 <span class="token class-name">R</span> 类型的初始值 initialValue 和 <span class="token class-name">T</span> 类型的数据项经过 apply 方法转换后的 <span class="token class-name">R</span> 类型的返回值发射给 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span>
<span class="token number">3.</span> 之后每次发射的 <span class="token class-name">T</span> 类型的数据项都会和上一次发射的 <span class="token class-name">R</span> 类型的返回值再经过 apply 方法进行转换，
   然后再将转换后的 <span class="token class-name">R</span> 类型的返回值发射给 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span>

简单地说，scan 操作符的作用就是将源数据以一定的逻辑聚合起来，将聚合得到新数据发射出去
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>partialSum<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> partialSum <span class="token operator">+</span> x<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 0</span>
<span class="token comment">// 5</span>
<span class="token comment">// 8</span>
<span class="token comment">// 16</span>
<span class="token comment">// 17</span>
<span class="token comment">// 24</span>
</code></pre></div><h4 id="_7-2-7-window" tabindex="-1"><a class="header-anchor" href="#_7-2-7-window" aria-hidden="true">#</a> 7.2.7 <code>window()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Observable</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">window</span><span class="token punctuation">(</span><span class="token keyword">long</span> count<span class="token punctuation">,</span> <span class="token keyword">long</span> skip<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射的数据项 <span class="token class-name">T</span> 转换成数据项 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span>，即将一个被观察者作为数据项发射出去。
这个作为数据项的被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 用来对源数据项 <span class="token class-name">T</span> 进行分组，其中：
<span class="token number">1.</span> 每连续发射的 count 个数据项 <span class="token class-name">T</span> 分为同一组，
<span class="token number">2.</span> 从第二次分组开始，每次分组时都相对于上一次分组时的起始位置跳过 skip 个数据项 <span class="token class-name">T</span>
同一组中的所有数据项 <span class="token class-name">T</span> 使用同一个 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射。
（用于发射一组数据项 <span class="token class-name">T</span> 的 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 就称为 window）
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token comment">// Create windows containing at most 2 items, and skip 3 items before starting a new window.</span>
    <span class="token punctuation">.</span><span class="token function">window</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMapSingle</span><span class="token punctuation">(</span>window <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringJoiner</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StringJoiner</span><span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// [1, 2]</span>
<span class="token comment">// [4, 5]</span>
<span class="token comment">// [7, 8]</span>
<span class="token comment">// [10]</span>
</code></pre></div><h3 id="_7-3-组合操作符" tabindex="-1"><a class="header-anchor" href="#_7-3-组合操作符" aria-hidden="true">#</a> 7.3 组合操作符</h3><h4 id="_7-3-1-concatwith-concat-concatarray" tabindex="-1"><a class="header-anchor" href="#_7-3-1-concatwith-concat-concatarray" aria-hidden="true">#</a> 7.3.1 <code>concatWith()</code>/<code>concat()</code>/<code>concatArray()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concatWith</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token comment">// concat(this, other)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concat</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">)</span> <span class="token comment">// concatArray(source1, source2)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concat</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source3<span class="token punctuation">)</span> <span class="token comment">// concatArray(source1, source2, source3)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concat</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source3<span class="token punctuation">,</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source4<span class="token punctuation">)</span> <span class="token comment">// concatArray(source1, source2, source3, source4)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concatArray</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> sources<span class="token punctuation">)</span> 
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token function">concatWith</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span> 通过调用静态方法 <span class="token function">concat</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> 实现
<span class="token function">concat</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">concat</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> s3<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">concat</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> s3<span class="token punctuation">,</span> s4<span class="token punctuation">)</span> 通过调用静态方法 <span class="token function">concatArray</span><span class="token punctuation">(</span>sources<span class="token punctuation">)</span> 实现

concatArray 可以将多个被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 组合在一起，然后按照被观察者在参数列表中的组合顺序发射数据项。
即前一个被观察者中的数据项没全部发射完成之前，不会发射后一个被观察者中的数据项。
注意：<span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 最多只可以发送 <span class="token number">4</span> 个事件。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">concatWith</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints 1, 2, 3, 4, 5, 6</span>
</code></pre></div><h4 id="_7-3-2-mergewith-merge-mergearray" tabindex="-1"><a class="header-anchor" href="#_7-3-2-mergewith-merge-mergearray" aria-hidden="true">#</a> 7.3.2 <code>mergeWith()</code>/<code>merge()</code>/<code>mergeArray()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">mergeWith</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token comment">// merge(this, other)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">merge</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">merge</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source3<span class="token punctuation">)</span>   

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">merge</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source3<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source4<span class="token punctuation">)</span>
            
<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">mergeArray</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> sources<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>merge 和 concat 的作用基本一样，都是将多个被观察者进行合并。
区别是：merge 并行发射数据项，concat 串行发射数据项。
即 merge 不保证参数列表前面的被观察者的数据项全部发射完后，再发射后面的被观察者中的数据项。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">mergeWith</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-3-3-concatarraydelayerror-mergearraydelayerror" tabindex="-1"><a class="header-anchor" href="#_7-3-3-concatarraydelayerror-mergearraydelayerror" aria-hidden="true">#</a> 7.3.3 <code>concatArrayDelayError()</code>/<code>mergeArrayDelayError()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concatArrayDelayError</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> sources<span class="token punctuation">)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">mergeArrayDelayError</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> sources<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>对于 concatArray（串行）或 mergeArray（并行），
在合并的多个被观察者中，如果其中有一个被观察者发射了一个 onError 事件，那么就会停止发射数据项，
如果想让 onError 事件延迟到所有被观察者都发射完数据项后再执行，
就可以使用 concatArrayDelayError（串行） 或 mergeArrayDelayError（并行）
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observable1 <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> observable2 <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">mergeDelayError</span><span class="token punctuation">(</span>observable1<span class="token punctuation">,</span> observable2<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// emits 4, 5, 6 and then the IllegalArgumentException</span>
</code></pre></div><h4 id="_7-3-4-zip" tabindex="-1"><a class="header-anchor" href="#_7-3-4-zip" aria-hidden="true">#</a> 7.3.4 <code>zip()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">zipWith</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">,</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> zipper<span class="token punctuation">)</span> <span class="token comment">// zip(this, other, zipper)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">zip</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T1<span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T2<span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T1<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T2<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> zipper<span class="token punctuation">)</span> 

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> T3<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">zip</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T1<span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T2<span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T3<span class="token punctuation">&gt;</span></span> source3<span class="token punctuation">,</span>
            <span class="token class-name">Function3</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T1<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T2<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T3<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> zipper<span class="token punctuation">)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> T3<span class="token punctuation">,</span> T4<span class="token punctuation">,</span> T5<span class="token punctuation">,</span> T6<span class="token punctuation">,</span> T7<span class="token punctuation">,</span> T8<span class="token punctuation">,</span> T9<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">zip</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T1<span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T2<span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span> 
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T9<span class="token punctuation">&gt;</span></span> source9<span class="token punctuation">,</span>
            <span class="token class-name">Function9</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T1<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T9<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> zipper<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将多个被观察者各自发射的数据项通过 <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">N</span><span class="token punctuation">&gt;</span></span> 函数接口提供的 apply 方法转换成一个新的数据项发射出去。
如果每个被观察者各自发射的数据项数量不同，则转换的新数据项数量以最少数量为准。即每次转换时，各个被观察者都需要提供有效的数据项。

根据源码实现进行理解：
<span class="token number">1.</span> 准备一个数组（数组大小 <span class="token operator">=</span> 被观察者的个数）
<span class="token number">2.</span> 再为每个被观察者准备一个队列容器
<span class="token number">3.</span> 每个被观察者发射的数据项都先存入到队列中，然后判断：
    如果数组中已经放了一个该被观察者发射的数据项，那么先不做处理；
    如果还没放，那么从队列中取出一个数据项放入到数组中。
<span class="token number">4.</span> 直到每个被观察者都放了一个数据项到数组中，再将数组中的所有数据项作为 apply 方法的参数，转换出一个新的数据项。
<span class="token number">5.</span> 将转换后的新数据项发射给观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 。
<span class="token number">6.</span> 清空数组。
如上，按照 <span class="token number">3</span>、<span class="token number">4</span>、<span class="token number">5</span>、<span class="token number">6</span> 的步骤处理数据项。
（如果每个被观察者各自发射的数据项数量不同，那么当数量最少的那个被观察者把数据项都发射完后，容器就无法填满了。
此时，就不会转换出新的数据项，观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 也就不会再接收到数据了。）
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> firstNames <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;James&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Jean-Luc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Benjamin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lastNames <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Kirk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Picard&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sisko&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
firstNames<span class="token punctuation">.</span><span class="token function">zipWith</span><span class="token punctuation">(</span>lastNames<span class="token punctuation">,</span> <span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> first <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> last<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints James Kirk, Jean-Luc Picard, Benjamin Sisko</span>
</code></pre></div><h4 id="_7-3-5-combinelatest" tabindex="-1"><a class="header-anchor" href="#_7-3-5-combinelatest" aria-hidden="true">#</a> 7.3.5 <code>combineLatest()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">combineLatest</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T1<span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T2<span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T1<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T2<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> combiner<span class="token punctuation">)</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> T3<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">combineLatest</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T1<span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T2<span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T3<span class="token punctuation">&gt;</span></span> source3<span class="token punctuation">,</span>
            <span class="token class-name">Function3</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T1<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T2<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T3<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> combiner<span class="token punctuation">)</span> 

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token punctuation">,</span> T3<span class="token punctuation">,</span> T4<span class="token punctuation">,</span> T5<span class="token punctuation">,</span> T6<span class="token punctuation">,</span> T7<span class="token punctuation">,</span> T8<span class="token punctuation">,</span> T9<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">combineLatest</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T1<span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T2<span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> T9<span class="token punctuation">&gt;</span></span> source9<span class="token punctuation">,</span>
            <span class="token class-name">Function9</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> T1<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> T9<span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> combiner<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token function">combineLatest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 的作用与 <span class="token function">zip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 类似。
都是将多个被观察者各自发射的数据项通过 <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">N</span><span class="token punctuation">&gt;</span></span> 函数接口提供的 apply 方法转换成一个新的数据项发射出去。
但是 <span class="token function">combineLatest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 中参与转换的各个数据项与发射的时间线有关：
    当 <span class="token function">combineLatest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 中所有的被观察者都发射了事件之后，
    只要其中有一个被观察者再发射数据项，这个数据项就会和其它的被观察者最后发射的数据项一起进行转换。

根据源码实现进行理解：
<span class="token number">1.</span> 准备一个数组（数组大小 <span class="token operator">=</span> 被观察者的个数）
<span class="token number">2.</span> 每个被观察者发射的数据项直接放入到数组中对应的位置，如果已放入了之前发射的数据项，覆盖掉即可。
<span class="token number">3.</span> 直到每个被观察者都放了一个数据项到数组中，再将数组中的所有数据项作为 apply 方法的参数，转换出一个新的数据项。
<span class="token number">4.</span> 将转换后的新数据项发射给观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 。
<span class="token number">5.</span> 不清空数组，每个被观察者新发射的数据项都覆盖掉数组中之前的数据项。即数组中保存有每个被观察者最后发射的数据项。
从第 <span class="token number">5</span> 点开始，只要有被观察者发射了数据项，更新了数组，都会将数组中的所有数据项作为 apply 方法的参数，
转换出一个新的数据项，然后发射给观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> 。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> newsRefreshes <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> weatherRefreshes <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">combineLatest</span><span class="token punctuation">(</span>newsRefreshes<span class="token punctuation">,</span> weatherRefreshes<span class="token punctuation">,</span>
    <span class="token punctuation">(</span>newsRefreshTimes<span class="token punctuation">,</span> weatherRefreshTimes<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
        <span class="token string">&quot;Refreshed news &quot;</span> <span class="token operator">+</span> newsRefreshTimes <span class="token operator">+</span> <span class="token string">&quot; times and weather &quot;</span> <span class="token operator">+</span> weatherRefreshTimes<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:          // 第 50 s 时，weatherRefreshes 发射 0，但 newsRefreshes 还没发射过数据，无法进行转换</span>
<span class="token comment">// Refreshed news 0 times and weather 0  // 第 100 s 时，newsRefreshes 发射 0</span>
<span class="token comment">// Refreshed news 0 times and weather 1  // 第 100 s 时，weatherRefreshes 发射 1</span>
<span class="token comment">// Refreshed news 0 times and weather 2  // 第 150 s 时，weatherRefreshes 发射 2</span>
<span class="token comment">// Refreshed news 1 times and weather 2  // 第 200 s 时，newsRefreshes 发射 1</span>
<span class="token comment">// Refreshed news 1 times and weather 3  // 第 200 s 时，weatherRefreshes 发射 3</span>
<span class="token comment">// Refreshed news 1 times and weather 4  // 第 250 s 时，weatherRefreshes 发射 4</span>
<span class="token comment">// Refreshed news 2 times and weather 4  // 第 300 s 时，newsRefreshes 发射 2</span>
<span class="token comment">// Refreshed news 2 times and weather 5  // 第 300 s 时，weatherRefreshes 发射 5</span>
<span class="token comment">// ...</span>
</code></pre></div><h4 id="_7-3-6-reduce" tabindex="-1"><a class="header-anchor" href="#_7-3-6-reduce" aria-hidden="true">#</a> 7.3.6 <code>reduce()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">reduce</span><span class="token punctuation">(</span><span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> reducer<span class="token punctuation">)</span>

<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">reduce</span><span class="token punctuation">(</span><span class="token class-name">R</span> seed<span class="token punctuation">,</span> <span class="token class-name">BiFunction</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> reducer<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>与 <span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 的作用类似，都是将发射的数据项以一定逻辑聚合起来。
区别在于：
<span class="token number">1.</span> <span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 每发射一次数据项，聚合一次，再将每次聚合后的新数据项发射给观察者；
<span class="token number">2.</span> <span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 每发射一次数据项，聚合一次，待所有数据项都聚合完后，将最终聚合后的新数据项发射给观察者。

在聚合时传入的参数是当前发射的数据项和上一次聚合的结果值。首次聚合时需要注意：
<span class="token number">1.</span> 对于 <span class="token function">reduce</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>，发射第 <span class="token number">2</span> 个数据项时，才开始和之前发射的第 <span class="token number">1</span> 个数据项进行首次聚合。
<span class="token number">2.</span> 对于 <span class="token function">reduce</span><span class="token punctuation">(</span>seed<span class="token punctuation">,</span> reducer<span class="token punctuation">)</span>，发射第 <span class="token number">1</span> 个数据项时，和种子数据 seed 进行首次聚合。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> product <span class="token operator">*</span> x<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints 120  // 1*2*3*4*5 = 120</span>
</code></pre></div><h4 id="_7-3-7-collect" tabindex="-1"><a class="header-anchor" href="#_7-3-7-collect" aria-hidden="true">#</a> 7.3.7 <code>collect()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">collect</span><span class="token punctuation">(</span>
            <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> initialValueSupplier<span class="token punctuation">,</span> 
            <span class="token class-name">BiConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> collector<span class="token punctuation">)</span> 
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将数据收集到数据结构当中，具体的就是：
<span class="token number">1.</span> 通过 initialValueSupplier<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法返回一个 <span class="token class-name">U</span> 类型的数据结构；
<span class="token number">2.</span> 通过 collector<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">U</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">)</span> 方法将数据项 <span class="token class-name">T</span> 保存到数据结构 <span class="token class-name">U</span> 中；
<span class="token number">3.</span> 最后将数据结构 <span class="token class-name">U</span> 作为数据项发射给观察者 <span class="token class-name">SingleObserver</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Kirk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Spock&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Chekov&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sulu&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">StringJoiner</span><span class="token punctuation">(</span><span class="token string">&quot; \uD83D\uDD96 &quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StringJoiner</span><span class="token operator">::</span><span class="token function">add</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">StringJoiner</span><span class="token operator">::</span><span class="token function">toString</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints Kirk 🖖 Spock 🖖 Chekov 🖖 Sulu</span>
</code></pre></div><h4 id="_7-3-8-startwith-startwitharray" tabindex="-1"><a class="header-anchor" href="#_7-3-8-startwith-startwitharray" aria-hidden="true">#</a> 7.3.8 <code>startWith()</code>/<code>startWithArray()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token class-name">T</span> item<span class="token punctuation">)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">startWithArray</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> items<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在发射数据项之前插入数据项：
<span class="token number">1.</span> <span class="token function">startWith</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 插入一个数据项；
<span class="token number">2.</span> <span class="token function">startWithArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 插入多个数据项。
插入的数据项先发射出去。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Spock&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;McCoy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
names<span class="token punctuation">.</span><span class="token function">startWith</span><span class="token punctuation">(</span><span class="token string">&quot;Kirk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints Kirk, Spock, McCoy</span>
</code></pre></div><h4 id="_7-3-9-count" tabindex="-1"><a class="header-anchor" href="#_7-3-9-count" aria-hidden="true">#</a> 7.3.9 <code>count()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>对被观察者发射的数据项的个数进行统计，并将统计后的总个数发射给观察者 <span class="token class-name">SingleObserver</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span>。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints 3</span>
</code></pre></div><h3 id="_7-4-功能操作符" tabindex="-1"><a class="header-anchor" href="#_7-4-功能操作符" aria-hidden="true">#</a> 7.4 功能操作符</h3><h4 id="_7-4-1-delay" tabindex="-1"><a class="header-anchor" href="#_7-4-1-delay" aria-hidden="true">#</a> 7.4.1 <code>delay()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token keyword">long</span> delay<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>被观察者每次发射的数据项都会延迟 delay 时间后才被观察者接收到。
</code></pre></div><h4 id="_7-4-2-dooneach" tabindex="-1"><a class="header-anchor" href="#_7-4-2-dooneach" aria-hidden="true">#</a> 7.4.2 <code>doOnEach()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnEach</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Notification</span><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> onNotification<span class="token punctuation">)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnEach</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> observer<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者每次接收到数据项或事件之前，都会回调参数对象提供的某个方法。

对于 <span class="token function">doOnEach</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token punctuation">)</span>：
<span class="token number">1.</span> 在观察者每次接收到数据项 <span class="token class-name">T</span> 之前，都会回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Notification</span><span class="token punctuation">)</span> 方法，参数 <span class="token class-name">Notification</span> 中封装了数据项 <span class="token class-name">T</span>
<span class="token number">2.</span> 在观察者接收到 onError 事件之前，回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Notification</span><span class="token punctuation">)</span> 方法，参数 <span class="token class-name">Notification</span> 中封装了异常对象
<span class="token number">3.</span> 在观察者接收到 onComplete 事件之前，回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Notification</span><span class="token punctuation">)</span> 方法

对于 <span class="token function">doOnEach</span><span class="token punctuation">(</span><span class="token class-name">Observer</span><span class="token punctuation">)</span>：
<span class="token number">1.</span> 在观察者每次接收到数据项 <span class="token class-name">T</span> 之前，都会回调 <span class="token class-name">Observer</span><span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法
<span class="token number">2.</span> 在观察者接收到 onError 事件之前，回调 <span class="token class-name">Observer</span><span class="token punctuation">.</span><span class="token function">onError</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span><span class="token punctuation">)</span> 方法
<span class="token number">3.</span> 在观察者接收到 onComplete 事件之前，回调 <span class="token class-name">Observer</span><span class="token punctuation">.</span><span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-3-doonnext" tabindex="-1"><a class="header-anchor" href="#_7-4-3-doonnext" aria-hidden="true">#</a> 7.4.3 <code>doOnNext()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnNext</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> onNext<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者每次接收到数据项 <span class="token class-name">T</span> 之前，都会回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-4-doafternext" tabindex="-1"><a class="header-anchor" href="#_7-4-4-doafternext" aria-hidden="true">#</a> 7.4.4 <code>doAfterNext()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doAfterNext</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> onAfterNext<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者每次接收到数据项 <span class="token class-name">T</span> 之后，都会回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-5-dooncomplete" tabindex="-1"><a class="header-anchor" href="#_7-4-5-dooncomplete" aria-hidden="true">#</a> 7.4.5 <code>doOnComplete()</code></h4><div class="language-java ext-java"><pre class="language-java"><code> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnComplete</span><span class="token punctuation">(</span><span class="token class-name">Action</span> onComplete<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者接收到 onComplete 事件之前，回调 <span class="token class-name">Action</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-6-doonerror" tabindex="-1"><a class="header-anchor" href="#_7-4-6-doonerror" aria-hidden="true">#</a> 7.4.6 <code>doOnError()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnError</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> onError<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者接收到 onError 事件之前，回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-7-doonsubscribe" tabindex="-1"><a class="header-anchor" href="#_7-4-7-doonsubscribe" aria-hidden="true">#</a> 7.4.7 <code>doOnSubscribe()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Disposable</span><span class="token punctuation">&gt;</span></span> onSubscribe<span class="token punctuation">)</span> 
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者接收到 onSubscribe 事件之前，回调 <span class="token class-name">Consumer</span><span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">Disposable</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-8-doondispose" tabindex="-1"><a class="header-anchor" href="#_7-4-8-doondispose" aria-hidden="true">#</a> 7.4.8 <code>doOnDispose()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnDispose</span><span class="token punctuation">(</span><span class="token class-name">Action</span> onDispose<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>被观察者会把一个 <span class="token class-name">Disposable</span> 对象通过回调方法 <span class="token class-name">Observer</span><span class="token punctuation">.</span><span class="token function">onSubscribe</span><span class="token punctuation">(</span><span class="token class-name">Disposable</span><span class="token punctuation">)</span> 传给观察者。
在调用这个 <span class="token class-name">Disposable</span> 对象的 <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法之前，会回调 <span class="token class-name">Action</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法。
</code></pre></div><h4 id="_7-4-9-doonlifecycle" tabindex="-1"><a class="header-anchor" href="#_7-4-9-doonlifecycle" aria-hidden="true">#</a> 7.4.9 <code>doOnLifecycle()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnLifecycle</span><span class="token punctuation">(</span>
            <span class="token keyword">final</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Disposable</span><span class="token punctuation">&gt;</span></span> onSubscribe<span class="token punctuation">,</span> 
            <span class="token keyword">final</span> <span class="token class-name">Action</span> onDispose<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token function">doOnSubscribe</span><span class="token punctuation">(</span>onSubscribe<span class="token punctuation">)</span> 是通过调用 <span class="token function">doOnLifecycle</span><span class="token punctuation">(</span>onSubscribe<span class="token punctuation">,</span> <span class="token class-name">Functions</span><span class="token punctuation">.</span>EMPTY_ACTION<span class="token punctuation">)</span> 实现的；
<span class="token function">doOnDispose</span><span class="token punctuation">(</span>onDispose<span class="token punctuation">)</span> 是通过调用 <span class="token function">doOnLifecycle</span><span class="token punctuation">(</span><span class="token class-name">Functions</span><span class="token punctuation">.</span><span class="token function">emptyConsumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> onDispose<span class="token punctuation">)</span> 实现的。

也就是说，当需要同时用到操作符 doOnSubscribe 和 doOnDispose 的情况下，可以使用操作符 doOnLifecycle
</code></pre></div><h4 id="_7-4-10-doonterminate-doafterterminate" tabindex="-1"><a class="header-anchor" href="#_7-4-10-doonterminate-doafterterminate" aria-hidden="true">#</a> 7.4.10 <code>doOnTerminate()</code>/<code>doAfterTerminate()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doOnTerminate</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Action</span> onTerminate<span class="token punctuation">)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doAfterTerminate</span><span class="token punctuation">(</span><span class="token class-name">Action</span> onFinally<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token function">doOnTerminate</span><span class="token punctuation">(</span><span class="token class-name">Action</span><span class="token punctuation">)</span> 是在观察者接收到 onError 或 onComplete 事件之前，回调 <span class="token class-name">Action</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法
<span class="token function">doAfterTerminate</span><span class="token punctuation">(</span><span class="token class-name">Action</span><span class="token punctuation">)</span> 是在观察者接收到 onError 或 onComplete 事件之后，回调 <span class="token class-name">Action</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-11-dofinally" tabindex="-1"><a class="header-anchor" href="#_7-4-11-dofinally" aria-hidden="true">#</a> 7.4.11 <code>doFinally()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">doFinally</span><span class="token punctuation">(</span><span class="token class-name">Action</span> onFinally<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>在观察者接收到 onError 或 onComplete 事件之后，或者是在调用了 <span class="token class-name">Disposable</span> 对象的 <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法之后，回调 <span class="token class-name">Action</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法
</code></pre></div><h4 id="_7-4-12-onerrorreturn" tabindex="-1"><a class="header-anchor" href="#_7-4-12-onerrorreturn" aria-hidden="true">#</a> 7.4.12 <code>onErrorReturn()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">onErrorReturn</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> valueSupplier<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当被观察者发射了 onError 事件时，调用 valueSupplier 提供的 <span class="token string">&quot;T apply(Throwable) throws Exception&quot;</span> 方法：
    <span class="token number">1.</span> 如果 apply 方法返回了一个非空的数据项 <span class="token class-name">T</span>，则把该数据项 <span class="token class-name">T</span> 发射给观察者，然后再发射 onComplete 事件。
    <span class="token number">2.</span> 如果 apply 方法返回的数据项 <span class="token class-name">T</span> 为 <span class="token keyword">null</span>，则把 apply 方法接收的异常封装在 <span class="token class-name">NullPointerException</span> 异常中，
       然后重新发射 onError 事件，将 <span class="token class-name">NullPointerException</span> 异常传给观察者。
    <span class="token number">3.</span> 如果 apply 方法中抛出了一个异常，则把 apply 方法抛出的异常和 apply 方法接收的异常，
       封装到 <span class="token class-name">CompositeException</span> 异常中，然后重新发射 onError 事件，将 <span class="token class-name">CompositeException</span> 异常传给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Single</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;2A&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 将字符串 &quot;2A&quot; 按十进制解析</span>
    <span class="token punctuation">.</span><span class="token function">onErrorReturn</span><span class="token punctuation">(</span>error <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// &quot;2A&quot; 按十进制解析会报 NumberFormatException</span>
        <span class="token keyword">else</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span> <span class="token comment">// subscribe(Consumer&lt;? super T&gt; onNext, Consumer&lt;? super Throwable&gt; onError) </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">,</span>
        error <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onError should not be printed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints 0</span>
</code></pre></div><h4 id="_7-4-13-onerrorresumenext" tabindex="-1"><a class="header-anchor" href="#_7-4-13-onerrorresumenext" aria-hidden="true">#</a> 7.4.13 <code>onErrorResumeNext()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> next<span class="token punctuation">)</span> <span class="token comment">// onErrorResumeNext(Functions.justFunction(next))</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> resumeFunction<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>对于 <span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span>resumeFunction<span class="token punctuation">)</span> 方法：
当被观察者发射了 onError 事件时，会调用 resumeFunction 提供的 apply 方法返回一个新的被观察者，
接着发射这个新的被观察者中的数据项和事件，而不会再把源被观察者的 onError 事件发射给观察者。

对于 <span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> 方法：
新的被观察者直接通过参数 next 传进来，而不是通过 <span class="token class-name">Function</span><span class="token punctuation">.</span>apply 方法返回。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token comment">/*
    &lt;T, S&gt; Observable&lt;T&gt; generate(Callable&lt;S&gt; initialState, BiFunction&lt;S, Emitter&lt;T&gt;, S&gt; generator)
    其中，initialState.call() 方法返回的 S 作为第一次调用 generator.apply(S, Emitter) 方法时的参数 S，
    apply 方法返回的 S 作为下一次调用 apply 方法时的参数 S
    generate 操作符会不断地调用 apply 方法，在 apply 方法中通过 Emitter 发射数据项和事件
*/</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> emitter<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

numbers<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token operator">::</span><span class="token function">multiplyExact</span><span class="token punctuation">)</span> <span class="token comment">// multiplyExact(x, y) 的返回值是 x*y</span>
    <span class="token punctuation">.</span><span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">,</span>
        error <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onError should not be printed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 6</span>
<span class="token comment">// 24</span>
<span class="token comment">// 120</span>
<span class="token comment">// 720</span>
<span class="token comment">// 5040</span>
<span class="token comment">// 40320</span>
<span class="token comment">// 362880</span>
<span class="token comment">// 3628800</span>
<span class="token comment">// 39916800</span>
<span class="token comment">// 479001600</span>
</code></pre></div><h4 id="_7-4-14-onexceptionresumenext" tabindex="-1"><a class="header-anchor" href="#_7-4-14-onexceptionresumenext" aria-hidden="true">#</a> 7.4.14 <code>onExceptionResumeNext()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">onExceptionResumeNext</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> next<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>与 <span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> 作用类似，区别是：
<span class="token number">1.</span> 对于 <span class="token function">onErrorResumeNext</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> 当被观察者发射 onError 事件时，不管传递的异常是 <span class="token class-name">Error</span> 还是 <span class="token class-name">Exception</span>，
   都会取代 onError 事件，转而发射新的被观察者 next 中的数据项和事件。
<span class="token number">2.</span> 对于 <span class="token function">onExceptionResumeNext</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span> 当被观察者发射 onError 事件时，只有当传递的异常是 <span class="token class-name">Exception</span> 时，
   才会取代 onError 事件，转而发射新的被观察者 next 中的数据项和事件。

（<span class="token class-name">Error</span> 和 <span class="token class-name">Exception</span> 是 <span class="token class-name">Throwable</span> 的两个平级的子类）
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> exception <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">IOException</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onExceptionResumeNext</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;This value will be used to recover from the IOException&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> error <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">Error</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onExceptionResumeNext</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;This value will not be used&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>exception<span class="token punctuation">,</span> error<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
        message <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onNext: &quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">,</span>
        err <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onError: &quot;</span> <span class="token operator">+</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// onNext: This value will be used to recover from the IOException</span>
<span class="token comment">// onError: java.lang.Error</span>
</code></pre></div><h4 id="_7-4-15-retry" tabindex="-1"><a class="header-anchor" href="#_7-4-15-retry" aria-hidden="true">#</a> 7.4.15 <code>retry()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// retry(Long.MAX_VALUE, Functions.alwaysTrue())</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retry</span><span class="token punctuation">(</span><span class="token keyword">long</span> times<span class="token punctuation">)</span> <span class="token comment">// retry(times, Functions.alwaysTrue())</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retry</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span> <span class="token comment">// retry(Long.MAX_VALUE, predicate)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retry</span><span class="token punctuation">(</span><span class="token keyword">long</span> times<span class="token punctuation">,</span> <span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retry</span><span class="token punctuation">(</span><span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当被观察者发射了 onError 事件时：
<span class="token number">1.</span> 对于 <span class="token function">retry</span><span class="token punctuation">(</span>times<span class="token punctuation">,</span> predicate<span class="token punctuation">)</span>，
   若 predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span><span class="token punctuation">)</span> 返回 <span class="token boolean">true</span>，则重头开始发射数据项，反复尝试 times 次。
   且每次尝试重头发射数据项之前，都会先判断 predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span><span class="token punctuation">)</span> 是否返回 <span class="token boolean">true</span>。
   若 predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span><span class="token punctuation">)</span> 返回 <span class="token boolean">false</span>，则继续将 onError 事件发射给观察者。

<span class="token number">2.</span> 对于 <span class="token function">retry</span><span class="token punctuation">(</span>bipredicate<span class="token punctuation">)</span>，
   若 bipredicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">)</span> 返回 <span class="token boolean">true</span>，则重头开始发射数据项，
   若 bipredicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Throwable</span><span class="token punctuation">)</span> 返回 <span class="token boolean">false</span>，则继续将 onError 事件发射给观察者。
   参数 <span class="token class-name">Integer</span> 表示反复尝试的次数，第一次调用 test 方法时参数 <span class="token class-name">Integer</span> 传入 <span class="token number">1</span>，之后每次调用时 <span class="token operator">+</span><span class="token number">1</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 当发射的数据项 x &gt;= 2 时，发射 onError 事件</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IOException</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">retry</span><span class="token punctuation">(</span><span class="token punctuation">(</span>retryCount<span class="token punctuation">,</span> error<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> retryCount <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// retryCount &lt; 3 表示发射 onError 事件后，尝试重发 2 次</span>
    <span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>
        x <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onNext: &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">,</span>
        error <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onError: &quot;</span> <span class="token operator">+</span> error<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// onNext: 0 // 第 1 次重发</span>
<span class="token comment">// onNext: 1 // 第 1 次重发</span>
<span class="token comment">// onNext: 0 // 第 2 次重发</span>
<span class="token comment">// onNext: 1 // 第 2 次重发</span>
<span class="token comment">// onError: Something went wrong! // 第 3 次调用 bipredicate.test(retryCount, error) 时返回 false</span>
</code></pre></div><h4 id="_7-4-16-retryuntil" tabindex="-1"><a class="header-anchor" href="#_7-4-16-retryuntil" aria-hidden="true">#</a> 7.4.16 <code>retryUntil()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retryUntil</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">BooleanSupplier</span> stop<span class="token punctuation">)</span> 
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token function">retryUntil</span><span class="token punctuation">(</span><span class="token class-name">BooleanSupplier</span><span class="token punctuation">)</span> 是通过调用 <span class="token function">retry</span><span class="token punctuation">(</span>times<span class="token punctuation">,</span> predicate<span class="token punctuation">)</span> 方法实现的，其中：
<span class="token number">1.</span> times <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span>MAX_VALUE
<span class="token number">2.</span> predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span><span class="token punctuation">)</span> 的返回值 <span class="token operator">=</span> <span class="token operator">!</span><span class="token class-name">BooleanSupplier</span><span class="token punctuation">.</span><span class="token function">getAsBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
也就是说：
<span class="token number">1.</span> 若 stop 返回 <span class="token boolean">false</span>，即不停止重发，此时 predicate<span class="token punctuation">.</span>test 方法返回 <span class="token boolean">true</span>，即重头开始发射数据项，不限制尝试次数。
   且每次尝试重头发射数据项之前，都会先判断 stop 是否返回 <span class="token boolean">false</span>。
<span class="token number">2.</span> 若 stop 返回 <span class="token boolean">true</span>，即停止重发，此时 predicate<span class="token punctuation">.</span>test 方法返回 <span class="token boolean">false</span>，则继续将 onError 事件发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">LongAdder</span> errorCounter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LongAdder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IOException</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">doOnError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> errorCounter<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">retryUntil</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> errorCounter<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>
        x <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onNext: &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">,</span>
        error <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onError: &quot;</span> <span class="token operator">+</span> error<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// onError: Something went wrong!</span>
</code></pre></div><h4 id="_7-4-17-retrywhen" tabindex="-1"><a class="header-anchor" href="#_7-4-17-retrywhen" aria-hidden="true">#</a> 7.4.17 <code>retryWhen()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">retryWhen</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Observable</span><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> handler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射了 onError 事件时，
会将传递的 <span class="token class-name">Throwable</span> 作为数据项由被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> 发射出去，
参数 <span class="token class-name">Function</span> 提供 apply 方法，根据传入的被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> 返回另一个被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span>，
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> 发射数据项时，就会触发 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射数据项或事件。

被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 的作用只是用来判断是否让源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 重头发射数据项：
<span class="token number">1.</span> 当 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射数据项时，则源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 重头发射数据项。
<span class="token number">2.</span> 当 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射 onError 事件时，则将该 onError 事件发射给目标观察者。
<span class="token number">3.</span> 当 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射 onComplete 事件时，则将该 onComplete 事件发射给目标观察者。

注意：
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射数据项的作用只是用来触发源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 重头发射数据项。
而不会把 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射的数据项传给目标观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">interval</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IOException</span><span class="token punctuation">(</span><span class="token string">&quot;Something went wrong!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">retryWhen</span><span class="token punctuation">(</span>errors <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>error <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment">// Count the number of errors.</span>
    <span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token operator">::</span><span class="token function">addExact</span><span class="token punctuation">)</span> <span class="token comment">// Math.addExact(x, y) 的返回值是 x+y</span>

    <span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>errorCount <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;No. of errors: &quot;</span> <span class="token operator">+</span> errorCount<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// Limit the maximum number of retries.</span>
    <span class="token comment">/*
        当 takeWhile(Predicate&lt;T&gt;) 中的 Predicate.test(t)
            1. 返回 false 时，结束发射数据项，并发射一个 onComplete 事件给观察者
            2. 返回 true 时，继续发射数据项。
    */</span>
    <span class="token punctuation">.</span><span class="token function">takeWhile</span><span class="token punctuation">(</span>errorCount <span class="token operator">-&gt;</span> errorCount <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> 

    <span class="token comment">// Signal resubscribe event after some delay.</span>
    <span class="token punctuation">.</span><span class="token function">flatMapSingle</span><span class="token punctuation">(</span>errorCount <span class="token operator">-&gt;</span> <span class="token class-name">Single</span><span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span>errorCount<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>
    x <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onNext: &quot;</span> <span class="token operator">+</span> x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
    <span class="token class-name">Throwable</span><span class="token operator">::</span><span class="token function">printStackTrace</span><span class="token punctuation">,</span> <span class="token comment">// onError</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onComplete&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// onComplete</span>

<span class="token comment">// prints:</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// No. of errors: 1</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// No. of errors: 2</span>
<span class="token comment">// onNext: 0</span>
<span class="token comment">// onNext: 1</span>
<span class="token comment">// No. of errors: 3</span>
<span class="token comment">// onComplete</span>
</code></pre></div><h4 id="_7-4-18-repeat" tabindex="-1"><a class="header-anchor" href="#_7-4-18-repeat" aria-hidden="true">#</a> 7.4.18 <code>repeat()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// repeat(Long.MAX_VALUE)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token keyword">long</span> times<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当被观察者中所有的数据项发射完毕后，会再将所有的数据项重头再发射一遍，
重发 times 次之后才会发射 onCompelte 事件给观察者。
</code></pre></div><h4 id="_7-4-19-repeatwhen" tabindex="-1"><a class="header-anchor" href="#_7-4-19-repeatwhen" aria-hidden="true">#</a> 7.4.19 <code>repeatWhen()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">repeatWhen</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">Observable</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> handler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射了 onComplete 事件时，
会先生成一个信号数据项由被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> 发射出去，
参数 <span class="token class-name">Function</span> 提供 apply 方法，根据传入的被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> 返回另一个被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span>，
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> 发射数据项时，就会触发 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射数据项或事件。

被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 的作用只是用来判断是否让源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 重头发射数据项：
<span class="token number">1.</span> 当 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射数据项时，则源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 重头发射数据项。
<span class="token number">2.</span> 当 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射 onError 事件时，则将该 onError 事件发射给目标观察者。
<span class="token number">3.</span> 当 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射 onComplete 事件时，则将该 onComplete 事件发射给目标观察者。

注意：
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射数据项的作用只是用来触发源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 重头发射数据项。
而不会把 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> 发射的数据项传给目标观察者。
</code></pre></div><h4 id="_7-4-20-subscribeon" tabindex="-1"><a class="header-anchor" href="#_7-4-20-subscribeon" aria-hidden="true">#</a> 7.4.20 <code>subscribeOn()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">subscribeOn</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>指定被观察者的线程。即：发射数据项和事件所在的线程。

需要注意的是：如果多次调用此方法，只有第一次有效。
</code></pre></div><h4 id="_7-4-21-observeon" tabindex="-1"><a class="header-anchor" href="#_7-4-21-observeon" aria-hidden="true">#</a> 7.4.21 <code>observeOn()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">observeOn</span><span class="token punctuation">(</span><span class="token class-name">Scheduler</span> scheduler<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>指定观察者的线程。即：接收数据项和事件所在的线程。

每指定一次就会生效一次。

注意：（待验证）
调用 <span class="token function">subscribeOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 指定被观察者的线程后，如果没有调用 <span class="token function">observeOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 指定观察者的线程，
那么被观察者在哪个线程，观察者也就在哪个线程。
</code></pre></div><h3 id="_7-5-过滤操作符" tabindex="-1"><a class="header-anchor" href="#_7-5-过滤操作符" aria-hidden="true">#</a> 7.5 过滤操作符</h3><h4 id="_7-5-1-filter" tabindex="-1"><a class="header-anchor" href="#_7-5-1-filter" aria-hidden="true">#</a> 7.5.1 <code>filter()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将被观察者发射的数据项 <span class="token class-name">T</span> 先传给 <span class="token class-name">Predicate</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法，
若 test 方法返回 <span class="token boolean">true</span>，则将数据项 <span class="token class-name">T</span> 发射给观察者，否则就过滤掉不发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>x <span class="token operator">-&gt;</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 2</span>
<span class="token comment">// 4</span>
<span class="token comment">// 6</span>
</code></pre></div><h4 id="_7-5-2-oftype" tabindex="-1"><a class="header-anchor" href="#_7-5-2-oftype" aria-hidden="true">#</a> 7.5.2 <code>ofType()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">ofType</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">)</span> <span class="token comment">// filter(Functions.isInstanceOf(clazz)).cast(clazz)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当被观察者发射的数据项 <span class="token class-name">T</span> 是 <span class="token class-name">U</span> 类型或 <span class="token class-name">U</span> 的子类类型时，将数据项 <span class="token class-name">T</span> 强转为 <span class="token class-name">U</span> 类型，然后再发射给观察者 <span class="token class-name">Observer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span>。
如果数据项 <span class="token class-name">T</span> 不是 <span class="token class-name">U</span> 类型或 <span class="token class-name">U</span> 的子类类型，那么就过滤掉不发射。

操作符 ofType 内部使用到了 filter 操作符和 cast 操作符，其中：
<span class="token number">1.</span> filter 操作符用于判断数据项 <span class="token class-name">T</span> 是否为  <span class="token class-name">U</span> 类型或 <span class="token class-name">U</span> 的子类类型；
<span class="token number">2.</span> cast 操作符用于将 filter 操作符过滤后的数据项 <span class="token class-name">T</span> 强转为 <span class="token class-name">U</span> 类型。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2.71</span><span class="token punctuation">,</span> <span class="token number">2f</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> integers <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">ofType</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

integers<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 3</span>
<span class="token comment">// 7</span>
</code></pre></div><h4 id="_7-5-3-skip" tabindex="-1"><a class="header-anchor" href="#_7-5-3-skip" aria-hidden="true">#</a> 7.5.3 <code>skip()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">skip</span><span class="token punctuation">(</span><span class="token keyword">long</span> count<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将被观察者发射的前 count 个数据项过滤掉，不发射给观察者。
即：跳过前 count 个数据项，从第 count<span class="token operator">+</span><span class="token number">1</span> 个数据项开始，才将数据项发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 5</span>
<span class="token comment">// 6</span>
<span class="token comment">// 7</span>
<span class="token comment">// 8</span>
<span class="token comment">// 9</span>
<span class="token comment">// 10</span>
</code></pre></div><h4 id="_7-5-4-distinct" tabindex="-1"><a class="header-anchor" href="#_7-5-4-distinct" aria-hidden="true">#</a> 7.5.4 <code>distinct()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// distinct(Functions.identity(), Functions.createHashSet())</span>

<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinct</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keySelector<span class="token punctuation">)</span> <span class="token comment">// distinct(keySelector, Functions.createHashSet());</span>

<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinct</span><span class="token punctuation">(</span>
            <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keySelector<span class="token punctuation">,</span> 
            <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Collection</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> collectionSupplier<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>对于 <span class="token function">distinct</span><span class="token punctuation">(</span>keySelector<span class="token punctuation">,</span> collectionSupplier<span class="token punctuation">)</span> 方法：
<span class="token number">1.</span> keySelector 提供 <span class="token string">&quot;K apply(T)&quot;</span> 方法，用于将被观察者发射的数据项 <span class="token class-name">T</span> 转换成元素 <span class="token class-name">K</span>。
<span class="token number">2.</span> collectionSupplier 提供 <span class="token string">&quot;Collection&lt;K&gt; call()&quot;</span> 方法，用于返回一个存放元素 <span class="token class-name">K</span> 的容器 <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span>。
如果被观察者发射的数据项 <span class="token class-name">T</span> 所转换成的元素 <span class="token class-name">K</span> 能够保存到容器 <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> 中，那么就将这个数据项 <span class="token class-name">T</span> 发射给观察者。
（容器 <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> 会在被观察者发射 onError 或 onComplete 事件时清空）

对于 <span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法：
<span class="token number">1.</span> keySelector 不会对数据项 <span class="token class-name">T</span> 进行转换，即元素 <span class="token class-name">K</span> 还是数据项 <span class="token class-name">T</span>。
<span class="token number">2.</span> collectionSupplier 的 <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法返回的容器是 <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span>。
因此，如果被观察者发射的数据项 <span class="token class-name">T</span> 能够保存到 <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 容器中，那么就将该数据项 <span class="token class-name">T</span> 发射给观察者。
而 <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 容器的特点是不能保存相同的元素。
也就是说：对于后发射的数据项，如果与先发射的数据项相同，那么就过滤掉，不发射给观察者。
简单地说：<span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法用于过滤掉重复的数据项。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>
<span class="token comment">// 4</span>
<span class="token comment">// 1</span>
</code></pre></div><h4 id="_7-5-5-distinctuntilchanged" tabindex="-1"><a class="header-anchor" href="#_7-5-5-distinctuntilchanged" aria-hidden="true">#</a> 7.5.5 <code>distinctUntilChanged()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// distinctUntilChanged(Functions.identity())</span>

<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keySelector<span class="token punctuation">)</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> comparer<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>对于 <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span>keySelector<span class="token punctuation">)</span> 方法：
<span class="token number">1.</span> keySelector 提供 <span class="token string">&quot;K apply(T)&quot;</span> 方法，用于将被观察者发射的数据项 <span class="token class-name">T</span> 转换成元素 <span class="token class-name">K</span>。
如果两个前后相邻发射的数据项 t1、t2 各自转换后的元素 k1、k2 相同，那么就将后发射的数据项 t2 过滤掉，不发射给观察者。

对于 <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法：
<span class="token number">1.</span> keySelector 不会对数据项 <span class="token class-name">T</span> 进行转换，即元素 <span class="token class-name">K</span> 还是数据项 <span class="token class-name">T</span>。
如果两个前后相邻发射的数据项 t1、t2 相同，那么就将后发射的数据项 t2 过滤掉，不发射给观察者。

对于 <span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span>comparer<span class="token punctuation">)</span> 方法：
<span class="token number">1.</span> comparer 提供 <span class="token string">&quot;boolean test(T t1, T t2)&quot;</span> 方法，用于判断 <span class="token class-name">T</span> 类型的两个参数 t1、t2 是否相同。
通过 comparer 提供的 test 方法判断两个前后相邻发射数据项 t1、t2 是否相同，
若 test 方法返回 <span class="token boolean">true</span>，则相同，此时过滤掉后发射的数据项 t2，不发射给观察者。
若 test 方法返回 <span class="token boolean">false</span>，则不相同，此时将 t1、t2 都发射给观察者。

简单地说：三个重载的 distinctUntilChanged 方法都是用于过滤掉连续重复的数据项。（只是判断数据项是否重复的条件不同）
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">distinctUntilChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>
<span class="token comment">// 4</span>
</code></pre></div><h4 id="_7-5-6-take" tabindex="-1"><a class="header-anchor" href="#_7-5-6-take" aria-hidden="true">#</a> 7.5.6 <code>take()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">take</span><span class="token punctuation">(</span><span class="token keyword">long</span> count<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>只将被观察者中的前 count 个数据项发射给观察者。对于后面的所有数据项都过滤掉，不发射给观察者。
（与 <span class="token function">skip</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> 相反）
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example </span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>
<span class="token comment">// 4</span>
</code></pre></div><h4 id="_7-5-7-debounce" tabindex="-1"><a class="header-anchor" href="#_7-5-7-debounce" aria-hidden="true">#</a> 7.5.7 <code>debounce()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">long</span> timeout<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>如果前后相邻的两个数据项发射的时间间隔小于设定的时间间隔 timeout ，那么前面的数据项就不会发射给观察者。

也就是说，一个数据项是否发射给观察者，要看后面相邻的那个数据项的发射时间。

注意：最后一个的数据项一定会发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>

<span class="token comment">// Diagram:</span>
<span class="token comment">// -A--------------B----C-D-------------------E-|----&gt;</span>
<span class="token comment">//  a---------1s</span>
<span class="token comment">//                 b---------1s</span>
<span class="token comment">//                      c---------1s</span>
<span class="token comment">//                        d---------1s</span>
<span class="token comment">//                                            e-|----&gt;</span>
<span class="token comment">// -----------A---------------------D-----------E-|--&gt;</span>

<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>emitter <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1_500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2_000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span><span class="token string">&quot;E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    emitter<span class="token punctuation">.</span><span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

source<span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span><span class="token class-name">Schedulers</span><span class="token punctuation">.</span><span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>
                item <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onNext: &quot;</span> <span class="token operator">+</span> item<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">Throwable</span><span class="token operator">::</span><span class="token function">printStackTrace</span><span class="token punctuation">,</span>
                <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onComplete&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// onNext: A</span>
<span class="token comment">// onNext: D</span>
<span class="token comment">// onNext: E</span>
<span class="token comment">// onComplete</span>
</code></pre></div><h4 id="_7-5-8-firstelement-lastelement" tabindex="-1"><a class="header-anchor" href="#_7-5-8-firstelement-lastelement" aria-hidden="true">#</a> 7.5.8 <code>firstElement()</code>/<code>lastElement()</code></h4><ol><li><p><code>firstElement()</code>：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">firstElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>只将被观察者中的第一个数据项发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example </span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> first <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">firstElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

first<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints A</span>
</code></pre></div></li><li><p><code>lastElement()</code>：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">lastElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>只将被观察者中的最后一个数据项发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example </span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> last <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">lastElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

last<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints C</span>
</code></pre></div></li></ol><h4 id="_7-5-9-elementat-elementatorerror" tabindex="-1"><a class="header-anchor" href="#_7-5-9-elementat-elementatorerror" aria-hidden="true">#</a> 7.5.9 <code>elementAt()</code>/<code>elementAtOrError()</code></h4><ol><li><p><code>elementAt()</code>：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">elementAt</span><span class="token punctuation">(</span><span class="token keyword">long</span> index<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>只将被观察者的数据项序列中索引 index 处的数据项发射给观察者。
如果索引 index 越界，那么发射一个 onComplete 事件给观察者，而不会发射 onError 事件给观察者。

注意：<span class="token class-name">Maybe</span> 类型的被观察者要么发射 <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 数据项；要么发射 onComplete 事件；要么发射 onError 事件。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token number">1L</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> emitter<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
    emitter<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> state <span class="token operator">+</span> <span class="token number">1L</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> product <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1*2=2, 2*3=6, 6*4=24, 24*5=120, 120*6=720, ...</span>

<span class="token class-name">Maybe</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> element <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints 720</span>
</code></pre></div></li><li><p><code>elementAtOrError()</code>：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">elementAtOrError</span><span class="token punctuation">(</span><span class="token keyword">long</span> index<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>只将被观察者的数据项序列中索引 index 处的数据项发射给观察者。
如果索引 index 越界，那么发射一个 onError 事件给观察者。

注意：<span class="token class-name">Single</span> 类型的被观察者要么发射 <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 数据项；要么发射 onError 事件。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">just</span><span class="token punctuation">(</span><span class="token string">&quot;Kirk&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Spock&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Chekov&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Sulu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> element <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">elementAtOrError</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>
    name <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onSuccess will not be printed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    error <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;onError: &quot;</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// prints:</span>
<span class="token comment">// onError: java.util.NoSuchElementException</span>
</code></pre></div></li></ol><h3 id="_7-6-条件操作符" tabindex="-1"><a class="header-anchor" href="#_7-6-条件操作符" aria-hidden="true">#</a> 7.6 条件操作符</h3><h4 id="_7-6-1-all" tabindex="-1"><a class="header-anchor" href="#_7-6-1-all" aria-hidden="true">#</a> 7.6.1 <code>all()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将被观察者发射的数据项 <span class="token class-name">T</span> 都传给 predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法，
若对于每个数据项 <span class="token class-name">T</span> 使得 test 方法都返回 <span class="token boolean">true</span>，则将布尔值 <span class="token boolean">true</span> 发射给观察者。
若只要有一个数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">false</span>，则将布尔值 <span class="token boolean">false</span> 发射给观察者。

简单地说：<span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法用于判断数据项序列是否全部满足某个条件。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>integer <span class="token operator">-&gt;</span> integer<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
    <span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>success<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Success: &quot;</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-2-takewhile" tabindex="-1"><a class="header-anchor" href="#_7-6-2-takewhile" aria-hidden="true">#</a> 7.6.2 <code>takeWhile()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">takeWhile</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将被观察者发射的数据项 <span class="token class-name">T</span> 传给 predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法，
若对于数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">true</span>，则将该数据项 <span class="token class-name">T</span> 发射给观察者。
若当某个发射的数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">false</span> 时，
则将该数据项以及后面的所有数据项都丢弃掉，不发射给观察者了，而是发射一个 onComplete 事件给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example </span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">takeWhile</span><span class="token punctuation">(</span>value <span class="token operator">-&gt;</span> value <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">)</span>
           <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;next: %s\n&quot;</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
                   throwable <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;error: %s&quot;</span><span class="token punctuation">,</span> throwable<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//onError</span>
                   <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Completed&quot;</span><span class="token punctuation">)</span> <span class="token comment">//onComplete</span>
           <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-3-takeuntil" tabindex="-1"><a class="header-anchor" href="#_7-6-3-takeuntil" aria-hidden="true">#</a> 7.6.3 <code>takeUntil()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">takeUntil</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> stopPredicate<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>先将被观察者发射的数据项 <span class="token class-name">T</span> 直接发射给观察者，
然后再将该数据项 <span class="token class-name">T</span> 传给 stopPredicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法，
若对于数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">true</span>，则停止发射后面的所有数据项，而是发射一个 onComplete 事件给观察者。
若对于数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">false</span>，则继续发射后面的数据项。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">takeUntil</span><span class="token punctuation">(</span>value <span class="token operator">-&gt;</span> value <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;next: %s\n&quot;</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
        throwable <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;error: %s&quot;</span><span class="token punctuation">,</span> throwable<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//onError</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Completed&quot;</span><span class="token punctuation">)</span> <span class="token comment">//onComplete</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-4-skipwhile" tabindex="-1"><a class="header-anchor" href="#_7-6-4-skipwhile" aria-hidden="true">#</a> 7.6.4 <code>skipWhile()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">skipWhile</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将被观察者发射的数据项 <span class="token class-name">T</span> 传给 predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> 方法，
若对于数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">true</span>，则将该数据项 <span class="token class-name">T</span> 丢弃掉，不发射给观察者。
若对于数据项 <span class="token class-name">T</span> 使得 test 方法返回 <span class="token boolean">false</span>，则将该数据项 <span class="token class-name">T</span> 发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">skipWhile</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> next <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;next: %s\n&quot;</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
        throwable <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;error: %s&quot;</span><span class="token punctuation">,</span> throwable<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//onError</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Completed&quot;</span><span class="token punctuation">)</span> <span class="token comment">//onComplete</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-5-skiluntil" tabindex="-1"><a class="header-anchor" href="#_7-6-5-skiluntil" aria-hidden="true">#</a> 7.6.5 <code>skilUntil()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">skipUntil</span><span class="token punctuation">(</span><span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>当参数被观察者 other 没有发射数据项之前，源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射的数据项都被丢弃掉，不会发射给观察者。
直到参数被观察者 other 发射了数据项之后，源被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 发射的数据项才会发射给观察者。

注意：目标观察者不会接收到参数被观察者 other 发射的数据项。参数被观察者 other 发射数据项的目的仅仅是作为触发信号。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span> observable1 <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
observable1<span class="token punctuation">.</span><span class="token function">skipUntil</span><span class="token punctuation">(</span><span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;next: %s\n&quot;</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
        throwable <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;error: %s&quot;</span><span class="token punctuation">,</span> throwable<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//onError</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Completed&quot;</span><span class="token punctuation">)</span> <span class="token comment">//onComplete</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-6-sequenceequal" tabindex="-1"><a class="header-anchor" href="#_7-6-6-sequenceequal" aria-hidden="true">#</a> 7.6.6 <code>sequenceEqual()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">sequenceEqual</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">)</span> <span class="token comment">// sequenceEqual(source1, source2, ObjectHelper.equalsPredicate(), bufferSize);</span>

<span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">sequenceEqual</span><span class="token punctuation">(</span>
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source1<span class="token punctuation">,</span> 
            <span class="token class-name">ObservableSource</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> source2<span class="token punctuation">,</span>
            <span class="token class-name">BiPredicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> isEqual<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>通过 <span class="token class-name">BiPredicate</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">T</span> t1<span class="token punctuation">,</span> <span class="token class-name">T</span> t2<span class="token punctuation">)</span> 方法判断被观察者 source1 和 source2 的数据项序列是否相同，
若相同，则发射一个数据项 <span class="token boolean">true</span> 给观察者；
若不相同，则发射一个数据项 <span class="token boolean">false</span> 给观察者。

其中 test 方法的参数 t1 传入被观察者 source1 中的数据项；
其中 test 方法的参数 t2 传入被观察者 source2 中的数据项；

<span class="token class-name">ObjectHelper</span><span class="token punctuation">.</span><span class="token function">equalsPredicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法返回的 <span class="token class-name">BiPredicate</span> 实例用于比较 t1 和 t2 是否为同一个对象。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Flowable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> flowable1 <span class="token operator">=</span> <span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>next<span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;flowable1: &quot;</span><span class="token operator">+</span>next <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Flowable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> flowable2 <span class="token operator">=</span> <span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>next<span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;flowable2: &quot;</span><span class="token operator">+</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">sequenceEqual</span><span class="token punctuation">(</span><span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">fromPublisher</span><span class="token punctuation">(</span>flowable1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">fromPublisher</span><span class="token punctuation">(</span>flowable2<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>sequenceEqual<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;sequenceEqual: &quot;</span><span class="token operator">+</span>sequenceEqual<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-7-contains" tabindex="-1"><a class="header-anchor" href="#_7-6-7-contains" aria-hidden="true">#</a> 7.6.7 <code>contains()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Object</span> element<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>判断被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 的数据项序列中是否存在数据项 element，
若存在，则发射一个布尔数据项 <span class="token boolean">true</span> 给观察者；
若不存在，则发射一个布尔数据项 <span class="token boolean">false</span> 给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doOnNext</span><span class="token punctuation">(</span>next<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>contains<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;contains: &quot;</span><span class="token operator">+</span>contains<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-8-isempty" tabindex="-1"><a class="header-anchor" href="#_7-6-8-isempty" aria-hidden="true">#</a> 7.6.8 <code>isEmpty()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Single</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>判断被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 的数据项序列是否为空，
若为空，则发射一个布尔数据项 <span class="token boolean">true</span> 给观察者；
若不为空，则发射一个布尔数据项 <span class="token boolean">false</span> 给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Flowable</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>isEmpty <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;isEmpty: %s&quot;</span><span class="token punctuation">,</span> isEmpty<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-9-amb" tabindex="-1"><a class="header-anchor" href="#_7-6-9-amb" aria-hidden="true">#</a> 7.6.9 <code>amb()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">amb</span><span class="token punctuation">(</span><span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">ObservableSource</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> sources<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>将保存了多个被观察者 <span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> 的集合传给参数 sources，
对于集合 sources 中的某个被观察者，如果最先发射了第一个数据项，那么集合中的其他被观察者都会被丢弃掉。
于是，只将最先发射第一个数据项的被观察者中的数据项序列发射给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
<span class="token class-name">Observable</span> source1 <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span> source2 <span class="token operator">=</span> <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">amb</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>source1<span class="token punctuation">,</span> source2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;next: %s\n&quot;</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
        throwable <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;error: %s\n&quot;</span><span class="token punctuation">,</span> throwable<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//onError</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Completed&quot;</span><span class="token punctuation">)</span> <span class="token comment">//onComplete</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_7-6-10-defaultifempty" tabindex="-1"><a class="header-anchor" href="#_7-6-10-defaultifempty" aria-hidden="true">#</a> 7.6.10 <code>defaultIfEmpty()</code></h4><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">Observable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">defaultIfEmpty</span><span class="token punctuation">(</span><span class="token class-name">T</span> defaultItem<span class="token punctuation">)</span>
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code>如果源被观察者在发射 onComplete 事件之前没有发射过任何数据项给观察者，
那么就会先将参数 defaultItem 表示的默认数据项发射给观察者，然后再发射 onComplete 事件给观察者。
</code></pre></div><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// example</span>
 <span class="token class-name">Observable</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultIfEmpty</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">blockingSubscribe</span><span class="token punctuation">(</span>next <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;next: %s\n&quot;</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// onNext</span>
                throwable <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;error: %s&quot;</span><span class="token punctuation">,</span> throwable<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//onError</span>
                <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Completed&quot;</span><span class="token punctuation">)</span> <span class="token comment">//onComplete</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zengkaiqiang562/JavaGuide/edit/main/docs/zkq/third-party-open-project/rxjava/operator.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/7/7 23:59:00</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zengkaiqiang562@163.com">zengk</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zkq/third-party-open-project/rxjava/overview.html" class="nav-link prev" arialabel="RxJava概述"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->RxJava概述</div></a><a href="/zkq/third-party-open-project/rxjava/scheduler.html" class="nav-link next" arialabel="调度器（Scheduler）"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">调度器（Scheduler）<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">Copyright © 2024 Zenk562</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.2a01fc36.js" defer></script>
  </body>
</html>
